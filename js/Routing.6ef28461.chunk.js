/*! For license information please see Routing.6ef28461.chunk.js.LICENSE.txt */
(this["webpackJsonpcheckout-prism-merchant-ui"]=this["webpackJsonpcheckout-prism-merchant-ui"]||[]).push([[10],{1059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genericHashLink=v,t.NavHashLink=t.HashLink=void 0;var r=a(n(0)),o=a(n(4)),i=n(41);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u="",d=null,h=null,p=null;function f(){u="",null!==d&&d.disconnect(),null!==h&&(window.clearTimeout(h),h=null)}function b(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function m(){var e=null;if("#"===u)e=document.body;else{var t=u.replace("#","");null===(e=document.getElementById(t))&&"#top"===u&&(e=document.body)}if(null!==e){p(e);var n=e.getAttribute("tabindex");return null!==n||b(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==n||b(e)||(e.blur(),e.removeAttribute("tabindex")),f(),!0}return!1}function v(e){return r.default.forwardRef((function(t,n){var o="";"string"===typeof t.to&&t.to.includes("#")?o="#".concat(t.to.split("#").slice(1).join("#")):"object"===l(t.to)&&"string"===typeof t.to.hash&&(o=t.to.hash);var a={};e===i.NavLink&&(a.isActive=function(e,t){return e&&e.isExact&&t.hash===o});t.scroll,t.smooth,t.timeout,t.elementId;var b=c(t,["scroll","smooth","timeout","elementId"]);return r.default.createElement(e,s({},a,b,{onClick:function(e){f(),u=t.elementId?"#".concat(t.elementId):o,t.onClick&&t.onClick(e),""!==u&&(p=t.scroll||function(e){return t.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},function(e){window.setTimeout((function(){!1===m()&&(null===d&&(d=new MutationObserver(m)),d.observe(document,{attributes:!0,childList:!0,subtree:!0}),h=window.setTimeout((function(){f()}),e||1e4))}),0)}(t.timeout))},ref:n}),t.children)}))}var g=v(i.Link);t.HashLink=g;var j=v(i.NavLink);t.NavHashLink=j;var y={onClick:o.default.func,children:o.default.node,scroll:o.default.func,timeout:o.default.number,elementId:o.default.string,to:o.default.oneOfType([o.default.string,o.default.object])};g.propTypes=y,j.propTypes=y},1221:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(8),i=(n(0),n(5)),a=n(547),s=n(451),c=n(967),l=n(886),u=n(529),d=n(968);function h(){const e=Object(o.a)(["\n  height: calc(100vh - 120px);\n"]);return h=function(){return e},e}const p=i.default.div(h());t.default=()=>Object(r.jsxs)(a.a,{children:[Object(r.jsxs)(p,{children:[Object(r.jsx)(u.a,{title:"Routing",modalKey:s.a.ROUTING_INFO_BINARY}),Object(r.jsx)(c.a,{})]}),Object(r.jsx)(d.a,{}),Object(r.jsx)(l.a,{})]})},1222:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(8),i=(n(0),n(5)),a=n(547),s=n(451),c=n(967),l=n(886),u=n(529),d=n(968);function h(){const e=Object(o.a)(["\n  height: calc(100vh - 120px);\n"]);return h=function(){return e},e}const p=i.default.div(h());t.default=()=>Object(r.jsxs)(a.a,{children:[Object(r.jsxs)(p,{children:[Object(r.jsx)(u.a,{title:"Test routing",modalKey:s.a.ROUTING_INFO_BINARY}),Object(r.jsx)(c.a,{})]}),Object(r.jsx)(d.a,{}),Object(r.jsx)(l.a,{})]})},451:function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.ADD_BLACKLIST_ENTRY="ADD_BLACKLIST_ENTRY",e.DELETE_BLACKLIST_ENTRY="DELETE_BLACKLIST_ENTRY",e.IMPORT_BLACKLIST_ENTRY="IMPORT_BLACKLIST_ENTRY",e.ADD_SCORING_RULE="ADD_SCORING_RULE",e.DELETE_SCORING_RULE="DELETE_SCORING_RULE",e.ADD_RISK_PROFILE_SCORING_RULE="ADD_RISK_PROFILE_SCORING_RULE",e.ADD_LIST="ADD_LIST",e.ADD_LISTS_ENTRY="ADD_LISTS_ENTRY",e.DELETE_LIST_ENTRY="DELETE_LIST_ENTRY",e.DELETE_CUSTOM_LIST="DELETE_CUSTOM_LIST",e.ADD_ROUTING_TREE_NODE="ADD_ROUTING_TREE_NODE",e.ROUTING_INFO="ROUTING_INFO",e.ROUTING_INFO_BINARY="ROUTING_INFO_BINARY",e.ROUTING_STEP_INFO="ROUTING_STEP_INFO",e.RISK_PROFILE_INFO="RISK_PROFILE_INFO",e.RULE_PROFILE_INFO="RULE_PROFILE_INFO",e.LIST_INFO="LIST_INFO",e.ADD_RISK_PROFILE="ADD_RISK_PROFILE",e.ROUTING_RISK_PROFILE_FORM="ROUTING_RISK_PROFILE_FORM",e.ROUTING_ML_MODULE_FORM="ROUTING_ML_MODULE_FORM",e.DELETE_RISK_PROFILE="DELETE_RISK_PROFILE",e.RENAME_RISK_PROFILE="RENAME_RISK_PROFILE",e.COPY_RISK_PROFILE="COPY_RISK_PROFILE",e.RESET_ROUTING_TREE_DATA="RESET_ROUTING_TREE_DATA",e.SAVE_PRIMARY_ROUTING_TREE_DATA="SAVE_PRIMARY_ROUTING_TREE_DATA",e.PROMOTE_DRAFT_ROUTING_TREE="PROMOTE_DRAFT_ROUTING_TREE",e.RULES_EDITOR_INFO="RULES_EDITOR_INFO",e.RULE_BUILDER_NAME_PROMPT="RULE_BUILDER_NAME_PROMPT",e.RULE_BUILDER_RULE_PROMPT="RULE_BUILDER_RULE_PROMPT",e.RULE_BUILDER_SAVE_PROMPT="RULE_BUILDER_SAVE_PROMPT",e.DELETE_ROUTING_TREE_ELEMENT="DELETE_ROUTING_TREE_ELEMENT",e.ROUTING_CREATE_RISK_PROFILE_FORM="ROUTING_CREATE_RISK_PROFILE_FORM",e.ML_INFO_MODAL="ML_INFO_MODAL"}(r||(r={}))},452:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6),o=n(468),i=n(0);var a=e=>{const t=Object(i.useContext)(o.c),n=Object(i.useContext)(o.b),a=Object(i.useCallback)(((t={})=>{n((n=>Object(r.a)(Object(r.a)({},n),{},{[e]:t})))}),[e,n]),s=Object(i.useCallback)((()=>{a(null)}),[a]);return{modalData:t[e],openModal:a,closeModal:s}}},468:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(1),o=n(7),i=n(0),a=n.n(i);const s=a.a.createContext({}),c=a.a.createContext((()=>{})),l=({children:e,defaultModals:t={}})=>{const n=Object(i.useState)(t),a=Object(o.a)(n,2),l=a[0],u=a[1];return Object(r.jsx)(s.Provider,{value:l,children:Object(r.jsx)(c.Provider,{value:u,children:e})})}},471:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),o=n(17),i=n.n(o),a=n(25),s=n(139),c=n(138),l=n(76),u=n(0);var d=(e,t={})=>{const n=Object(s.a)(),o=Object(l.a)();return Object(u.useCallback)(function(){var s=Object(a.a)(i.a.mark((function a(s,l,u=t){var d,h,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:return d=t.sent,h=l?"/".concat(l):"",t.prev=4,t.next=7,Object(c.d)("".concat(e).concat(h),s,Object(r.a)(Object(r.a)({},u),{},{headers:Object(r.a)(Object(r.a)({},d),u&&u.headers)}));case 7:return p=t.sent,t.abrupt("return",p.data);case 11:throw t.prev=11,t.t0=t.catch(4),401===t.t0.response.status&&o.logout(),t.t0;case 15:case"end":return t.stop()}}),a,null,[[4,11]])})));return function(e,t){return s.apply(this,arguments)}}(),[o,n,t,e])},h=n(34);const p={put:d,post:n(577).a},f=(e,t,n={})=>{const o=(0,p[e])(t);return Object(h.c)((({data:e,path:t})=>o(e,t)),Object(r.a)(Object(r.a)({},n),{},{throwOnError:!0}))}},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(145),o=n(0);var i=()=>Object(o.useContext)(r.a)},484:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(8),o=n(5),i=n(2);function a(){const e=Object(r.a)([""]);return a=function(){return e},e}var s=Object(o.default)(i.TextInline).attrs((()=>({$as:"strong",fontWeight:500})))(a());function c(){const e=Object(r.a)([""]);return c=function(){return e},e}var l=Object(o.default)(i.Text).attrs((()=>({lineHeight:"24px",mb:2})))(c())},485:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),o=n(7),i=n(5),a=n(0),s=n(597),c=n(2),l=Object(i.default)(c.Box).withConfig({displayName:"TooltipButtonWrapper___StyledBox",componentId:"sc-1orezf7-0"})(["button{pointer-events:",";}"],(e=>e._css));var u=({text:e,children:t,enabled:n,defaultDirection:i="top"})=>{const c=Object(a.useState)(!1),u=Object(o.a)(c,2),d=u[0],h=u[1];return n&&e?Object(r.jsx)(s.a,{text:e,show:d,defaultDirection:i,children:Object(r.jsx)(l,{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),_css:n?"none":"auto",children:t})}):Object(r.jsx)(r.Fragment,{children:t})}},487:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(1),o=(n(0),n(452)),i=n(2);var a=({modalKey:e,title:t,children:n})=>{const a=Object(o.a)(e),s=a.modalData,c=a.closeModal;return s?Object(r.jsx)(i.Modal,{size:"large",type:"success",title:t,closeModal:c,children:n}):null},s=n(5),c=n(18),l=Object(s.default)(c.l).withConfig({displayName:"OpenInfoModalButton___StyledIconActionInfo",componentId:"fm6jll-0"})(["margin-right:6px;"]);var u=({modalKey:e,buttonText:t="Learn more"})=>{const n=Object(o.a)(e).openModal;return Object(r.jsxs)(i.OutlineButton,{onClick:()=>n(),children:[Object(r.jsx)(l,{}),t]})}},494:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return g}));var r=n(17),o=n.n(r),i=n(501),a=n(25);const s=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r){var a,s,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(i.a)(n),e.prev=1,a.s();case 3:if((s=a.n()).done){e.next=12;break}return c=s.value,e.next=7,c(t,r);case 7:if(null===(l=e.sent)){e.next=10;break}return e.abrupt("return",l);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t,n,r){return e.apply(this,arguments)}}(),c=function(){var e=Object(a.a)(o.a.mark((function e(t,n){var r,i,a,c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},i=Object.keys(n),a=0;case 3:if(!(a<i.length)){e.next=13;break}return c=i[a],l=n[c],e.next=8,s(t[c],l,t);case 8:null!==(u=e.sent)&&(r[c]=u);case 10:a++,e.next=3;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var l=e=>function(){var t=Object(a.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(n,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=n(716),d=n.n(u);const h=(e="This value is required")=>t=>d.a.empty(t)||d.a.not.existy(t)||"string"===typeof t&&d.a.empty(t.trim())?e:null,p=(e="This value must be a integer")=>t=>d.a.not.integer(Number(t))?e:null,f=(e="This value is required")=>t=>{for(var n=0,r=Object.values(t);n<r.length;n++){let t=r[n];if(d.a.empty(t)||d.a.not.existy(t))return e}return null},b=(e,t="The value exceeds the maximum length of ".concat(e," characters"))=>n=>n.length>=e?t:null,m=(e,t="The value contains invalid characters")=>n=>e.test(n)?null:t,v=(e,t="The value contains invalid characters")=>n=>e.test(n)?t:null,g=(e,t="The value must be a unique")=>(n,r)=>n===r[e]?t:null},495:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(1),o=n(7),i=n(0),a=n(528);const s=Object(i.createContext)(void 0),c=({children:e})=>{const t=Object(i.useState)(a.a.exampleCombinations.default.helpKey),n=Object(o.a)(t,2),c=n[0],l=n[1],u=Object(i.useMemo)((()=>({helpContentKey:c,setHelpContentKey:l})),[c]);return Object(r.jsx)(s.Provider,{value:u,children:e})},l=()=>{const e=Object(i.useContext)(s);if(void 0===e)throw new Error("useRulesBuilderHelp must be used within a RulesBuilderHelpProvider");return e}},508:function(e,t,n){"use strict";n.d(t,"d",(function(){return r.a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(549),o=n(6),i=n(40),a=n(471);const s=(e,t)=>Object(a.a)("post",i.a.rules,{onSuccess:e,onSettled:(e,n,r)=>{e&&t(Object(o.a)(Object(o.a)({},e),r.data))}}),c=e=>Object(a.a)("put",i.a.rules,{onSuccess:e});var l=n(509);const u=e=>Object(l.a)(i.a.rules,{onSuccess:e});var d=n(56),h=n(34);const p=()=>{const e=Object(d.a)();return Object(h.e)([i.a.rules,"available-properties"],(()=>e("".concat(i.a.rules,"/available-properties"))))}},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),o=n(34),i=n(17),a=n.n(i),s=n(25),c=n(139),l=n(138),u=n(76),d=n(0);var h=e=>{const t=Object(c.a)(),n=Object(u.a)();return Object(d.useCallback)(function(){var r=Object(s.a)(a.a.mark((function r(o){var i,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t();case 2:return i=r.sent,r.prev=3,r.next=6,Object(l.a)("".concat(e,"/").concat(o),{headers:i});case 6:return s=r.sent,r.abrupt("return",s.data);case 10:throw r.prev=10,r.t0=r.catch(3),401===r.t0.response.status&&n.logout(),r.t0;case 14:case"end":return r.stop()}}),r,null,[[3,10]])})));return function(e){return r.apply(this,arguments)}}(),[n,e,t])};const p=(e,t={})=>{const n=h(e);return Object(o.c)((e=>n(e)),Object(r.a)(Object(r.a)({},t),{},{throwOnError:!0}))}},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(594),o=n(0);var i=()=>{const e=(()=>{const e=Object(o.useContext)(r.a);if(void 0===e)throw new Error("useTabs must be used within a TabsContext");return e})(),t=e.setActiveTab,n=e.registerTab,i=e.handleKeyDown,a=e.isActiveTab,s=e.getTabRef,c=Object(o.useCallback)((e=>t=>{const n=t.keyCode;void 0!==e&&i(e,n)}),[i]),l=Object(o.useCallback)((e=>n=>{n.preventDefault(),void 0!==e&&t(e)}),[t]);return{getTabProps:Object(o.useCallback)((({index:e,disabled:t,id:r})=>(n({index:e,disabled:t,id:r}),{onKeyDown:c(e),onClick:l(e),ref:s(r),tabIndex:a(e)?0:-1,disabled:t&&!a(e),id:"tab-".concat(r),role:"tab","aria-selected":a(e),"aria-controls":"tabpanel-".concat(r)})),[s,a,l,c,n]),getTabPanelProps:({id:e})=>({id:"tabpanel-".concat(e),role:"tabpanel","aria-labelledby":"tab-".concat(e)}),getTabListProps:()=>({id:"tablist",role:"tablist"}),isActiveTab:a,setActiveTab:t}}},511:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n(1),o=n(7),i=n(501),a=n(0),s=n(496),c=n(543),l=n(742);const u=Object(a.createContext)(void 0),d=e=>{const t=s.a.nodes(e,{at:[],match:e=>"Placeholder"===e.type});var n,r=Object(i.a)(t);try{for(r.s();!(n=r.n()).done;){const t=n.value[1];l.a.withoutSaving(e,(()=>{s.i.removeNodes(e,{at:t})}))}}catch(o){r.e(o)}finally{r.f()}},h=({children:e})=>{const t=Object(a.useState)(null),n=Object(o.a)(t,2),i=n[0],h=n[1],p=Object(a.useState)(null),f=Object(o.a)(p,2),b=f[0],m=f[1],v=Object(a.useState)(!1),g=Object(o.a)(v,2),j=g[0],y=g[1],x=Object(a.useMemo)((()=>Object(c.d)(Object(l.b)(Object(s.j)()))),[]),O=Object(a.useCallback)((()=>{h(x.selection),x.selection&&m(s.c.fragment(x,x.selection))}),[x]),_=Object(a.useCallback)((()=>{const e=s.a.end(x,[]);if(i){s.f.isAfter(s.g.end(i),e)?s.i.select(x,e):s.i.select(x,i)}else s.i.select(x,e)}),[x,i]),C=Object(a.useCallback)((()=>{d(x),l.a.withoutSaving(x,(()=>{b&&s.i.insertFragment(x,b)})),_()}),[x,b,_]),w=Object(a.useCallback)((e=>{d(x),l.a.withoutSaving(x,(()=>{b&&s.i.insertFragment(x,b)})),c.b.focus(x),_(),s.i.insertText(x,e),s.i.collapse(x,{edge:"end"}),O(),m(null)}),[O,x,b,_]),E=Object(a.useCallback)((e=>{const t=" ".repeat(e);c.b.focus(x),l.a.withoutSaving(x,(()=>{s.i.insertNodes(x,{type:"Placeholder",text:t})}))}),[x]),S=Object(a.useMemo)((()=>({editor:x,insertPredicate:w,insertPlaceholder:E,removePlaceholder:C,captureSelection:O,readOnly:j,setReadOnly:y})),[O,x,E,w,j,C]);return Object(r.jsx)(u.Provider,{value:S,children:e})},p=()=>{const e=Object(a.useContext)(u);if(void 0===e)throw new Error("useRulesEditor must be used within a RulesEditorContextProvider");return e}},515:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return p}));var r=n(34),o=n(56),i=n(40);const a=(e,t)=>{const n=Object(o.a)();return Object(r.e)([i.a.riskProfiles,t],(()=>n("".concat(i.a.riskProfilesStep(e),"/").concat(t))),{enabled:!!t})},s=e=>{const t=Object(o.a)();return Object(r.e)([i.a.riskProfiles,e],(()=>t(i.a.riskProfilesStep(e))))};var c=n(471);const l=()=>Object(c.a)("put",i.a.riskProfiles),u=(e,t)=>Object(c.a)("post",i.a.riskProfilesStep(e),{onSuccess:({id:e})=>{t&&t(e)}});var d=n(509);const h=e=>Object(d.a)(i.a.riskProfiles,{onSuccess:e}),p=(e,t=(()=>{}))=>Object(c.a)("put",i.a.riskProfilesStep(e),{onSuccess:t})},516:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return S}));var r=n(17),o=n.n(r),i=n(25),a=n(1),s=n(7),c=n(0),l=n(508),u=n(542),d=n(2),h=n(30),p=n(545),f=n(495),b=n(511),m=n(466),v=n(494),g=n(40),j=n(56);const y={1e3:"Unexpected end of expression",5e3:"Unknown token",6e3:"Unexpected type",6001:"Type mismatch",6002:"Expected type of number",6003:"Expected type of string",6004:"Expected type of list",6005:"Expected type of boolean",7e3:"Non-existent property",9e3:"Invalid predicate"},x=()=>{const e=Object(j.a)();return function(){var t=Object(i.a)(o.a.mark((function t(n){var r,i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e("".concat(g.a.rules,"/is-valid"),{params:{predicate:n}});case 3:if(r=t.sent,i=r.is_valid,a=r.errors,!i){t.next=7;break}return t.abrupt("return",null);case 7:if(!(null===a||void 0===a?void 0:a.length)){t.next=10;break}return o=y[a[0].error_code],c=a[0].source_context.offending_text,s="Error: ".concat(o,",  The following text is invalid: ").concat(c,", please make sure that your rule is valid. "),t.abrupt("return",s);case 10:return t.abrupt("return","Rule could not be validated");case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return","Rule could not be validated");case 16:case"end":return t.stop()}var o,c}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},O=[Object(v.g)("Name is required"),Object(v.e)(100)];var _=()=>{const e=x(),t=()=>function(){var t=Object(i.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=Object(p.a)(),r=Object(v.a)({name:O,predicate:[Object(v.g)("Rule is required"),t()]}),a=Object(v.a)({name:O,predicate:[Object(v.g)("Rule is required"),Object(v.f)(/:score:/,"CKO model score is not available to you at the moment. Please contact your customer support manager for details"),t()]});return n?r:a},C=n(595);const w=Object(c.createContext)(void 0),E=({children:e,initalFormValues:t,handleSubmit:n})=>{const r=Object(l.b)(),v=r.data,g=r.status,j=Object(p.a)(),y=Object(u.f)(),x=y.data,O=y.status,E=Object(c.useMemo)((()=>"loading"===g||"loading"===O),[g,O]),S=Object(c.useState)(null),T=Object(s.a)(S,2),M=T[0],P=T[1],k=_(),L=Object(c.useMemo)((()=>{var e,t;const n=null!==(e=null===v||void 0===v?void 0:v.properties)&&void 0!==e?e:[],r=null!==(t=null===x||void 0===x?void 0:x.summaries)&&void 0!==t?t:[];return{availableProperties:j?n:n.filter((e=>"score"!==e.name)),availableLists:r,submissionError:M,setSubmissionError:P}}),[v,x,M,j]);return E?Object(a.jsx)(d.Flex,{justifyContent:"center",height:"70vh",children:Object(a.jsx)(h.b,{size:"large"})}):Object(a.jsx)(w.Provider,{value:L,children:Object(a.jsx)(f.a,{children:Object(a.jsx)(b.a,{children:Object(a.jsx)(C.a,{keys:["examples","properties","operators","velocities"],children:Object(a.jsx)(m.b,{initialValues:t,onSubmit:function(){var e=Object(i.a)(o.a.mark((function e(t,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(null),e.next=4,n(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),409===(null===(i=e.t0.response)||void 0===i?void 0:i.status)?P(' A rule named "'.concat(t.name,'" already exists.')):P("Technical error. Please try again later.");case 9:return e.prev=9,r.setSubmitting(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(t,n){return e.apply(this,arguments)}}(),validate:k,validateOnChange:!1,children:e})})})})})},S=()=>{const e=Object(c.useContext)(w);if(void 0===e)throw new Error("useRuleBuilder must be used within a RulesBuilderProvider");return e}},517:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),o=n(8),i=(n(0),n(2)),a=n(104),s=n(18),c=n(5);function l(){const e=Object(o.a)(["\n  & > g {\n    fill: #cf5858;\n  }\n"]);return l=function(){return e},e}const u=Object(c.default)(s.k)(l());var d=({children:e})=>Object(r.jsx)(i.Box,{bg:"#F6E3E3",mt:3,px:3,py:2,borderRadius:1,"data-testid":"inline-alert",children:Object(r.jsxs)(a.a,{p:0,children:[Object(r.jsx)(i.Box,{children:Object(r.jsx)(u,{})}),Object(r.jsx)(i.Box,{pl:3,children:Object(r.jsx)(i.Text,{color:"#cf5858",fontSize:0,lineHeight:0,children:e})})]})})},521:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return di})),n.d(t,"b",(function(){return zs})),n.d(t,"c",(function(){return dc})),n.d(t,"d",(function(){return ui})),n.d(t,"e",(function(){return kc})),n.d(t,"g",(function(){return ss})),n.d(t,"h",(function(){return ms})),n.d(t,"i",(function(){return Is}));var o=n(17),i=n.n(o),a=n(501),s=n(0),c=n.n(s),l=n(42),u=n.n(l),d=i.a.mark(Un),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function f(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var b=Array.isArray;function m(e){var t="";if("string"===typeof e||"number"===typeof e)return e||"";if(b(e))for(var n,r=0;r<e.length;r++)""!==(n=m(e[r]))&&(t+=(t&&" ")+n);else for(var r in e)e.hasOwnProperty(r)&&e[r]&&(t+=(t&&" ")+r);return t}function v(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function g(e){var t={exports:{}};return e(t,t.exports),t.exports}var j=function(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r),y=function(){return Math.random().toString(36).substring(7).split("").join(".")},x={INIT:"@@redux/INIT"+y(),REPLACE:"@@redux/REPLACE"+y(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+y()}};function O(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function C(e,t){return function(){return t(e.apply(this,arguments))}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var M=Object.freeze({__proto__:null,__DO_NOT_USE__ActionTypes:x,applyMiddleware:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return S({},n,{dispatch:r=T.apply(void 0,i)(n.dispatch)})}}},bindActionCreators:function(e,t){if("function"===typeof e)return C(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"===typeof o&&(n[r]=C(o,t))}return n},combineReducers:function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"===typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:x.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:x.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+x.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){i=s}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var c=a[s],l=n[c],u=e[c],d=l(u,t);if("undefined"===typeof d){var h=_(c,t);throw new Error(h)}o[c]=d,r=r||d!==u}return(r=r||a.length!==Object.keys(e).length)?o:e}},compose:T,createStore:function e(t,n,r){var o;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var i=t,a=n,s=[],c=s,l=!1;function u(){c===s&&(c=s.slice())}function d(){if(l)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function h(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(l)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return u(),c.push(e),function(){if(t){if(l)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,u();var n=c.indexOf(e);c.splice(n,1),s=null}}}function p(e){if(!O(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=i(a,e)}finally{l=!1}for(var t=s=c,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,p({type:x.REPLACE})}function b(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[j]=function(){return this},e}return p({type:x.INIT}),(o={dispatch:p,subscribe:h,getState:d,replaceReducer:f})[j]=b,o}});function P(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"===typeof o?o(n,r,e):t(o)}}}}var k=P();k.withExtraArgument=P;var L=Object.freeze({__proto__:null,default:k});function R(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function D(e){return!!e&&!!e[we]}function I(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[Ce]||!!e.constructor[Ce]||F(e)||z(e))}function N(e,t,n){void 0===n&&(n=!1),0===A(e)?(n?Object.keys:Se)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function A(e){var t=e[we];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:F(e)?2:z(e)?3:0}function H(e,t){return 2===A(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return 2===A(e)?e.get(t):e[t]}function V(e,t,n){var r=A(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Z(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function F(e){return ye&&e instanceof Map}function z(e){return xe&&e instanceof Set}function K(e){return e.o||e.t}function U(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Te(e);delete t[we];for(var n=Se(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function X(e,t){G(e)||D(e)||!I(e)||(A(e)>1&&(e.set=e.add=e.clear=e.delete=Y),Object.freeze(e),t&&N(e,(function(e,t){return X(t,!0)}),!0))}function Y(){R(2)}function G(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function W(e){var t=Me[e];return t||R(19,e),t}function q(e,t){Me[e]=t}function $(){return ge}function Q(e,t){t&&(W("Patches"),e.u=[],e.s=[],e.v=t)}function J(e){ee(e),e.p.forEach(ne),e.p=null}function ee(e){e===ge&&(ge=e.l)}function te(e){return ge={p:[],l:ge,h:e,m:!0,_:0}}function ne(e){var t=e[we];0===t.i||1===t.i?t.j():t.g=!0}function re(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||W("ES5").S(t,e,r),r?(n[we].P&&(J(t),R(4)),I(e)&&(e=oe(t,e),t.l||ae(t,e)),t.u&&W("Patches").M(n[we],e,t.u,t.s)):e=oe(t,n,[]),J(t),t.u&&t.v(t.u,t.s),e!==_e?e:void 0}function oe(e,t,n){if(G(t))return t;var r=t[we];if(!r)return N(t,(function(o,i){return ie(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ae(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=U(r.k):r.o;N(3===r.i?new Set(o):o,(function(t,i){return ie(e,r,o,t,i,n)})),ae(e,o,!1),n&&e.u&&W("Patches").R(r,n,e.u,e.s)}return r.o}function ie(e,t,n,r,o,i){if(D(o)){var a=oe(e,o,i&&t&&3!==t.i&&!H(t.D,r)?i.concat(r):void 0);if(V(n,r,a),!D(a))return;e.m=!1}if(I(o)&&!G(o)){if(!e.h.N&&e._<1)return;oe(e,o),t&&t.A.l||ae(e,o)}}function ae(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&X(t,n)}function se(e,t){var n=e[we];return(n?K(n):e)[t]}function ce(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function le(e){e.P||(e.P=!0,e.l&&le(e.l))}function ue(e){e.o||(e.o=U(e.t))}function de(e,t,n){var r=F(t)?W("MapSet").T(t,n):z(t)?W("MapSet").F(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:$(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Pe;n&&(o=[r],i=ke);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(t,n):W("ES5").J(t,n);return(n?n.A:$()).p.push(r),r}function he(e){return D(e)||R(22,e),function e(t){if(!I(t))return t;var n,r=t[we],o=A(t);if(r){if(!r.P&&(r.i<4||!W("ES5").K(r)))return r.t;r.I=!0,n=pe(t,o),r.I=!1}else n=pe(t,o);return N(n,(function(t,o){r&&B(r.t,t)===o||V(n,t,e(o))})),3===o?new Set(n):n}(e)}function pe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return U(e)}function fe(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[we];return Pe.get(t,e)},set:function(t){var n=this[we];Pe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][we];if(!o.P)switch(o.i){case 5:r(o)&&le(o);break;case 4:n(o)&&le(o)}}}function n(e){for(var t=e.t,n=e.k,r=Se(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==we){var a=t[i];if(void 0===a&&!H(t,i))return!0;var s=n[i],c=s&&s[we];if(c?c.t!==a:!Z(s,a))return!0}}var l=!!t[we];return r.length!==Se(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var o={};q("ES5",{J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=Te(n);delete i[we];for(var a=Se(i),s=0;s<a.length;s++){var c=a[s];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:$(),P:!1,I:!1,D:{},l:n,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,we,{value:i,writable:!0}),o},S:function(e,n,o){o?D(n)&&n[we].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[we];if(n){var o=n.t,i=n.k,a=n.D,s=n.i;if(4===s)N(i,(function(t){t!==we&&(void 0!==o[t]||H(o,t)?a[t]||e(i[t]):(a[t]=!0,le(n)))})),N(o,(function(e){void 0!==i[e]||H(i,e)||(a[e]=!1,le(n))}));else if(5===s){if(r(n)&&(le(n),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var l=o.length;l<i.length;l++)a[l]=!0;for(var u=Math.min(i.length,o.length),d=0;d<u;d++)void 0===a[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}function be(){function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);if(F(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(z(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return n}function t(t){return D(t)?e(t):t}var n="add";q("Patches",{$:function(t,r){return r.forEach((function(r){for(var o=r.path,i=r.op,a=t,s=0;s<o.length-1;s++)"object"!=typeof(a=B(a,o[s]))&&R(15,o.join("/"));var c=A(a),l=e(r.value),u=o[o.length-1];switch(i){case"replace":switch(c){case 2:return a.set(u,l);case 3:R(16);default:return a[u]=l}case n:switch(c){case 1:return a.splice(u,0,l);case 2:return a.set(u,l);case 3:return a.add(l);default:return a[u]=l}case"remove":switch(c){case 1:return a.splice(u,1);case 2:return a.delete(u);case 3:return a.delete(r.value);default:return delete a[u]}default:R(17,i)}})),t},R:function(e,r,o,i){switch(e.i){case 0:case 4:case 2:return function(e,r,o,i){var a=e.t,s=e.o;N(e.D,(function(e,c){var l=B(a,e),u=B(s,e),d=c?H(a,e)?"replace":n:"remove";if(l!==u||"replace"!==d){var h=r.concat(e);o.push("remove"===d?{op:d,path:h}:{op:d,path:h,value:u}),i.push(d===n?{op:"remove",path:h}:"remove"===d?{op:n,path:h,value:t(l)}:{op:"replace",path:h,value:t(l)})}}))}(e,r,o,i);case 5:case 1:return function(e,r,o,i){var a=e.t,s=e.D,c=e.o;if(c.length<a.length){var l=[c,a];a=l[0],c=l[1];var u=[i,o];o=u[0],i=u[1]}for(var d=0;d<a.length;d++)if(s[d]&&c[d]!==a[d]){var h=r.concat([d]);o.push({op:"replace",path:h,value:t(c[d])}),i.push({op:"replace",path:h,value:t(a[d])})}for(var p=a.length;p<c.length;p++){var f=r.concat([p]);o.push({op:n,path:f,value:t(c[p])})}a.length<c.length&&i.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,o,i);case 3:return function(e,t,r,o){var i=e.t,a=e.o,s=0;i.forEach((function(e){if(!a.has(e)){var i=t.concat([s]);r.push({op:"remove",path:i,value:e}),o.unshift({op:n,path:i,value:e})}s++})),s=0,a.forEach((function(e){if(!i.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),o.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,o,i)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t}),r.push({op:"replace",path:[],value:e.t})}})}function me(){function e(e,t){function n(){this.constructor=e}o(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(I(t)){var n=de(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function r(e){e.g&&R(3,JSON.stringify(K(e)))}var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},i=function(){function n(e,t){return this[we]={i:2,l:t,A:t?t.A:$(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}e(n,Map);var o=n.prototype;return Object.defineProperty(o,"size",{get:function(){return K(this[we]).size}}),o.has=function(e){return K(this[we]).has(e)},o.set=function(e,n){var o=this[we];return r(o),K(o).has(e)&&K(o).get(e)===n||(t(o),le(o),o.D.set(e,!0),o.o.set(e,n),o.D.set(e,!0)),this},o.delete=function(e){if(!this.has(e))return!1;var n=this[we];return r(n),t(n),le(n),n.D.set(e,!1),n.o.delete(e),!0},o.clear=function(){var e=this[we];return r(e),t(e),le(e),e.D=new Map,N(e.t,(function(t){e.D.set(t,!1)})),e.o.clear()},o.forEach=function(e,t){var n=this;K(this[we]).forEach((function(r,o){e.call(t,n.get(o),o,n)}))},o.get=function(e){var n=this[we];r(n);var o=K(n).get(e);if(n.I||!I(o))return o;if(o!==n.t.get(e))return o;var i=de(n.A.h,o,n);return t(n),n.o.set(e,i),i},o.keys=function(){return K(this[we]).keys()},o.values=function(){var e,t=this,n=this.keys();return(e={})[Ee]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},o.entries=function(){var e,t=this,n=this.keys();return(e={})[Ee]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},o[Ee]=function(){return this.entries()},n}(),a=function(){function t(e,t){return this[we]={i:3,l:t,A:t?t.A:$(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var o=t.prototype;return Object.defineProperty(o,"size",{get:function(){return K(this[we]).size}}),o.has=function(e){var t=this[we];return r(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},o.add=function(e){var t=this[we];return r(t),this.has(e)||(n(t),le(t),t.o.add(e)),this},o.delete=function(e){if(!this.has(e))return!1;var t=this[we];return r(t),n(t),le(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},o.clear=function(){var e=this[we];return r(e),n(e),le(e),e.o.clear()},o.values=function(){var e=this[we];return r(e),n(e),e.o.values()},o.entries=function(){var e=this[we];return r(e),n(e),e.o.entries()},o.keys=function(){return this.values()},o[Ee]=function(){return this.values()},o.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();q("MapSet",{T:function(e,t){return new i(e,t)},F:function(e,t){return new a(e,t)}})}var ve,ge,je="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ye="undefined"!=typeof Map,xe="undefined"!=typeof Set,Oe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,_e=je?Symbol.for("immer-nothing"):((ve={})["immer-nothing"]=!0,ve),Ce=je?Symbol.for("immer-draftable"):"__$immer_draftable",we=je?Symbol.for("immer-state"):"__$immer_state",Ee="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Se="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Te=Object.getOwnPropertyDescriptors||function(e){var t={};return Se(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Me={},Pe={get:function(e,t){if(t===we)return e;var n=K(e);if(!H(n,t))return function(e,t,n){var r,o=ce(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!I(r)?r:r===se(e.t,t)?(ue(e),e.o[t]=de(e.A.h,r,e)):r},has:function(e,t){return t in K(e)},ownKeys:function(e){return Reflect.ownKeys(K(e))},set:function(e,t,n){var r=ce(K(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(e.D[t]=!0,!e.P){if(Z(n,se(K(e),t))&&(void 0!==n||H(e.t,t)))return!0;ue(e),le(e)}return e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==se(e.t,t)||t in e.t?(e.D[t]=!1,ue(e),le(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=K(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){R(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){R(12)}},ke={};N(Pe,(function(e,t){ke[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ke.deleteProperty=function(e,t){return Pe.deleteProperty.call(this,e[0],t)},ke.set=function(e,t,n){return Pe.set.call(this,e[0],t,n,e[0])};var Le=function(){function e(e){this.O=Oe,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var o=this;return function(e){var n=this;void 0===e&&(e=r);for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(a))}))}}var i;if("function"!=typeof t&&R(6),void 0!==n&&"function"!=typeof n&&R(7),I(e)){var a=te(this),s=de(this,e,void 0),c=!0;try{i=t(s),c=!1}finally{c?J(a):ee(a)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Q(a,n),re(e,a)}),(function(e){throw J(a),e})):(Q(a,n),re(i,a))}if(!e||"object"!=typeof e){if((i=t(e))===_e)return;return void 0===i&&(i=e),this.N&&X(i,!0),i}R(21,e)},t.produceWithPatches=function(e,t){var n,r,o=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){I(e)||R(8),D(e)&&(e=he(e));var t=te(this),n=de(this,e,void 0);return n[we].C=!0,ee(t),n},t.finishDraft=function(e,t){var n=(e&&e[we]).A;return Q(n,t),re(void 0,n)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!Oe&&R(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=W("Patches").$;return D(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}(),Re=new Le,De=Re.produce,Ie=Re.produceWithPatches.bind(Re),Ne=Re.setAutoFreeze.bind(Re),Ae=Re.setUseProxies.bind(Re),He=Re.applyPatches.bind(Re),Be=Re.createDraft.bind(Re),Ve=Re.finishDraft.bind(Re),Ze=Object.freeze({__proto__:null,default:De,Immer:Le,applyPatches:He,castDraft:function(e){return e},castImmutable:function(e){return e},createDraft:Be,current:he,enableAllPlugins:function(){fe(),me(),be()},enableES5:fe,enableMapSet:me,enablePatches:be,finishDraft:Ve,immerable:Ce,isDraft:D,isDraftable:I,nothing:_e,original:function(e){return D(e)||R(23,e),e[we].t},produce:De,produceWithPatches:Ie,setAutoFreeze:Ne,setUseProxies:Ae});function Fe(){return this.list=[],this.lastItem=void 0,this.size=0,this}Fe.prototype.get=function(e){var t;return this.lastItem&&this.isEqual(this.lastItem.key,e)?this.lastItem.val:(t=this.indexOf(e))>=0?(this.lastItem=this.list[t],this.list[t].val):void 0},Fe.prototype.set=function(e,t){var n;return this.lastItem&&this.isEqual(this.lastItem.key,e)?(this.lastItem.val=t,this):(n=this.indexOf(e))>=0?(this.lastItem=this.list[n],this.list[n].val=t,this):(this.lastItem={key:e,val:t},this.list.push(this.lastItem),this.size++,this)},Fe.prototype.delete=function(e){var t;if(this.lastItem&&this.isEqual(this.lastItem.key,e)&&(this.lastItem=void 0),(t=this.indexOf(e))>=0)return this.size--,this.list.splice(t,1)[0]},Fe.prototype.has=function(e){var t;return!(!this.lastItem||!this.isEqual(this.lastItem.key,e))||(t=this.indexOf(e))>=0&&(this.lastItem=this.list[t],!0)},Fe.prototype.forEach=function(e,t){var n;for(n=0;n<this.size;n++)e.call(t||this,this.list[n].val,this.list[n].key,this)},Fe.prototype.indexOf=function(e){var t;for(t=0;t<this.size;t++)if(this.isEqual(this.list[t].key,e))return t;return-1},Fe.prototype.isEqual=function(e,t){return e===t||e!==e&&t!==t};var ze=Fe,Ke=function(e){return"function"!==typeof Map||e?new ze:new Map},Ue=function(e){var t=new Ke(!1),n=[];return function(r){var o=function o(){var i,a,s,c=t,l=arguments.length-1,u=Array(l+1),d=!0;if((o.numArgs||0===o.numArgs)&&o.numArgs!==l+1)throw new Error("Memoizerific functions should always be called with the same number of arguments");for(s=0;s<l;s++)u[s]={cacheItem:c,arg:arguments[s]},c.has(arguments[s])?c=c.get(arguments[s]):(d=!1,i=new Ke(!1),c.set(arguments[s],i),c=i);return d&&(c.has(arguments[l])?a=c.get(arguments[l]):d=!1),d||(a=r.apply(null,arguments),c.set(arguments[l],a)),e>0&&(u[l]={cacheItem:c,arg:arguments[l]},d?Xe(n,u):n.push(u),n.length>e&&Ye(n.shift())),o.wasMemoized=d,o.numArgs=l+1,a};return o.limit=e,o.wasMemoized=!1,o.cache=t,o.lru=n,o}};function Xe(e,t){var n,r,o,i,a,s=e.length,c=t.length;for(r=0;r<s;r++){for(n=!0,o=0;o<c;o++)if(i=e[r][o].arg,a=t[o].arg,i!==a&&(i===i||a===a)){n=!1;break}if(n)break}e.push(e.splice(r,1)[0])}function Ye(e){var t,n,r=e.length,o=e[r-1];for(o.cacheItem.delete(o.arg),n=r-2;n>=0&&(!(t=(o=e[n]).cacheItem.get(o.arg))||!t.size);n--)o.cacheItem.delete(o.arg)}function Ge(e){return"[object Object]"===Object.prototype.toString.call(e)}var We=function(e){var t,n;return!1!==Ge(e)&&(void 0===(t=e.constructor)||!1!==Ge(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))},qe=Object.defineProperty({isPlainObject:We},"__esModule",{value:!0});function $e(e,t){var n=Object(s.useState)((function(){return{inputs:t,result:e()}}))[0],r=Object(s.useRef)(n),o=Boolean(t&&r.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,r.current.inputs))?r.current:{inputs:t,result:e()};return Object(s.useEffect)((function(){r.current=o}),[o]),o.result}function Qe(e,t){return $e((function(){return e}),t)}var Je=$e,et=Qe,tt=Object.freeze({__proto__:null,useCallback:et,useCallbackOne:Qe,useMemo:Je,useMemoOne:$e}),nt=v(M),rt=v(L),ot=v(Ze),it=v(tt),at=g((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=c.a,o=n(r),i=nt,a=n(rt),s=n(Ue),l=r.createContext(),u="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function d(e){return function(t,n){var o=r.useContext(e),i=r.useRef(t),a=r.useRef(),s=r.useRef(!0),c=r.useRef(),l=r.useReducer((function(e){return e+1}),0)[1];if(c.current||i.current!==t||void 0===a.current)try{a.current=t(o.getState())}catch(e){throw c.current||e}return u((function(){i.current=t,c.current=void 0})),u((function(){var e=function(){try{var e=i.current(o.getState());if("function"==typeof n?n(a.current,e):a.current===e)return;a.current=e}catch(e){c.current=e}s.current&&l({})},t=o.subscribe(e);return e(),function(){s.current=!1,t()}}),[]),a.current}}var h=d(l);function p(e){return function(t){return t(r.useContext(e).getActions())}}var f=p(l);function b(e){return function(){return r.useContext(e).dispatch}}var m=b(l);function v(){return r.useContext(l)}function g(e){return function(){var t=r.useContext(e),n=r.useState(!1),o=n[0],i=n[1];return r.useEffect((function(){t.persist.resolveRehydration().then((function(){return i(!0)}))}),[]),o}}var j=g(l);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){var t;return(t={}).$ep_a=!0,t.fn=e,t},O=[function(e){return e}],_=new ot.Immer({useProxies:!0,autoFreeze:!1}),C=function(e){return function e(t){var n=Object.keys(t).reduce((function(e,n){return null==Object.getOwnPropertyDescriptor(t,n).get&&(e[n]=t[n]),e}),{});return Object.keys(n).forEach((function(t){qe.isPlainObject(n[t])&&(n[t]=e(n[t]))})),n}(e)},w=function(e){return null!=e&&"object"==typeof e&&"function"==typeof e.then};function E(e,t){return e.reduce((function(e,t){return qe.isPlainObject(e)?e[t]:void 0}),t)}var S=function(e,t,n){0!==e.length?e.reduce((function(t,r,o){return t[r]=o+1===e.length?n:t[r]||{},t[r]}),t):"object"==typeof n&&(Object.keys(t).forEach((function(e){delete t[e]})),Object.keys(n).forEach((function(e){t[e]=n[e]})))},T=function(e){try{var t=[];return Promise.resolve((n=e,new Promise((function(e,r){var o=n[Symbol.iterator]();!function n(i){try{var a=o.next();if(a.done)return e(i),Promise.resolve();var s=function(e,r){try{var o=Promise.resolve(Promise.all([i,a.value])).then((function(e){n(function(e,n){try{return Promise.resolve(n()).then((function(e){t.push(e)}))}catch(e){return Promise.reject(e)}}(0,e[1]))}))}catch(e){return r(e)}return o&&o.then?o.then(void 0,r):o}(0,(function(e){r(e)}));return Promise.resolve(s&&s.then?s.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}(void 0)})))).then((function(){return t}))}catch(e){return Promise.reject(e)}var n};function M(e,t,n,r){var o=function(e){return void 0===e&&(e=!1),function(t,n,r){if(e){var o=E(t,n),i=r(o);return o!==i?function e(t,n,r){if(0===t.length)return r;var o=y({},n),i=t[0];return o[i]=1===t.length?r:e(t.slice(1),o[i],r),o}(t,n,i):n}if(0===t.length){var a=_.createDraft(n),s=r(a);return s?ot.isDraft(s)?_.finishDraft(s):s:_.finishDraft(a)}var c=t.slice(0,t.length-1),l=_.createDraft(n),u=E(c,n),d=r(E(t,l));return d&&(u[t[t.length-1]]=d),_.finishDraft(l)}}(e);return function(e,i){var a=function(e,n){var r=t[n.type];return r?function(e,t,n,r){return o(r,e,(function(e){return n(e,t.payload)}))}(e,n,r,r.definition.meta.parent):e}(e,i),s=n.length>0?function(e,t){return n.reduce((function(e,n){var r=n.key,i=n.reducer;return o(n.parentPath,e,(function(e){return e[r]=i(e[r],t),e}))}),e)}(a,i):a;return e!==s&&r.forEach((function(e){var t=e.bindComputedProperty,n=E(e.parentPath,s);null!=n&&t(n,s)})),s}}var P={getItem:function(){},setItem:function(){},removeItem:function(){}},k=function(e){var t;return function(){if(!t){try{"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e])}catch(e){}t||(t=P)}return t}},L=k("localStorage"),R=k("sessionStorage");function D(e,t){void 0===t&&(t=[]),null==e&&(e=R()),"string"==typeof e&&(e="localStorage"===e?L():"sessionStorage"===e?R():P);var n=[].concat(t).reverse(),r=function(t){var r=e===L()||e===R()?JSON.parse(t).data:t;return n.length>0&&null!=r&&"object"==typeof r&&Object.keys(r).forEach((function(e){r[e]=n.reduce((function(t,n){return n.out(t,e)}),r[e])})),r},o=w(e.getItem("_"));return{isAsync:o,getItem:function(t){if(o)return e.getItem(t).then((function(e){return null!=e?r(e):void 0}));var n=e.getItem(t);return null!=n?r(n):void 0},setItem:function(n,r){return e.setItem(n,function(n){return t.length>0&&null!=n&&"object"==typeof n&&Object.keys(n).forEach((function(e){n[e]=t.reduce((function(t,n){return n.in(t,e)}),n[e])})),e===L()||e===R()?JSON.stringify({data:n}):n}(r))},removeItem:function(t){return e.removeItem(t)}}}function I(e,t){return function(){return 0===t.internals.t.length?Promise.resolve():T(t.internals.t.map((function(t){var n=t.path,r=t.config;return function(){return Promise.resolve(r.storage.removeItem(e(n)))}})))}}function N(e,t,n,r){return 0===n.internals.t.length?Promise.resolve():T(n.internals.t.map((function(o){return function(){var i=o.path,a=o.config,s=a.mergeStrategy,c=a.storage;if(r&&(i.length<1||i[0]!==r))return Promise.resolve();var l=n.internals.o,u=function(e,t){return null!=e&&null!=t&&(typeof e!=typeof t||Array.isArray(e)&&!Array.isArray(t))},d=function(e){null!=e&&function(e,t){if("overwrite"===s)S(i,e,t);else if("mergeShallow"===s){var n=E(i,e);Object.keys(t).forEach((function(e){u(n[e],t[e])||(n[e]=t[e])}))}else"mergeDeep"===s&&function e(t,n){Object.keys(n).forEach((function(r){u(t[r],n[r])||(qe.isPlainObject(n[r])?(t[r]=t[r]||{},e(t[r],n[r])):t[r]=n[r])}))}(E(i,e),t)}(l,e),t(l)},h=c.getItem(e(i));return w(h)?h.then(d):Promise.resolve(d(h))}})))}var A=function(e,t){console.log("An error occurred in a listener for "+e),console.log(t)},H=function(e,t){return function(){try{var n=t.apply(void 0,[].slice.call(arguments));w(n)&&n.catch((function(t){A(e,t)}))}catch(t){A(e,t)}}};function B(e){return function(){return function(t){return function(n){var r=t(n);if(n&&e.internals.u[n.type]&&e.internals.u[n.type].length>0){var o=e.internals.i[n.type];e.internals.u[n.type].forEach((function(e){e({type:o?o.definition.meta.type:n.type,payload:n.payload,error:n.error,result:n.result})}))}return r}}}}function V(e){return function(t){return function(n){return function(r){return e.internals.s.currentState=t.getState(),e.internals.s.isInReducer=!0,n(r)}}}}function Z(e){return function(t){return function(n){return function(r){if(0===e.internals.v.length)return n(r);var o=t.getState(),i=n(r),a=t.getState();return e.internals.v.forEach((function(e){var t=E(e.meta.parent,o),n=E(e.meta.parent,a);if(t!==n){var i=e.dependencyResolvers.map((function(e){return e(t)})),s=e.dependencyResolvers.map((function(e){return e(n)}));i.some((function(e,t){return e!==s[t]}))&&e.actionCreator(i,s,r)}})),i}}}}var F=function(e){console.log(e)},z=function(e,t){console.log("An error occurred in a listener for "+e),console.log(t)},K=function(e,t){return function(){try{var n=t.apply(void 0,[].slice.call(arguments));w(n)&&n.catch((function(t){z(e,t)}))}catch(t){z(e,t)}}};function U(e,t){void 0===t&&(t={});var n=C(e),r=t.compose,o=t.devTools,c=void 0!==o&&o,l=t.disableImmer,u=void 0!==l&&l,d=t.enhancers,h=void 0===d?[]:d,p=t.initialState,f=void 0===p?{}:p,b=t.injections,m=void 0===b?{}:b,v=t.middleware,g=void 0===v?[]:v,j=t.mockActions,O=void 0!==j&&j,_=t.name,P=void 0===_?"EasyPeasyStore":_,k=t.version,L=void 0===k?0:k,R=t.reducerEnhancer,A=void 0===R?function(e){return e}:R;var z=function(e){return y({},e,{ePRS:x((function(e,t){return t}))})},U={},X=z(n),Y=[],G=function(e){return"["+P+"]["+L+"]"+(e.length>0?"["+e.join(".")+"]":"")},W=function(e,t){var n,r=Promise.resolve(),o=!1,i="undefined"==typeof window?function(e){return e()}:null!=window.requestIdleCallback?window.requestIdleCallback:window.requestAnimationFrame;return{persist:function(a){if(0!==t.internals.t.length){var s=function(){o=!0,r=new Promise((function(r){i((function(){T(t.internals.t.map((function(t){var n=t.path,r=t.config;return function(){var t=r.storage,o=r.allow,i=r.deny,s=function(e,t,n){var r=Object.keys(e);return t.length>0&&(r=r.reduce((function(e,n){return-1!==t.findIndex((function(e){return e===n}))?[].concat(e,[n]):e}),[])),n.length>0&&(r=r.reduce((function(e,t){return-1!==n.findIndex((function(e){return e===t}))?e:[].concat(e,[t])}),[])),r}(C(E(n,a)),o,i),c={};return s.map((function(e){var t=E([].concat(n,[e]),a),r=qe.isPlainObject(t)?C(t):t;c[e]=r})),Promise.resolve(t.setItem(e(n),c))}}))).finally((function(){if(o=!1,n){var e=n;n=null,e()}else r()}))}))}))};o?n=s:s()}},clear:I(e,t),flush:function(){try{return n&&n(),Promise.resolve(r).then((function(){}))}catch(e){return Promise.reject(e)}}}}(G,U),q=function(e,t){return function(n){var r=n.getState;return function(n){return function(o){var i=n(o);return o&&"@action.ePRS"!==o.type&&t.internals.t.length>0&&e.persist(r()),i}}}}(W,U),$=function(e){return U.internals.i["@action.ePRS"](e)},Q=function(e){void 0===e&&(e={}),U.internals=function(e){var t=e.disableImmer,n=e.reducerEnhancer,r=function(e,t,n,r){var o=t,i={},a={},c={},l={},u=[],d=[],h=[],p={},f={},b=[],m=[],v={isInReducer:!1,currentState:o};return m=m.sort((function(e,t){var n=e.path.join("."),r=t.path.join(".");return n<r?-1:n>r?1:0})),function e(f,v){return Object.keys(f).forEach((function(g){var j=f[g],x=[].concat(v,[g]),O={parent:v,path:x,key:g},_=function(){var e=E(v,t);S(x,o,e&&g in e?e[g]:j)};if("$ep_p"!==g)if(null!=j&&"object"==typeof j)if(j.$ep_a||j.$ep_aO){var C=y({},j),T=C.$ep_a?"@action":"@actionOn";C.meta={actionName:O.key,category:T,type:T+"."+O.path.join("."),parent:O.parent,path:O.path},C.actionCreator=function(e,t){var n=function(n){var r={type:e.meta.type,payload:n};return e.$ep_aO&&e.meta.resolvedTargets&&(n.resolvedTargets=[].concat(e.meta.resolvedTargets)),t.dispatch(r)};return n.type=e.meta.type,n}(C,r),C.actionCreator.definition=C,C.fn.definition=C,i[C.meta.type]=C.actionCreator,c[C.meta.type]=C.fn,"ePRS"!==O.key&&(C.$ep_aO?(b.push(C),S(x,p,C.actionCreator)):S(x,a,C.actionCreator))}else if(j.$ep_t||j.$ep_tO){var M=y({},j),P=(M.$ep_t?"@thunk":"@thunkOn")+"."+O.path.join(".");M.meta={actionName:O.key,parent:O.parent,path:O.path,type:P,startType:P+"(start)",successType:P+"(success)",failType:P+"(fail)"},M.thunkHandler=function(e,t,n,r){return function(o,i){var a={dispatch:t.dispatch,fail:i,getState:function(){return E(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};return e.$ep_tO&&e.meta.resolvedTargets&&(o.resolvedTargets=[].concat(e.meta.resolvedTargets)),e.fn(E(e.meta.parent,r),o,a)}}(M,r,n,a),S(x,l,M.thunkHandler),M.actionCreator=function(e,t){var n=function(n){var r=H(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,payload:n})})),o=H(e.meta.failType,(function(r){return t.dispatch({type:e.meta.failType,payload:n,error:r})})),i=H(e.meta.successType,(function(r){return t.dispatch({type:e.meta.successType,payload:n,result:r})}));r();var a=null,s=function(e){a=e},c=t.dispatch((function(){return e.thunkHandler(n,s)}));return w(c)?c.then((function(e){return a?o(a):i(e),e})):(a?o(a):i(c),c)};return n.type=e.meta.type,n.successType=e.meta.successType,n.failType=e.meta.failType,n.startType=e.meta.startType,n}(M,r),M.actionCreator.definition=M,i[M.meta.type]=M.actionCreator,M.$ep_tO?(b.push(M),S(x,p,M.actionCreator)):S(x,a,M.actionCreator)}else if(j.$ep_c){var k=E(v,o),L=function(e,t,n,r,o){var i=s(1)(n.fn);return function(r,o){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var t=E(e,o),r=n.stateResolvers.map((function(e){return e(t,o)}));return i.apply(void 0,r)}})}}(v,g,j);L(k,o),u.push({key:g,parentPath:v,bindComputedProperty:L})}else if(j.$ep_r)d.push({key:g,parentPath:v,reducer:j.fn});else if(j.$ep_e){var R=y({},j),I="@effectOn."+O.path.join(".");R.meta={type:I,actionName:O.key,parent:O.parent,path:O.path,startType:I+"(start)",successType:I+"(success)",failType:I+"(fail)"};var N=function(e,t,n,r){var o,i=E(e.meta.parent,r);return function(a){var s={dispatch:t.dispatch,getState:function(){return E(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};if(void 0!==o){var c=o();o=void 0,w(c)&&c.catch(F)}var l=e.fn(i,a,s);if(w(l))return l.then((function(e){}));"function"==typeof l&&(o=l)}}(R,r,n,a),A=function(e,t,n){var r=function(r,o,i){var a={prev:r,current:o,action:i},s=K(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,change:a})})),c=K(e.meta.successType,(function(){return t.dispatch({type:e.meta.successType,change:a})}));s();try{var l=t.dispatch((function(){return n(a)}));return w(l)?l.then((function(e){return c(e),e}),F):(c(l),l)}catch(e){F(e)}};return r.type=e.meta.type,r.startType=e.meta.startType,r.successType=e.meta.successType,r.failType=e.meta.failType,r}(R,r,N);R.actionCreator=A,h.push(R)}else qe.isPlainObject(j)?(null==E(x,o)&&S(x,o,{}),e(j,x)):_();else _();else m.push(function(e,t){return void 0===t&&(t={}),{path:e,config:{allow:t.allow||[],deny:t.deny||[],mergeStrategy:t.mergeStrategy||"mergeDeep",storage:D(t.storage,t.transformers)}}}(v,j))}))}(e,[]),function(e,t,n,r){e.forEach((function(e){var o=e.targetResolver(E(e.meta.parent,t),t),i=(Array.isArray(o)?o:[o]).reduce((function(e,t){return"function"==typeof t&&t.definition.meta.type&&n[t.definition.meta.type]?e.push(t.definition.meta.successType?t.definition.meta.successType:t.definition.meta.type):"string"==typeof t&&e.push(t),e}),[]);e.meta.resolvedTargets=i,i.forEach((function(t){var o=r[t]||[];o.push(n[e.meta.type]),r[t]=o}))}))}(b,a,i,f),{i:i,l:a,p:c,m:u,h:d,s:v,o:o,v:h,S:p,u:f,t:m}}(e.model,e.initialState,e.injections,e.references),o=r.m;return{i:r.i,l:r.l,m:o,s:r.s,o:r.o,v:r.v,S:r.S,u:r.u,t:r.t,reducer:n(M(t,r.p,r.h,o))}}({disableImmer:u,initialState:e,injections:m,model:X,reducerEnhancer:A,references:U})},J=r||(c&&"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:P}):i.compose);Q(f);var ee=[V(U)].concat(g,[a,B(U),Z(U),q]);O&&ee.push((function(){return function(){return function(e){null!=e&&Y.push(e)}}}));var te=i.createStore(U.internals.reducer,U.internals.o,J.apply(void 0,[i.applyMiddleware.apply(void 0,ee)].concat(h)));te.subscribe((function(){U.internals.s.isInReducer=!1})),U.dispatch=te.dispatch,U.getState=te.getState;var ne=function(){Object.keys(te.dispatch).forEach((function(e){delete te.dispatch[e]})),Object.keys(U.internals.l).forEach((function(e){te.dispatch[e]=U.internals.l[e]}))};ne();var re=function(e){var t=te.getState();e&&delete t[e],Q(t),te.replaceReducer(U.internals.reducer),$(U.internals.o),ne()},oe=N(G,$,U);return Object.assign(te,{addModel:function(e,t){X[e],X[e]=t,re();var n=N(G,$,U,e);return{resolveRehydration:function(){return n}}},clearMockedActions:function(){Y=[]},getActions:function(){return U.internals.l},getListeners:function(){return U.internals.S},getMockedActions:function(){return[].concat(Y)},persist:{clear:W.clear,flush:W.flush,resolveRehydration:function(){return oe}},reconfigure:function(e){X=z(e),re()},removeModel:function(e){X[e]&&(delete X[e],re(e))}})}t.StoreProvider=function(e){return o.createElement(l.Provider,{value:e.store},e.children)},t.action=x,t.actionOn=function(e,t){var n;return(n={}).$ep_aO=!0,n.fn=t,n.targetResolver=e,n},t.computed=function(e,t){var n,r;return"function"==typeof t?((r={}).$ep_c=!0,r.fn=t,r.stateResolvers=e,r):((n={}).$ep_c=!0,n.fn=e,n.stateResolvers=O,n)},t.createContextStore=function(e,t){void 0===t&&(t={});var n=t.injections,i=void 0===n?{}:n,a=r.createContext();return{Provider:function(n){var r=n.children,s=n.runtimeModel,c=n.injections;if(null!=c){var l="function"==typeof c?c(i):c,u=Object.keys(l);Object.keys(i).filter((function(e){return!u.includes(e)})).forEach((function(e){delete i[e]})),Object.assign(i,l)}var d=it.useMemoOne((function(){return U("function"==typeof e?e(s):e,y({},t,{originalInjections:i}))}),[]);return o.createElement(a.Provider,{value:d},r)},useStore:function(){return r.useContext(a)},useStoreState:d(a),useStoreActions:p(a),useStoreDispatch:b(a),useStoreRehydrated:g(a)}},t.createStore=U,t.createTransform=function(e,t,n){void 0===n&&(n={});var r=n.whitelist||null,o=n.blacklist||null;function i(e){return!(!r||-1!==r.indexOf(e))||!(!o||-1===o.indexOf(e))}return{in:function(t,n,r){return!i(n)&&e?e(t,n,r):t},out:function(e,n,r){return!i(n)&&t?t(e,n,r):e}}},t.createTypedHooks=function(){return{useStoreActions:f,useStoreDispatch:m,useStoreState:h,useStoreRehydrated:j,useStore:v}},t.debug=function(e){return ot.isDraft(e)?ot.current(e):e},t.generic=function(e){return e},t.memo=function(e,t){return s(t)(e)},t.persist=function(e,t){var n;return"undefined"==typeof window?e:y({},e,((n={}).$ep_p=t,n))},t.reducer=function(e){var t;return(t={}).$ep_r=!0,t.fn=e,t},t.thunk=function(e){var t;return(t={}).$ep_t=!0,t.fn=e,t},t.thunkOn=function(e,t){var n;return(n={}).$ep_tO=!0,n.fn=t,n.targetResolver=e,n},t.unstable_effectOn=function(e,t){var n;return(n={}).$ep_e=!0,n.dependencyResolvers=e,n.fn=t,n},t.useLocalStore=function(e,t,n){void 0===t&&(t=[]);var o=r.useRef(),i=r.useRef(),a=it.useMemoOne((function(){var t=null!=o.current?o.current.getState():void 0,r=null!=n?n(t,i.current):void 0,a=U(e(t),r);return i.current=r,o.current=a,a}),t),s=r.useState((function(){return a.getState()})),c=s[0],l=s[1];return r.useEffect((function(){return a.subscribe((function(){var e=a.getState();c!==e&&l(e)}))}),[a]),[c,a.getActions(),a]},t.useStore=v,t.useStoreActions=f,t.useStoreDispatch=m,t.useStoreRehydrated=j,t.useStoreState=h})),st=at.createTypedHooks(),ct=st.useStoreActions,lt=(st.useStoreDispatch,st.useStoreState),ut=st.useStore,dt=function(e){var t=null===e||void 0===e?void 0:e.target;return["INPUT","SELECT","TEXTAREA","BUTTON"].includes(null===t||void 0===t?void 0:t.nodeName)||(null===t||void 0===t?void 0:t.hasAttribute("contenteditable"))},ht=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},pt=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),Math.min(Math.max(e,t),n)},ft=function(e,t){return{x:pt(e.x,t[0][0],t[1][0]),y:pt(e.y,t[0][1],t[1][1])}},bt=function(e){var t=Object(s.useState)(!1),n=t[0],r=t[1];return Object(s.useEffect)((function(){if("undefined"!==typeof e){var t=function(t){dt(t)||t.key!==e&&t.keyCode!==e||(t.preventDefault(),r(!0))},n=function(t){dt(t)||t.key!==e&&t.keyCode!==e||r(!1)},o=function(){return r(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),window.addEventListener("blur",o),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n),window.removeEventListener("blur",o)}}}),[e,r]),n},mt=function(e){return"id"in e&&"source"in e&&"target"in e},vt=function(e){return"id"in e&&!("source"in e)&&!("target"in e)},gt=function(e){return function(t){var n=e.getState();return function(e,t,n,r){var o=e.x,i=e.y,a=t[0],s=t[1],c=t[2],l=r[0],u=r[1],d={x:(o-a)/c,y:(i-s)/c};return n?{x:l*Math.round(d.x/l),y:u*Math.round(d.y/u)}:d}(t,n.transform,n.snapToGrid,n.snapGrid)}},jt=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},yt=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},xt=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},Ot=function(e){var t=e.reduce((function(e,t){var n=t.__rf,r=void 0===n?{}:n,o=r.position,i=r.width,a=r.height;return jt(e,yt(h(h({},o),{width:i,height:a})))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return xt(t)},_t=function(e,t,n,r){var o=void 0===n?[0,0,1]:n,i=o[0],a=o[1],s=o[2];void 0===r&&(r=!1);var c=yt({x:(t.x-i)/s,y:(t.y-a)/s,width:t.width/s,height:t.height/s});return e.filter((function(e){var t=e.__rf,n=t.position,o=t.width,i=t.height,a=t.isDragging,s=yt(h(h({},n),{width:o,height:i})),l=Math.max(0,Math.min(c.x2,s.x2)-Math.max(c.x,s.x)),u=Math.max(0,Math.min(c.y2,s.y2)-Math.max(c.y,s.y)),d=Math.ceil(l*u);return!(null!==o&&null!==i&&!a)||(r?d>0:d>=o*i)}))},Ct=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.source)||n.includes(e.target)}))},wt=function(e,t){return f(e.map((function(e){var t=h({},e);return t.position=t.__rf.position,delete t.__rf,t})),t.map((function(e){return h({},e)})))},Et=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,o=t.edges;return wt(r,void 0===o?[]:o)}},St=function(e){return function(){var t=e.getState(),n=t.nodes,r=void 0===n?[]:n,o=t.edges,i=void 0===o?[]:o,a=t.transform;return{elements:wt(r,i),position:[a[0],a[1]],zoom:a[2]}}},Tt={value:()=>{}};function Mt(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Pt(r)}function Pt(e){this._=e}function kt(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Lt(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Rt(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Tt,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Pt.prototype=Mt.prototype={constructor:Pt,on:function(e,t){var n,r=this._,o=kt(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=Rt(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Rt(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=Lt(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Pt(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var Dt="http://www.w3.org/1999/xhtml",It={svg:"http://www.w3.org/2000/svg",xhtml:Dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nt(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),It.hasOwnProperty(t)?{space:It[t],local:e}:e}function At(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Dt&&t.documentElement.namespaceURI===Dt?t.createElement(e):t.createElementNS(n,e)}}function Ht(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bt(e){var t=Nt(e);return(t.local?Ht:At)(t)}function Vt(){}function Zt(e){return null==e?Vt:function(){return this.querySelector(e)}}function Ft(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function zt(){return[]}function Kt(e){return null==e?zt:function(){return this.querySelectorAll(e)}}function Ut(e){return function(){return this.matches(e)}}function Xt(e){return function(t){return t.matches(e)}}var Yt=Array.prototype.find;function Gt(){return this.firstElementChild}var Wt=Array.prototype.filter;function qt(){return this.children}function $t(e){return new Array(e.length)}function Qt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Jt(e){return function(){return e}}function en(e,t,n,r,o,i){for(var a,s=0,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Qt(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function tn(e,t,n,r,o,i,a){var s,c,l,u=new Map,d=t.length,h=i.length,p=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(p[s]=l=a.call(c,c.__data__,s,t)+"",u.has(l)?o[s]=c:u.set(l,c));for(s=0;s<h;++s)l=a.call(e,i[s],s,i)+"",(c=u.get(l))?(r[s]=c,c.__data__=i[s],u.delete(l)):n[s]=new Qt(e,i[s]);for(s=0;s<d;++s)(c=t[s])&&u.get(p[s])===c&&(o[s]=c)}function nn(e){return e.__data__}function rn(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function on(e){return function(){this.removeAttribute(e)}}function an(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sn(e,t){return function(){this.setAttribute(e,t)}}function cn(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ln(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function un(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function dn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function hn(e){return function(){this.style.removeProperty(e)}}function pn(e,t,n){return function(){this.style.setProperty(e,t,n)}}function fn(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function bn(e,t){return e.style.getPropertyValue(t)||dn(e).getComputedStyle(e,null).getPropertyValue(t)}function mn(e){return function(){delete this[e]}}function vn(e,t){return function(){this[e]=t}}function gn(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function jn(e){return e.trim().split(/^|\s+/)}function yn(e){return e.classList||new xn(e)}function xn(e){this._node=e,this._names=jn(e.getAttribute("class")||"")}function On(e,t){for(var n=yn(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function _n(e,t){for(var n=yn(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Cn(e){return function(){On(this,e)}}function wn(e){return function(){_n(this,e)}}function En(e,t){return function(){(t.apply(this,arguments)?On:_n)(this,e)}}function Sn(){this.textContent=""}function Tn(e){return function(){this.textContent=e}}function Mn(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Pn(){this.innerHTML=""}function kn(e){return function(){this.innerHTML=e}}function Ln(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Rn(){this.nextSibling&&this.parentNode.appendChild(this)}function Dn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function In(){return null}function Nn(){var e=this.parentNode;e&&e.removeChild(this)}function An(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bn(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Vn(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Zn(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Fn(e,t,n){var r=dn(e),o=r.CustomEvent;"function"===typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function zn(e,t){return function(){return Fn(this,e,t)}}function Kn(e,t){return function(){return Fn(this,e,t.apply(this,arguments))}}function Un(){var e,t,n,r,o,a,s;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){i.next=13;break}r=e[t],o=0,a=r.length;case 3:if(!(o<a)){i.next=10;break}if(!(s=r[o])){i.next=7;break}return i.next=7,s;case 7:++o,i.next=3;break;case 10:++t,i.next=1;break;case 13:case"end":return i.stop()}}),d,this)}Qt.prototype={constructor:Qt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},xn.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Xn=[null];function Yn(e,t){this._groups=e,this._parents=t}function Gn(){return new Yn([[document.documentElement]],Xn)}function Wn(e){return"string"===typeof e?new Yn([[document.querySelector(e)]],[document.documentElement]):new Yn([[e]],Xn)}function qn(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}function $n(e){e.preventDefault(),e.stopImmediatePropagation()}function Qn(e){var t=e.document.documentElement,n=Wn(e).on("dragstart.drag",$n,!0);"onselectstart"in t?n.on("selectstart.drag",$n,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Jn(e,t){var n=e.document.documentElement,r=Wn(e).on("dragstart.drag",null);t&&(r.on("click.drag",$n,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function er(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nr(){}Yn.prototype=Gn.prototype={constructor:Yn,select:function(e){"function"!==typeof e&&(e=Zt(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],c=s.length,l=r[o]=new Array(c),u=0;u<c;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),l[u]=a);return new Yn(r,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Ft(t)}}(e):Kt(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),o.push(a));return new Yn(r,o)},selectChild:function(e){return this.select(null==e?Gt:function(e){return function(){return Yt.call(this.children,e)}}("function"===typeof e?e:Xt(e)))},selectChildren:function(e){return this.selectAll(null==e?qt:function(e){return function(){return Wt.call(this.children,e)}}("function"===typeof e?e:Xt(e)))},filter:function(e){"function"!==typeof e&&(e=Ut(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new Yn(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,nn);var n=t?tn:en,r=this._parents,o=this._groups;"function"!==typeof e&&(e=Jt(e));for(var i=o.length,a=new Array(i),s=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],d=o[l],h=d.length,p=Ft(e.call(u,u&&u.__data__,l,r)),f=p.length,b=s[l]=new Array(f),m=a[l]=new Array(f),v=c[l]=new Array(h);n(u,d,b,m,v,p,t);for(var g,j,y=0,x=0;y<f;++y)if(g=b[y]){for(y>=x&&(x=y+1);!(j=m[x])&&++x<f;);g._next=j||null}}return(a=new Yn(a,r))._enter=s,a._exit=c,a},enter:function(){return new Yn(this._enter||this._groups.map($t),this._parents)},exit:function(){return new Yn(this._exit||this._groups.map($t),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"===typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){if(!(e instanceof Yn))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=t[s],u=n[s],d=l.length,h=a[s]=new Array(d),p=0;p<d;++p)(c=l[p]||u[p])&&(h[p]=c);for(;s<r;++s)a[s]=t[s];return new Yn(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=rn);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new Yn(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;var t,n=Object(a.a)(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(r){n.e(r)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=Nt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?an:on:"function"===typeof t?n.local?un:ln:n.local?cn:sn)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?hn:"function"===typeof t?fn:pn)(e,t,null==n?"":n)):bn(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?mn:"function"===typeof t?gn:vn)(e,t)):this.node()[e]},classed:function(e,t){var n=jn(e+"");if(arguments.length<2){for(var r=yn(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?En:t?Cn:wn)(n,t))},text:function(e){return arguments.length?this.each(null==e?Sn:("function"===typeof e?Mn:Tn)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Pn:("function"===typeof e?Ln:kn)(e)):this.node().innerHTML},raise:function(){return this.each(Rn)},lower:function(){return this.each(Dn)},append:function(e){var t="function"===typeof e?e:Bt(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Bt(e),r=null==t?In:"function"===typeof t?t:Zt(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Nn)},clone:function(e){return this.select(e?Hn:An)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=Bn(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Zn:Vn,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"===typeof t?Kn:zn)(e,t))},[Symbol.iterator]:Un};var rr=.7,or=1/rr,ir="\\s*([+-]?\\d+)\\s*",ar="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cr=/^#([0-9a-f]{3,8})$/,lr=new RegExp("^rgb\\("+[ir,ir,ir]+"\\)$"),ur=new RegExp("^rgb\\("+[sr,sr,sr]+"\\)$"),dr=new RegExp("^rgba\\("+[ir,ir,ir,ar]+"\\)$"),hr=new RegExp("^rgba\\("+[sr,sr,sr,ar]+"\\)$"),pr=new RegExp("^hsl\\("+[ar,sr,sr]+"\\)$"),fr=new RegExp("^hsla\\("+[ar,sr,sr,ar]+"\\)$"),br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mr(){return this.rgb().formatHex()}function vr(){return this.rgb().formatRgb()}function gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?jr(t):3===n?new _r(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?yr(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?yr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=lr.exec(e))?new _r(t[1],t[2],t[3],1):(t=ur.exec(e))?new _r(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=dr.exec(e))?yr(t[1],t[2],t[3],t[4]):(t=hr.exec(e))?yr(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=pr.exec(e))?Sr(t[1],t[2]/100,t[3]/100,1):(t=fr.exec(e))?Sr(t[1],t[2]/100,t[3]/100,t[4]):br.hasOwnProperty(e)?jr(br[e]):"transparent"===e?new _r(NaN,NaN,NaN,0):null}function jr(e){return new _r(e>>16&255,e>>8&255,255&e,1)}function yr(e,t,n,r){return r<=0&&(e=t=n=NaN),new _r(e,t,n,r)}function xr(e){return e instanceof nr||(e=gr(e)),e?new _r((e=e.rgb()).r,e.g,e.b,e.opacity):new _r}function Or(e,t,n,r){return 1===arguments.length?xr(e):new _r(e,t,n,null==r?1:r)}function _r(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Cr(){return"#"+Er(this.r)+Er(this.g)+Er(this.b)}function wr(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Er(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Sr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mr(e,t,n,r)}function Tr(e){if(e instanceof Mr)return new Mr(e.h,e.s,e.l,e.opacity);if(e instanceof nr||(e=gr(e)),!e)return new Mr;if(e instanceof Mr)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new Mr(a,s,c,e.opacity)}function Mr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Pr(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}er(nr,gr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:mr,formatHex:mr,formatHsl:function(){return Tr(this).formatHsl()},formatRgb:vr,toString:vr}),er(_r,Or,tr(nr,{brighter:function(e){return e=null==e?or:Math.pow(or,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?rr:Math.pow(rr,e),new _r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cr,formatHex:Cr,formatRgb:wr,toString:wr})),er(Mr,(function(e,t,n,r){return 1===arguments.length?Tr(e):new Mr(e,t,n,null==r?1:r)}),tr(nr,{brighter:function(e){return e=null==e?or:Math.pow(or,e),new Mr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?rr:Math.pow(rr,e),new Mr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new _r(Pr(e>=240?e-240:e+120,o,r),Pr(e,o,r),Pr(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var kr=e=>()=>e;function Lr(e){return 1===(e=+e)?Rr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):kr(isNaN(t)?n:t)}}function Rr(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):kr(isNaN(e)?t:e)}var Dr=function e(t){var n=Lr(t);function r(e,t){var r=n((e=Or(e)).r,(t=Or(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Rr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Ir(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Nr.source,"g");function Hr(e,t){var n,r,o,i=Nr.lastIndex=Ar.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=Nr.exec(e))&&(r=Ar.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Ir(n,r)})),i=Ar.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}var Br,Vr=180/Math.PI,Zr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fr(e,t,n,r,o,i){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Vr,skewX:Math.atan(c)*Vr,scaleX:a,scaleY:s}}function zr(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],c=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:Ir(e,o)},{i:c-2,x:Ir(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Ir(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,c),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Ir(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,c),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Ir(e,n)},{i:s-2,x:Ir(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var Kr=zr((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Zr:Fr(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Ur=zr((function(e){return null==e?Zr:(Br||(Br=document.createElementNS("http://www.w3.org/2000/svg","g")),Br.setAttribute("transform",e),(e=Br.transform.baseVal.consolidate())?Fr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Zr)}),", ",")",")");function Xr(e){return((e=Math.exp(e))+1/e)/2}var Yr,Gr,Wr=function e(t,n,r){function o(e,o){var i,a,s=e[0],c=e[1],l=e[2],u=o[0],d=o[1],h=o[2],p=u-s,f=d-c,b=p*p+f*f;if(b<1e-12)a=Math.log(h/l)/t,i=function(e){return[s+e*p,c+e*f,l*Math.exp(t*e*a)]};else{var m=Math.sqrt(b),v=(h*h-l*l+r*b)/(2*l*n*m),g=(h*h-l*l-r*b)/(2*h*n*m),j=Math.log(Math.sqrt(v*v+1)-v),y=Math.log(Math.sqrt(g*g+1)-g);a=(y-j)/t,i=function(e){var r=e*a,o=Xr(j),i=l/(n*m)*(o*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+j)-function(e){return((e=Math.exp(e))-1/e)/2}(j));return[s+i*p,c+i*f,l*o/Xr(t*r+j)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4),qr=0,$r=0,Qr=0,Jr=0,eo=0,to=0,no="object"===typeof performance&&performance.now?performance:Date,ro="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function oo(){return eo||(ro(io),eo=no.now()+to)}function io(){eo=0}function ao(){this._call=this._time=this._next=null}function so(e,t,n){var r=new ao;return r.restart(e,t,n),r}function co(){eo=(Jr=no.now())+to,qr=$r=0;try{!function(){oo(),++qr;for(var e,t=Yr;t;)(e=eo-t._time)>=0&&t._call.call(null,e),t=t._next;--qr}()}finally{qr=0,function(){var e,t,n=Yr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Yr=t);Gr=e,uo(r)}(),eo=0}}function lo(){var e=no.now(),t=e-Jr;t>1e3&&(to-=t,Jr=e)}function uo(e){qr||($r&&($r=clearTimeout($r)),e-eo>24?(e<1/0&&($r=setTimeout(co,e-no.now()-to)),Qr&&(Qr=clearInterval(Qr))):(Qr||(Jr=no.now(),Qr=setInterval(lo,1e3)),qr=1,ro(co)))}function ho(e,t,n){var r=new ao;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}ao.prototype=so.prototype={constructor:ao,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?oo():+n)+(null==t?0:+t),this._next||Gr===this||(Gr?Gr._next=this:Yr=this,Gr=this),this._call=e,this._time=n,uo()},stop:function(){this._call&&(this._call=null,this._time=1/0,uo())}};var po=Mt("start","end","cancel","interrupt"),fo=[];function bo(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var l,u,d,h;if(1!==n.state)return c();for(l in o)if((h=o[l]).name===n.name){if(3===h.state)return ho(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[l]):+l<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[l])}if(ho((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=so(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:po,tween:fo,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function mo(e,t){var n=go(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function vo(e,t){var n=go(e,t);if(n.state>3)throw new Error("too late; already running");return n}function go(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function jo(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function yo(e,t){var n,r;return function(){var o=vo(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function xo(e,t,n){var r,o;if("function"!==typeof n)throw new Error;return function(){var i=vo(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function Oo(e,t,n){var r=e._id;return e.each((function(){var e=vo(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return go(e,r).value[t]}}function _o(e,t){var n;return("number"===typeof t?Ir:t instanceof gr?Dr:(n=gr(t))?(t=n,Dr):Hr)(e,t)}function Co(e){return function(){this.removeAttribute(e)}}function wo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Eo(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function So(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function To(e,t,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,c));this.removeAttribute(e)}}function Mo(e,t,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function Po(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ko(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Lo(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ko(e,o)),n}return o._value=t,o}function Ro(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Po(e,o)),n}return o._value=t,o}function Do(e,t){return function(){mo(this,e).delay=+t.apply(this,arguments)}}function Io(e,t){return t=+t,function(){mo(this,e).delay=t}}function No(e,t){return function(){vo(this,e).duration=+t.apply(this,arguments)}}function Ao(e,t){return t=+t,function(){vo(this,e).duration=t}}function Ho(e,t){if("function"!==typeof t)throw new Error;return function(){vo(this,e).ease=t}}function Bo(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?mo:vo;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}var Vo=Gn.prototype.constructor;function Zo(e){return function(){this.style.removeProperty(e)}}function Fo(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function zo(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&Fo(e,i,n)),r}return i._value=t,i}function Ko(e){return function(t){this.textContent=e.call(this,t)}}function Uo(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Ko(r)),t}return r._value=e,r}var Xo=0;function Yo(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Go(){return++Xo}var Wo=Gn.prototype;Yo.prototype={constructor:Yo,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Zt(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,c,l=r[a],u=l.length,d=i[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=e.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),d[h]=c,bo(d[h],t,n,h,d,go(s,n)));return new Yo(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Kt(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c,l=r[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var h,p=e.call(c,c.__data__,d,l),f=go(c,n),b=0,m=p.length;b<m;++b)(h=p[b])&&bo(h,t,n,b,p,f);i.push(p),a.push(c)}return new Yo(i,a,t,n)},filter:function(e){"function"!==typeof e&&(e=Ut(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new Yo(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=t[s],u=n[s],d=l.length,h=a[s]=new Array(d),p=0;p<d;++p)(c=l[p]||u[p])&&(h[p]=c);for(;s<r;++s)a[s]=t[s];return new Yo(a,this._parents,this._name,this._id)},selection:function(){return new Vo(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Go(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=go(a,t);bo(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Yo(r,this._parents,e,n)},call:Wo.call,nodes:Wo.nodes,node:Wo.node,size:Wo.size,empty:Wo.empty,each:Wo.each,on:function(e,t){var n=this._id;return arguments.length<2?go(this.node(),n).on.on(e):this.each(Bo(n,e,t))},attr:function(e,t){var n=Nt(e),r="transform"===n?Ur:_o;return this.attrTween(e,"function"===typeof t?(n.local?Mo:To)(n,r,Oo(this,"attr."+e,t)):null==t?(n.local?wo:Co)(n):(n.local?So:Eo)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Nt(e);return this.tween(n,(r.local?Lo:Ro)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Kr:_o;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=bn(this,e),a=(this.style.removeProperty(e),bn(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,Zo(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=bn(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=bn(this,e)),a===c?null:a===r&&c===o?i:(o=c,i=t(r=a,s))}}(e,r,Oo(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var c=vo(this,e),l=c.on,u=null==c.value[a]?i||(i=Zo(t)):void 0;l===n&&o===u||(r=(n=l).copy()).on(s,o=u),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=bn(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,zo(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Oo(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,Uo(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=go(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?yo:xo)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Do:Io)(t,e)):go(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?No:Ao)(t,e)):go(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Ho(t,e)):go(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;vo(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0===--o&&i()}};n.each((function(){var n=vo(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:Wo[Symbol.iterator]};var qo={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function $o(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Gn.prototype.interrupt=function(e){return this.each((function(){jo(this,e)}))},Gn.prototype.transition=function(e){var t,n;e instanceof Yo?(t=e._id,e=e._name):(t=Go(),(n=qo).time=oo(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)(a=s[l])&&bo(a,e,t,l,s,n||$o(a,t));return new Yo(r,this._parents,e,t)};var Qo=e=>()=>e;function Jo(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ei(e,t,n){this.k=e,this.x=t,this.y=n}ei.prototype={constructor:ei,scale:function(e){return 1===e?this:new ei(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ei(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ti=new ei(1,0,0);function ni(e){e.stopImmediatePropagation()}function ri(e){e.preventDefault(),e.stopImmediatePropagation()}function oi(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function ii(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function ai(){return this.__zoom||ti}function si(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ci(){return navigator.maxTouchPoints||"ontouchstart"in this}function li(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}var ui,di,hi,pi,fi,bi;!function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(ui||(ui={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(di||(di={})),function(e){e.Lines="lines",e.Dots="dots"}(hi||(hi={})),function(e){e.Strict="strict",e.Loose="loose"}(pi||(pi={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"}(fi||(fi={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(bi||(bi={}));var mi=function(e,t){return e.x!==t.x||e.y!==t.y||e.zoom!==t.k},vi=function(e){return{x:e.x,y:e.y,zoom:e.k}},gi=function(e){var t=e.onMove,n=e.onMoveStart,r=e.onMoveEnd,o=e.zoomOnScroll,i=void 0===o||o,a=e.zoomOnPinch,l=void 0===a||a,u=e.panOnScroll,d=void 0!==u&&u,h=e.panOnScrollSpeed,p=void 0===h?.5:h,f=e.panOnScrollMode,b=void 0===f?bi.Free:f,m=e.zoomOnDoubleClick,v=void 0===m||m,g=e.selectionKeyPressed,j=e.elementsSelectable,y=e.paneMoveable,x=void 0===y||y,O=e.defaultPosition,_=void 0===O?[0,0]:O,C=e.defaultZoom,w=void 0===C?1:C,E=e.translateExtent,S=e.zoomActivationKeyCode,T=e.children,M=Object(s.useRef)(null),P=Object(s.useRef)({x:0,y:0,zoom:0}),k=ut(),L=lt((function(e){return e.d3Zoom})),R=lt((function(e){return e.d3Selection})),D=lt((function(e){return e.d3ZoomHandler})),I=ct((function(e){return e.initD3Zoom})),N=ct((function(e){return e.updateTransform})),A=bt(S);return function(e){var t=ct((function(e){return e.updateSize}));Object(s.useEffect)((function(){var n,r=function(){if(e.current){var n=ht(e.current);0!==n.height&&0!==n.width||console.warn("The React Flow parent container needs a width and a height to render the graph."),t(n)}};return r(),window.onresize=r,e.current&&(n=new ResizeObserver((function(){return r()}))).observe(e.current),function(){window.onresize=null,n&&e.current&&n.unobserve(e.current)}}),[])}(M),Object(s.useEffect)((function(){if(M.current){var e=k.getState(),t="undefined"!==typeof E?E:e.translateExtent,n=function(){var e,t,n,r=oi,o=ii,i=li,a=si,s=ci,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Wr,h=Mt("start","zoom","end"),p=500,f=0,b=10;function m(e){e.property("__zoom",ai).on("wheel.zoom",_).on("mousedown.zoom",C).on("dblclick.zoom",w).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new ei(t,e.x,e.y)}function g(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new ei(e.k,r,o)}function j(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n,r){e.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=x(e,i).event(r),s=o.apply(e,i),c=null==n?j(s):"function"===typeof n?n.apply(e,i):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,i):t,p=d(u.invert(c).concat(l/u.k),h.invert(c).concat(l/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=l/t[2];e=new ei(n,c[0]-t[0]*n,c[1]-t[1]*n)}a.zoom(null,e)}}))}function x(e,t,n){return!n&&e.__zooming||new O(e,t)}function O(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function _(e,...t){if(r.apply(this,arguments)){var n=x(this,t).event(e),o=this.__zoom,s=Math.max(c[0],Math.min(c[1],o.k*Math.pow(2,a.apply(this,arguments)))),u=qn(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=o.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[u,o.invert(u)],jo(this),n.start()}ri(e),n.wheel=setTimeout(d,150),n.zoom("mouse",i(g(v(o,s),n.mouse[0],n.mouse[1]),n.extent,l))}function d(){n.wheel=null,n.end()}}function C(e,...t){if(!n&&r.apply(this,arguments)){var o=x(this,t,!0).event(e),a=Wn(e.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),s=qn(e,c),c=e.currentTarget,u=e.clientX,d=e.clientY;Qn(e.view),ni(e),o.mouse=[s,this.__zoom.invert(s)],jo(this),o.start()}function h(e){if(ri(e),!o.moved){var t=e.clientX-u,n=e.clientY-d;o.moved=t*t+n*n>f}o.event(e).zoom("mouse",i(g(o.that.__zoom,o.mouse[0]=qn(e,c),o.mouse[1]),o.extent,l))}function p(e){a.on("mousemove.zoom mouseup.zoom",null),Jn(e.view,o.moved),ri(e),o.event(e).end()}}function w(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=qn(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),c=n.k*(e.shiftKey?.5:2),d=i(g(v(n,c),a,s),o.apply(this,t),l);ri(e),u>0?Wn(this).transition().duration(u).call(y,d,a,e):Wn(this).call(m.transform,d,a,e)}}function E(n,...o){if(r.apply(this,arguments)){var i,a,s,c,l=n.touches,u=l.length,d=x(this,o,n.changedTouches.length===u).event(n);for(ni(n),a=0;a<u;++a)c=[c=qn(s=l[a],this),this.__zoom.invert(c),s.identifier],d.touch0?d.touch1||d.touch0[2]===c[2]||(d.touch1=c,d.taps=0):(d.touch0=c,i=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(d.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),p)),jo(this),d.start())}}function S(e,...t){if(this.__zooming){var n,r,o,a,s=x(this,t).event(e),c=e.changedTouches,u=c.length;for(ri(e),n=0;n<u;++n)o=qn(r=c[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],h=s.touch0[1],p=s.touch1[0],f=s.touch1[1],b=(b=p[0]-d[0])*b+(b=p[1]-d[1])*b,m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m;r=v(r,Math.sqrt(b/m)),o=[(d[0]+p[0])/2,(d[1]+p[1])/2],a=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(g(r,o,a),s.extent,l))}}function T(e,...r){if(this.__zooming){var o,i,a=x(this,r).event(e),s=e.changedTouches,c=s.length;for(ni(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),o=0;o<c;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=qn(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<b)){var l=Wn(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",ai),e!==o?y(e,t,n,r):o.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?j(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(a),c="function"===typeof t?t.apply(this,arguments):t;return i(g(v(r,c),a,s),e,l)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),o.apply(this,arguments),l)}),null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?j(e):"function"===typeof r?r.apply(this,arguments):r;return i(ti.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)}),r,a)},O.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Wn(this.that).datum();h.call(e,this.that,new Jo(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:Qo(+e),m):a},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:Qo(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Qo(!!e),m):s},m.extent=function(e){return arguments.length?(o="function"===typeof e?e:Qo([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],m):[c[0],c[1]]},m.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,m):Math.sqrt(f)},m.tapDistance=function(e){return arguments.length?(b=+e,m):b},m}().scaleExtent([e.minZoom,e.maxZoom]).translateExtent(t),r=Wn(M.current).call(n),o=pt(_[0],t[0][0],t[1][0]),i=pt(_[1],t[0][1],t[1][1]),a=pt(w,e.minZoom,e.maxZoom),s=ti.translate(o,i).scale(a);n.transform(r,s),I({d3Zoom:n,d3Selection:r,d3ZoomHandler:r.on("wheel.zoom"),transform:[o,i,a]})}}),[]),Object(s.useEffect)((function(){R&&L&&(d&&!A?R.on("wheel",(function(e){e.preventDefault(),e.stopImmediatePropagation();var t=R.property("__zoom").k||1;if(e.ctrlKey&&l){var n=qn(e),r=-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*10,o=t*Math.pow(2,r);L.scaleTo(R,o,n)}else{var i=1===e.deltaMode?20:1,a=b===bi.Vertical?0:e.deltaX*i,s=b===bi.Horizontal?0:e.deltaY*i;L.translateBy(R,-a/t*p,-s/t*p)}})).on("wheel.zoom",null):"undefined"!==typeof D&&R.on("wheel",null).on("wheel.zoom",D))}),[d,b,R,L,D,A,l]),Object(s.useEffect)((function(){L&&(g?L.on("zoom",null):L.on("zoom",(function(e){if(N([e.transform.x,e.transform.y,e.transform.k]),t){var n=vi(e.transform);t(n)}})))}),[g,L,N,t]),Object(s.useEffect)((function(){L&&(n?L.on("start",(function(e){if(mi(P.current,e.transform)){var t=vi(e.transform);P.current=t,n(t)}})):L.on("start",null))}),[L,n]),Object(s.useEffect)((function(){L&&(r?L.on("end",(function(e){if(mi(P.current,e.transform)){var t=vi(e.transform);P.current=t,r(t)}})):L.on("end",null))}),[L,r]),Object(s.useEffect)((function(){L&&L.filter((function(e){var t=A||i,n=l&&e.ctrlKey;return!!(x||t||d||v||l)&&(!g&&(!(!v&&"dblclick"===e.type)&&((!e.target.closest(".nowheel")||"wheel"!==e.type)&&((!e.target.closest(".react-flow__node")&&!e.target.closest(".react-flow__edgeupdater")||"wheel"===e.type)&&((!e.target.closest(".react-flow__nodesselection")||"wheel"===e.type)&&(!(!l&&e.ctrlKey&&"wheel"===e.type)&&(!!(t||d||n||"wheel"!==e.type)&&(!(!x&&"mousedown"===e.type)&&((!e.ctrlKey||"wheel"===e.type)&&!e.button)))))))))}))}),[L,i,l,d,v,x,g,j,A]),c.a.createElement("div",{className:"react-flow__renderer react-flow__zoompane",ref:M},T)};function ji(e){var t=e.target.closest(".react-flow");if(t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}var yi=function(){var e=lt((function(e){return e.userSelectionRect}));return e.draw?c.a.createElement("div",{className:"react-flow__selection",style:{width:e.width,height:e.height,transform:"translate("+e.x+"px, "+e.y+"px)"}}):null},xi=Object(s.memo)((function(e){var t=e.selectionKeyPressed,n=lt((function(e){return e.selectionActive})),r=lt((function(e){return e.elementsSelectable})),o=ct((function(e){return e.setUserSelection})),i=ct((function(e){return e.updateUserSelection})),a=ct((function(e){return e.unsetUserSelection})),s=ct((function(e){return e.unsetNodesSelection}));if(!r||!(n||t))return null;return c.a.createElement("div",{className:"react-flow__selectionpane",onMouseDown:function(e){var t=ji(e);t&&o(t)},onMouseMove:function(e){if(t&&n){var r=ji(e);r&&i(r)}},onMouseUp:function(){return a()},onMouseLeave:function(){a(),s()}},c.a.createElement(yi,null))})),Oi="function"===typeof Symbol&&Symbol.for,_i=Oi?Symbol.for("react.element"):60103,Ci=Oi?Symbol.for("react.portal"):60106,wi=Oi?Symbol.for("react.fragment"):60107,Ei=Oi?Symbol.for("react.strict_mode"):60108,Si=Oi?Symbol.for("react.profiler"):60114,Ti=Oi?Symbol.for("react.provider"):60109,Mi=Oi?Symbol.for("react.context"):60110,Pi=Oi?Symbol.for("react.async_mode"):60111,ki=Oi?Symbol.for("react.concurrent_mode"):60111,Li=Oi?Symbol.for("react.forward_ref"):60112,Ri=Oi?Symbol.for("react.suspense"):60113,Di=Oi?Symbol.for("react.suspense_list"):60120,Ii=Oi?Symbol.for("react.memo"):60115,Ni=Oi?Symbol.for("react.lazy"):60116,Ai=Oi?Symbol.for("react.block"):60121,Hi=Oi?Symbol.for("react.fundamental"):60117,Bi=Oi?Symbol.for("react.responder"):60118,Vi=Oi?Symbol.for("react.scope"):60119;function Zi(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case _i:switch(e=e.type){case Pi:case ki:case wi:case Si:case Ei:case Ri:return e;default:switch(e=e&&e.$$typeof){case Mi:case Li:case Ni:case Ii:case Ti:return e;default:return t}}case Ci:return t}}}function Fi(e){return Zi(e)===ki}var zi={AsyncMode:Pi,ConcurrentMode:ki,ContextConsumer:Mi,ContextProvider:Ti,Element:_i,ForwardRef:Li,Fragment:wi,Lazy:Ni,Memo:Ii,Portal:Ci,Profiler:Si,StrictMode:Ei,Suspense:Ri,isAsyncMode:function(e){return Fi(e)||Zi(e)===Pi},isConcurrentMode:Fi,isContextConsumer:function(e){return Zi(e)===Mi},isContextProvider:function(e){return Zi(e)===Ti},isElement:function(e){return"object"===typeof e&&null!==e&&e.$$typeof===_i},isForwardRef:function(e){return Zi(e)===Li},isFragment:function(e){return Zi(e)===wi},isLazy:function(e){return Zi(e)===Ni},isMemo:function(e){return Zi(e)===Ii},isPortal:function(e){return Zi(e)===Ci},isProfiler:function(e){return Zi(e)===Si},isStrictMode:function(e){return Zi(e)===Ei},isSuspense:function(e){return Zi(e)===Ri},isValidElementType:function(e){return"string"===typeof e||"function"===typeof e||e===wi||e===ki||e===Si||e===Ei||e===Ri||e===Di||"object"===typeof e&&null!==e&&(e.$$typeof===Ni||e.$$typeof===Ii||e.$$typeof===Ti||e.$$typeof===Mi||e.$$typeof===Li||e.$$typeof===Hi||e.$$typeof===Bi||e.$$typeof===Vi||e.$$typeof===Ai)},typeOf:Zi},Ki=(g((function(e,t){0})),g((function(e){e.exports=zi})),Object.getOwnPropertySymbols),Ui=Object.prototype.hasOwnProperty,Xi=Object.prototype.propertyIsEnumerable;function Yi(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}})()&&Object.assign;var Gi="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function Wi(e,t,n,r,o){}Wi.resetWarningCache=function(){0};Function.call.bind(Object.prototype.hasOwnProperty);function qi(){}function $i(){}$i.resetWarningCache=qi;var Qi=g((function(e){e.exports=function(){function e(e,t,n,r,o,i){if(i!==Gi){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$i,resetWarningCache:qi};return n.PropTypes=n,n}()})),Ji=g((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var a=n.apply(null,o);a&&e.push(a)}else if("object"===i)for(var s in o)t.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),ea=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},ta=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},na=function(e){return"number"===typeof e&&!isNaN(e)},ra=function(e){return parseInt(e,10)},oa=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))};var ia=Object.defineProperty({findInArray:ea,isFunction:ta,isNum:na,int:ra,dontSetMe:oa},"__esModule",{value:!0});function aa(e){return(aa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var sa=ka,ca=function(e,t,n){var r=e;do{if(ka(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},la=function(e,t,n,r){if(!e)return;var o=Ta({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},ua=function(e,t,n,r){if(!e)return;var o=Ta({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},da=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,ia.int)(n.borderTopWidth),t+=(0,ia.int)(n.borderBottomWidth)},ha=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,ia.int)(n.borderLeftWidth),t+=(0,ia.int)(n.borderRightWidth)},pa=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,ia.int)(n.paddingTop),t-=(0,ia.int)(n.paddingBottom)},fa=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,ia.int)(n.paddingLeft),t-=(0,ia.int)(n.paddingRight)},ba=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:i}},ma=function(e,t){var n=La(e,t,"px");return Ma({},(0,wa.browserPrefixToKey)("transform",wa.default),n)},va=function(e,t){return La(e,t,"")},ga=La,ja=function(e,t){return e.targetTouches&&(0,ia.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,ia.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},ya=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},xa=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&Ra(e.body,"react-draggable-transparent-selection")},Oa=function(e){if(!e)return;try{if(e.body&&Da(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}},_a=Ra,Ca=Da,wa=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==aa(e)&&"function"!==typeof e)return{default:e};var t=Ea();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(g((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<n.length;r++)if(o(e,n[r])in t)return n[r];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=r();t.default=i})));function Ea(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return Ea=function(){return e},e}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){Ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pa="";function ka(e,t){return Pa||(Pa=(0,ia.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,ia.isFunction)(e[t])}))),!!(0,ia.isFunction)(e[Pa])&&e[Pa](t)}function La(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"===typeof t.x?t.x:t.x+n),s="".concat("string"===typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(s,")")+i}return i}function Ra(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Da(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Ia=Object.defineProperty({matchesSelector:sa,matchesSelectorAndParentsTo:ca,addEvent:la,removeEvent:ua,outerHeight:da,outerWidth:ha,innerHeight:pa,innerWidth:fa,offsetXYFromParent:ba,createCSSTransform:ma,createSVGTransform:va,getTranslation:ga,getTouch:ja,getTouchIdentifier:ya,addUserSelectStyles:xa,removeUserSelectStyles:Oa,addClassName:_a,removeClassName:Ca},"__esModule",{value:!0}),Na=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"===typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=za(e);if("string"===typeof r){var i,a=o.ownerDocument,s=a.defaultView;if(!((i="parent"===r?o.parentNode:a.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var c=s.getComputedStyle(o),l=s.getComputedStyle(i);r={left:-o.offsetLeft+(0,ia.int)(l.paddingLeft)+(0,ia.int)(c.marginLeft),top:-o.offsetTop+(0,ia.int)(l.paddingTop)+(0,ia.int)(c.marginTop),right:(0,Ia.innerWidth)(i)-(0,Ia.outerWidth)(o)-o.offsetLeft+(0,ia.int)(l.paddingRight)-(0,ia.int)(c.marginRight),bottom:(0,Ia.innerHeight)(i)-(0,Ia.outerHeight)(o)-o.offsetTop+(0,ia.int)(l.paddingBottom)-(0,ia.int)(c.marginBottom)}}(0,ia.isNum)(r.right)&&(t=Math.min(t,r.right));(0,ia.isNum)(r.bottom)&&(n=Math.min(n,r.bottom));(0,ia.isNum)(r.left)&&(t=Math.max(t,r.left));(0,ia.isNum)(r.top)&&(n=Math.max(n,r.top));return[t,n]},Aa=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]},Ha=function(e){return"both"===e.props.axis||"x"===e.props.axis},Ba=function(e){return"both"===e.props.axis||"y"===e.props.axis},Va=function(e,t,n){var r="number"===typeof t?(0,Ia.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var o=za(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,Ia.offsetXYFromParent)(r||e,i,n.props.scale)},Za=function(e,t,n){var r=e.state,o=!(0,ia.isNum)(r.lastX),i=za(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}},Fa=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};function za(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Ka=Object.defineProperty({getBoundPosition:Na,snapToGrid:Aa,canDragX:Ha,canDragY:Ba,getControlPosition:Va,createCoreData:Za,createDraggableData:Fa},"__esModule",{value:!0}),Ua=function(){};var Xa=Object.defineProperty({default:Ua},"__esModule",{value:!0}),Ya=g((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(c.a),r=a(Qi),o=a(u.a),i=a(Xa);function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={start:"touchstart",move:"touchmove",stop:"touchend"},O={start:"mousedown",move:"mousemove",stop:"mouseup"},_=O,C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,r,a,s=m(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(g(e=s.call.apply(s,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),y(g(e),"mounted",!1),y(g(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,Ia.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,Ia.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,Ia.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var a=(0,Ka.getControlPosition)(t,o,g(e));if(null!=a){var s=a.x,c=a.y,l=(0,Ka.createCoreData)(g(e),s,c);(0,i.default)("DraggableCore: handleDragStart: %j",l),(0,i.default)("calling",e.props.onStart),!1!==e.props.onStart(t,l)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,Ia.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:s,lastY:c}),(0,Ia.addEvent)(r,_.move,e.handleDrag),(0,Ia.addEvent)(r,_.stop,e.handleDragStop))}}})),y(g(e),"handleDrag",(function(t){var n=(0,Ka.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX,s=o-e.state.lastY,c=d((0,Ka.snapToGrid)(e.props.grid,a,s),2);if(a=c[0],s=c[1],!a&&!s)return;r=e.state.lastX+a,o=e.state.lastY+s}var l=(0,Ka.createCoreData)(g(e),r,o);if((0,i.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(h){var u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(u)}}})),y(g(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,Ka.getControlPosition)(t,e.state.touchIdentifier,g(e));if(null!=n){var r=n.x,o=n.y,a=(0,Ka.createCoreData)(g(e),r,o);if(!1===e.props.onStop(t,a)||!1===e.mounted)return!1;var s=e.findDOMNode();s&&e.props.enableUserSelectHack&&(0,Ia.removeUserSelectStyles)(s.ownerDocument),(0,i.default)("DraggableCore: handleDragStop: %j",a),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),s&&((0,i.default)("DraggableCore: Removing handlers"),(0,Ia.removeEvent)(s.ownerDocument,_.move,e.handleDrag),(0,Ia.removeEvent)(s.ownerDocument,_.stop,e.handleDragStop))}}})),y(g(e),"onMouseDown",(function(t){return _=O,e.handleDragStart(t)})),y(g(e),"onMouseUp",(function(t){return _=O,e.handleDragStop(t)})),y(g(e),"onTouchStart",(function(t){return _=x,e.handleDragStart(t)})),y(g(e),"onTouchEnd",(function(t){return _=x,e.handleDragStop(t)})),e}return t=c,(r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,Ia.addEvent)(e,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,Ia.removeEvent)(t,O.move,this.handleDrag),(0,Ia.removeEvent)(t,x.move,this.handleDrag),(0,Ia.removeEvent)(t,O.stop,this.handleDragStop),(0,Ia.removeEvent)(t,x.stop,this.handleDragStop),(0,Ia.removeEvent)(e,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ia.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&f(t.prototype,r),a&&f(t,a),c}(n.Component);t.default=C,y(C,"displayName","DraggableCore"),y(C,"propTypes",{allowAnyClick:r.default.bool,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:ia.dontSetMe,style:ia.dontSetMe,transform:ia.dontSetMe}),y(C,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})})),Ga=g((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return a.default}}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(c.a),r=l(Qi),o=l(u.a),i=l(Ji),a=l(Ya),s=l(Xa);function l(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(r,e);var t=O(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),E(C(n=t.call(this,e)),"onDragStart",(function(e,t){if((0,s.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,Ka.createDraggableData)(C(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),E(C(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;(0,s.default)("Draggable: onDrag: %j",t);var r=(0,Ka.createDraggableData)(C(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,a=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var c=b((0,Ka.getBoundPosition)(C(n),o.x,o.y),2),l=c[0],u=c[1];o.x=l,o.y=u,o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),E(C(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,Ka.createDraggableData)(C(n),t)))return!1;(0,s.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,i=o.x,a=o.y;r.x=i,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:g({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return y(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,s.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:g({},n)})}}]),y(r,[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props;t.axis,t.bounds;var r=t.children,o=t.defaultPosition,s=t.defaultClassName,c=t.defaultClassNameDragging,l=t.defaultClassNameDragged,u=t.position,d=t.positionOffset;t.scale;var h=f(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"]),b={},m=null,v=!Boolean(u)||this.state.dragging,j=u||o,y={x:(0,Ka.canDragX)(this)&&v?this.state.x:j.x,y:(0,Ka.canDragY)(this)&&v?this.state.y:j.y};this.state.isElementSVG?m=(0,Ia.createSVGTransform)(y,d):b=(0,Ia.createCSSTransform)(y,d);var x=(0,i.default)(r.props.className||"",s,(E(e={},c,this.state.dragging),E(e,l,this.state.dragged),e));return n.createElement(a.default,p({},h,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:x,style:g(g({},r.props.style),b),transform:m}))}}]),r}(n.Component);t.default=S,E(S,"displayName","Draggable"),E(S,"propTypes",g(g({},a.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:ia.dontSetMe,style:ia.dontSetMe,transform:ia.dontSetMe})),E(S,"defaultProps",g(g({},a.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))})),Wa=Ga.default,qa=Ga.DraggableCore,$a=Wa,Qa=Wa,Ja=qa;$a.default=Qa,$a.DraggableCore=Ja;var es=function(e){var t=e.onSelectionDragStart,n=e.onSelectionDrag,r=e.onSelectionDragStop,o=e.onSelectionContextMenu,i=lt((function(e){return e.transform})),a=i[0],l=i[1],u=i[2],d=lt((function(e){return e.selectedNodesBbox})),p=lt((function(e){return e.selectionActive})),f=lt((function(e){return e.selectedElements})),b=lt((function(e){return e.snapToGrid})),m=lt((function(e){return e.snapGrid})),v=lt((function(e){return e.nodes})),g=ct((function(e){return e.updateNodePosDiff})),j=Object(s.useRef)(null),y=Object(s.useMemo)((function(){return b?m:[1,1]}),[b,m]),x=Object(s.useMemo)((function(){return f?f.filter(vt).map((function(e){var t=v.find((function(t){return t.id===e.id}));return h(h({},t),{position:null===t||void 0===t?void 0:t.__rf.position})})):[]}),[f,v]),O=Object(s.useMemo)((function(){return{transform:"translate("+a+"px,"+l+"px) scale("+u+")"}}),[a,l,u]),_=Object(s.useMemo)((function(){return{width:d.width,height:d.height,top:d.y,left:d.x}}),[d]),C=Object(s.useCallback)((function(e){null===t||void 0===t||t(e,x)}),[t,x]),w=Object(s.useCallback)((function(e,t){n&&n(e,x),g({diff:{x:t.deltaX,y:t.deltaY}})}),[n,x,g]),E=Object(s.useCallback)((function(e){g({isDragging:!1}),null===r||void 0===r||r(e,x)}),[x,r]),S=Object(s.useCallback)((function(e){var t=f?f.filter(vt).map((function(e){return v.find((function(t){return t.id===e.id}))})):[];null===o||void 0===o||o(e,t)}),[o]);return!f||p?null:c.a.createElement("div",{className:"react-flow__nodesselection",style:O},c.a.createElement($a,{scale:u,grid:y,onStart:function(e){return C(e)},onDrag:function(e,t){return w(e,t)},onStop:function(e){return E(e)},nodeRef:j},c.a.createElement("div",{ref:j,className:"react-flow__nodesselection-rect",onContextMenu:S,style:_})))},ts=function(e){var t=e.children,n=e.onPaneClick,r=e.onPaneContextMenu,o=e.onPaneScroll,i=e.onElementsRemove,a=e.deleteKeyCode,l=e.onMove,u=e.onMoveStart,d=e.onMoveEnd,h=e.selectionKeyCode,p=e.multiSelectionKeyCode,b=e.zoomActivationKeyCode,m=e.elementsSelectable,v=e.zoomOnScroll,g=e.zoomOnPinch,j=e.panOnScroll,y=e.panOnScrollSpeed,x=e.panOnScrollMode,O=e.zoomOnDoubleClick,_=e.paneMoveable,C=e.defaultPosition,w=e.defaultZoom,E=e.translateExtent,S=e.onSelectionDragStart,T=e.onSelectionDrag,M=e.onSelectionDragStop,P=e.onSelectionContextMenu,k=ct((function(e){return e.unsetNodesSelection})),L=ct((function(e){return e.resetSelectedElements})),R=lt((function(e){return e.nodesSelectionActive})),D=bt(h);!function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,r=e.onElementsRemove,o=ut(),i=ct((function(e){return e.unsetNodesSelection})),a=ct((function(e){return e.setMultiSelectionActive})),c=ct((function(e){return e.resetSelectedElements})),l=bt(t),u=bt(n);Object(s.useEffect)((function(){var e=o.getState(),t=e.edges,n=e.selectedElements;if(r&&l&&n){var a=n.filter(vt),s=f(n,Ct(a,t)).reduce((function(e,t){return e.set(t.id,t)}),new Map);r(Array.from(s.values())),i(),c()}}),[l]),Object(s.useEffect)((function(){a(u)}),[u])}({onElementsRemove:i,deleteKeyCode:a,multiSelectionKeyCode:p});var I=Object(s.useCallback)((function(e){null===n||void 0===n||n(e),k(),L()}),[n]),N=Object(s.useCallback)((function(e){null===r||void 0===r||r(e)}),[r]),A=Object(s.useCallback)((function(e){null===o||void 0===o||o(e)}),[o]);return c.a.createElement(gi,{onMove:l,onMoveStart:u,onMoveEnd:d,selectionKeyPressed:D,elementsSelectable:m,zoomOnScroll:v,zoomOnPinch:g,panOnScroll:j,panOnScrollSpeed:y,panOnScrollMode:x,zoomOnDoubleClick:O,paneMoveable:_,defaultPosition:C,defaultZoom:w,translateExtent:E,zoomActivationKeyCode:b},t,c.a.createElement(xi,{selectionKeyPressed:D}),R&&c.a.createElement(es,{onSelectionDragStart:S,onSelectionDrag:T,onSelectionDragStop:M,onSelectionContextMenu:P}),c.a.createElement("div",{className:"react-flow__pane",onClick:I,onContextMenu:N,onWheel:A}))};ts.displayName="FlowRenderer";var ns=Object(s.memo)(ts),rs=function(e){var t=lt((function(e){return e.transform})),n=lt((function(e){return e.selectedElements})),r=lt((function(e){return e.nodesDraggable})),o=lt((function(e){return e.nodesConnectable})),i=lt((function(e){return e.elementsSelectable})),a=lt((function(e){return e.viewportBox})),l=lt((function(e){return e.nodes})),u=ct((function(e){return e.batchUpdateNodeDimensions})),d=e.onlyRenderVisibleElements?_t(l,a,t,!0):l,h=Object(s.useMemo)((function(){return{transform:"translate("+t[0]+"px,"+t[1]+"px) scale("+t[2]+")"}}),[t[0],t[1],t[2]]),p=Object(s.useMemo)((function(){return"undefined"===typeof ResizeObserver?null:new ResizeObserver((function(e){var t=e.map((function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target}}));u({updates:t})}))}),[]);return c.a.createElement("div",{className:"react-flow__nodes",style:h},d.map((function(a){var s=a.type||"default",l=e.nodeTypes[s]||e.nodeTypes.default;e.nodeTypes[s]||console.warn('Node type "'+s+'" not found. Using fallback type "default".');var u=!!(a.draggable||r&&"undefined"===typeof a.draggable),d=!!(a.selectable||i&&"undefined"===typeof a.selectable),h=!!(a.connectable||o&&"undefined"===typeof a.connectable);return c.a.createElement(l,{key:a.id,id:a.id,className:a.className,style:a.style,type:s,data:a.data,sourcePosition:a.sourcePosition,targetPosition:a.targetPosition,isHidden:a.isHidden,xPos:a.__rf.position.x,yPos:a.__rf.position.y,isDragging:a.__rf.isDragging,isInitialized:null!==a.__rf.width&&null!==a.__rf.height,snapGrid:e.snapGrid,snapToGrid:e.snapToGrid,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onElementClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onNodeDragStart:e.onNodeDragStart,onNodeDrag:e.onNodeDrag,onNodeDragStop:e.onNodeDragStop,scale:t[2],selected:(null===n||void 0===n?void 0:n.some((function(e){return e.id===a.id})))||!1,isDraggable:u,isSelectable:d,isConnectable:h,resizeObserver:p})})))};rs.displayName="NodeRenderer";var os=Object(s.memo)(rs),is=Object(s.memo)((function(e){var t=e.x,n=e.y,r=e.label,o=e.labelStyle,i=void 0===o?{}:o,a=e.labelShowBg,l=void 0===a||a,u=e.labelBgStyle,d=void 0===u?{}:u,h=e.labelBgPadding,p=void 0===h?[2,4]:h,f=e.labelBgBorderRadius,b=void 0===f?2:f,m=Object(s.useRef)(null),v=Object(s.useState)({x:0,y:0,width:0,height:0}),g=v[0],j=v[1];return Object(s.useEffect)((function(){if(m.current){var e=m.current.getBBox();j({x:e.x,y:e.y,width:e.width,height:e.height})}}),[]),"undefined"!==typeof r&&r?c.a.createElement("g",{transform:"translate("+(t-g.width/2)+" "+(n-g.height/2)+")"},l&&c.a.createElement("rect",{width:g.width+2*p[0],x:-p[0],y:-p[1],height:g.height+2*p[1],className:"react-flow__edge-textbg",style:d,rx:b,ry:b}),c.a.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:m,style:i},r)):null})),as=function(e,t){return"undefined"!==typeof t&&t?"url(#"+t+")":"undefined"!==typeof e?"url(#react-flow__"+e+")":"none"},ss=function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=Math.abs(r-t)/2,a=r<t?r+i:r-i,s=Math.abs(o-n)/2;return[a,o<n?o+s:o-s,i,s]};function cs(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?ui.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,c=void 0===s?ui.Top:s,l=e.centerX,u=e.centerY,d=ss({sourceX:t,sourceY:n,targetX:i,targetY:a}),h=d[0],p=d[1],f=[ui.Left,ui.Right],b="undefined"!==typeof l?l:h,m="undefined"!==typeof u?u:p,v="M"+t+","+n+" C"+t+","+m+" "+i+","+m+" "+i+","+a;return f.includes(o)&&f.includes(c)?v="M"+t+","+n+" C"+b+","+n+" "+b+","+a+" "+i+","+a:f.includes(c)?v="M"+t+","+n+" C"+t+","+a+" "+t+","+a+" "+i+","+a:f.includes(o)&&(v="M"+t+","+n+" C"+i+","+n+" "+i+","+n+" "+i+","+a),v}var ls=Object(s.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=e.sourcePosition,a=void 0===i?ui.Bottom:i,s=e.targetPosition,l=void 0===s?ui.Top:s,u=e.label,d=e.labelStyle,h=e.labelShowBg,p=e.labelBgStyle,f=e.labelBgPadding,b=e.labelBgBorderRadius,m=e.style,v=e.arrowHeadType,g=e.markerEndId,j=ss({sourceX:t,sourceY:n,targetX:r,targetY:o}),y=j[0],x=j[1],O=cs({sourceX:t,sourceY:n,sourcePosition:a,targetX:r,targetY:o,targetPosition:l}),_=u?c.a.createElement(is,{x:y,y:x,label:u,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:b}):null,C=as(v,g);return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{style:m,d:O,className:"react-flow__edge-path",markerEnd:C}),_)})),us=function(e,t,n){return"L "+e+","+(t-n)+"Q "+e+","+t+" "+(e+n)+","+t},ds=function(e,t,n){return"L "+e+","+(t-n)+"Q "+e+","+t+" "+(e-n)+","+t},hs=function(e,t,n){return"L "+(e-n)+","+t+"Q "+e+","+t+" "+e+","+(t-n)},ps=function(e,t,n){return"L "+e+","+(t+n)+"Q "+e+","+t+" "+(e+n)+","+t},fs=function(e,t,n){return"L "+e+","+(t+n)+"Q "+e+","+t+" "+(e-n)+","+t},bs=function(e,t,n){return"L "+(e-n)+","+t+"Q "+e+","+t+" "+e+","+(t+n)};function ms(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?ui.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,c=void 0===s?ui.Top:s,l=e.borderRadius,u=void 0===l?5:l,d=e.centerX,h=e.centerY,p=ss({sourceX:t,sourceY:n,targetX:i,targetY:a}),f=p[0],b=p[1],m=p[2],v=p[3],g=Math.min(u,Math.abs(i-t)),j=Math.min(u,Math.abs(a-n)),y=Math.min(g,j,m,v),x=[ui.Left,ui.Right],O="undefined"!==typeof d?d:f,_="undefined"!==typeof h?h:b,C=null,w=null;return t<=i?(C=n<=a?us(t,_,y):ps(t,_,y),w=n<=a?bs(i,_,y):hs(i,_,y)):(C=n<a?ds(t,_,y):fs(t,_,y),w=n<a?function(e,t,n){return"L "+(e+n)+","+t+"Q "+e+","+t+" "+e+","+(t+n)}(i,_,y):function(e,t,n){return"L "+(e+n)+","+t+"Q "+e+","+t+" "+e+","+(t-n)}(i,_,y)),x.includes(o)&&x.includes(c)?t<=i&&(C=n<=a?bs(O,n,y):hs(O,n,y),w=n<=a?us(O,a,y):ps(O,a,y)):x.includes(o)&&!x.includes(c)?(C=t<=i?n<=a?bs(i,n,y):hs(i,n,y):n<=a?ds(t,a,y):fs(t,a,y),w=""):!x.includes(o)&&x.includes(c)&&(C=t<=i?n<=a?us(t,a,y):ps(t,a,y):n<=a?ds(t,a,y):fs(t,a,y),w=""),"M "+t+","+n+C+w+"L "+i+","+a}var vs=Object(s.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=e.label,a=e.labelStyle,s=e.labelShowBg,l=e.labelBgStyle,u=e.labelBgPadding,d=e.labelBgBorderRadius,h=e.style,p=e.sourcePosition,f=void 0===p?ui.Bottom:p,b=e.targetPosition,m=void 0===b?ui.Top:b,v=e.arrowHeadType,g=e.markerEndId,j=e.borderRadius,y=void 0===j?5:j,x=ss({sourceX:t,sourceY:n,targetX:r,targetY:o}),O=x[0],_=x[1],C=ms({sourceX:t,sourceY:n,sourcePosition:f,targetX:r,targetY:o,targetPosition:m,borderRadius:y}),w=as(v,g),E=i?c.a.createElement(is,{x:O,y:_,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{style:h,className:"react-flow__edge-path",d:C,markerEnd:w}),E)})),gs=function(e){var t=e.connectionNodeId,n=e.connectionHandleId,r=e.connectionHandleType,o=e.connectionLineStyle,i=e.connectionPositionX,a=e.connectionPositionY,l=e.connectionLineType,u=void 0===l?fi.Bezier:l,d=e.nodes,h=void 0===d?[]:d,p=e.transform,f=e.isConnectable,b=e.CustomConnectionLineComponent,m=Object(s.useState)(null),v=m[0],g=m[1],j=t,y=n;if(Object(s.useEffect)((function(){var e=h.find((function(e){return e.id===j}))||null;g(e)}),[]),!v||!f)return null;var x=y?v.__rf.handleBounds[r].find((function(e){return e.id===y})):v.__rf.handleBounds[r][0],O=x?x.x+x.width/2:v.__rf.width/2,_=x?x.y+x.height/2:v.__rf.height,C=v.__rf.position.x+O,w=v.__rf.position.y+_,E=(i-p[0])/p[2],S=(a-p[1])/p[2],T=(null===x||void 0===x?void 0:x.position)===ui.Left||(null===x||void 0===x?void 0:x.position)===ui.Right?ui.Left:ui.Top;if(b)return c.a.createElement("g",{className:"react-flow__connection"},c.a.createElement(b,{sourceX:C,sourceY:w,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:E,targetY:S,targetPosition:T,connectionLineType:u,connectionLineStyle:o}));var M="";return M=u===fi.Bezier?cs({sourceX:C,sourceY:w,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:E,targetY:S,targetPosition:T}):u===fi.Step?ms({sourceX:C,sourceY:w,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:E,targetY:S,targetPosition:T,borderRadius:0}):u===fi.SmoothStep?ms({sourceX:C,sourceY:w,sourcePosition:null===x||void 0===x?void 0:x.position,targetX:E,targetY:S,targetPosition:T}):"M"+C+","+w+" "+E+","+S,c.a.createElement("g",{className:"react-flow__connection"},c.a.createElement("path",{d:M,className:"react-flow__connection-path",style:o}))},js=function(e){var t=e.id,n=e.children;return c.a.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"12.5",markerHeight:"12.5",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0"},n)},ys=function(e){var t=e.color;return c.a.createElement("defs",null,c.a.createElement(js,{id:"react-flow__arrowclosed"},c.a.createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:t,points:"-5,-4 0,0 -5,4 -5,-4"})),c.a.createElement(js,{id:"react-flow__arrow"},c.a.createElement("polyline",{stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",fill:"none",points:"-5,-4 0,0 -5,4"})))};ys.displayName="MarkerDefinitions";var xs=Object(s.memo)((function(e){return c.a.createElement(vs,h({},e,{borderRadius:0}))})),Os=Object(s.memo)((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=e.label,a=e.labelStyle,s=e.labelShowBg,l=e.labelBgStyle,u=e.labelBgPadding,d=e.labelBgBorderRadius,h=e.style,p=e.arrowHeadType,f=e.markerEndId,b=Math.abs(o-n)/2,m=o<n?o+b:o-b,v=Math.abs(r-t)/2,g=r<t?r+v:r-v,j=as(p,f),y=i?c.a.createElement(is,{x:g,y:m,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{style:h,className:"react-flow__edge-path",d:"M "+t+","+n+"L "+r+","+o,markerEnd:j}),y)}));function _s(e,t,n,r,o,i){var a=document.elementFromPoint(e.clientX,e.clientY),s=(null===a||void 0===a?void 0:a.classList.contains("target"))||!1,c=(null===a||void 0===a?void 0:a.classList.contains("source"))||!1,l={elementBelow:a,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(a&&(s||c)&&(l.isHoveringHandle=!0,t!==pi.Strict||(n&&c||!n&&s))){var u=a.getAttribute("data-nodeid"),d=a.getAttribute("data-handleid"),h=n?{source:u,sourceHandle:d,target:r,targetHandle:o}:{source:r,sourceHandle:o,target:u,targetHandle:d};l.connection=h,l.isValid=i(h)}return l}function Cs(e){null===e||void 0===e||e.classList.remove("react-flow__handle-valid"),null===e||void 0===e||e.classList.remove("react-flow__handle-connecting")}function ws(e,t,n,r,o,i,a,s,c,l,u,d){var h=e.target.closest(".react-flow");if(h){var p,f=a?"target":"source",b=h.getBoundingClientRect();o({x:e.clientX-b.left,y:e.clientY-b.top}),r({connectionNodeId:n,connectionHandleId:t,connectionHandleType:f}),null===l||void 0===l||l(e,{nodeId:n,handleId:t,handleType:f}),document.addEventListener("mousemove",m),document.addEventListener("mouseup",(function e(o){var l=_s(o,c,a,n,t,s),h=l.connection,f=l.isValid;null===u||void 0===u||u(o),f&&(null===i||void 0===i||i(h)),null===d||void 0===d||d(o),Cs(p),r({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",e)}))}function m(e){o({x:e.clientX-b.left,y:e.clientY-b.top});var r=_s(e,c,a,n,t,s),i=r.connection,l=r.elementBelow,u=r.isValid;if(!r.isHoveringHandle)return Cs(p);!(i.source===i.target)&&l&&(p=l,l.classList.add("react-flow__handle-connecting"),l.classList.toggle("react-flow__handle-valid",u))}}var Es=function(e){var t=function(t){var n=t.id,r=t.className,o=t.type,i=t.data,a=t.onClick,l=t.selected,u=t.animated,d=t.label,h=t.labelStyle,p=t.labelShowBg,f=t.labelBgStyle,b=t.labelBgPadding,v=t.labelBgBorderRadius,g=t.style,j=t.arrowHeadType,y=t.source,x=t.target,O=t.sourceX,_=t.sourceY,C=t.targetX,w=t.targetY,E=t.sourcePosition,S=t.targetPosition,T=t.elementsSelectable,M=t.markerEndId,P=t.isHidden,k=t.sourceHandleId,L=t.targetHandleId,R=t.handleEdgeUpdate,D=t.onConnectEdge,I=ct((function(e){return e.addSelectedElements})),N=ct((function(e){return e.setConnectionNodeId})),A=ct((function(e){return e.setConnectionPosition})),H=lt((function(e){return e.connectionMode})),B=Object(s.useState)(!1),V=B[0],Z=B[1],F=m(["react-flow__edge","react-flow__edge-"+o,r,{selected:l,animated:u,inactive:!T&&!a,updating:V}]),z=Object(s.useCallback)((function(e){var t={id:n,source:y,target:x,type:o};k&&(t.sourceHandle=k),L&&(t.targetHandle=L),"undefined"!==typeof i&&(t.data=i),T&&I(t),null===a||void 0===a||a(e,t)}),[T,n,y,x,o,i,k,L,a]),K=Object(s.useCallback)((function(e,t){ws(e,t?L:k,t?x:y,N,A,D,t,(function(){return!0}),H)}),[n,y,x,o,k,L,N,A]),U=Object(s.useCallback)((function(e){K(e,!0)}),[n,y,k,K]),X=Object(s.useCallback)((function(e){K(e,!1)}),[n,x,L,K]),Y=Object(s.useCallback)((function(){return Z(!0)}),[Z]),G=Object(s.useCallback)((function(){return Z(!1)}),[Z]);return P?null:c.a.createElement("g",{className:F,onClick:z},R&&c.a.createElement("g",{onMouseDown:U,onMouseEnter:Y,onMouseOut:G},c.a.createElement("circle",{className:"react-flow__edgeupdater",cx:O,cy:_,r:10,stroke:"transparent",fill:"transparent"})),c.a.createElement(e,{id:n,source:y,target:x,selected:l,animated:u,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:f,labelBgPadding:b,labelBgBorderRadius:v,data:i,style:g,arrowHeadType:j,sourceX:O,sourceY:_,targetX:C,targetY:w,sourcePosition:E,targetPosition:S,markerEndId:M,sourceHandleId:k,targetHandleId:L}),R&&c.a.createElement("g",{onMouseDown:X,onMouseEnter:Y,onMouseOut:G},c.a.createElement("circle",{className:"react-flow__edgeupdater",cx:C,cy:w,r:10,stroke:"transparent",fill:"transparent"})))};return t.displayName="EdgeWrapper",Object(s.memo)(t)};function Ss(e,t,n){void 0===n&&(n=null);var r=((null===n||void 0===n?void 0:n.x)||0)+t.__rf.position.x,o=((null===n||void 0===n?void 0:n.y)||0)+t.__rf.position.y,i=(null===n||void 0===n?void 0:n.width)||t.__rf.width,a=(null===n||void 0===n?void 0:n.height)||t.__rf.height;switch(e){case ui.Top:return{x:r+i/2,y:o};case ui.Right:return{x:r+i,y:o+a/2};case ui.Bottom:return{x:r+i/2,y:o+a};case ui.Left:return{x:r,y:o+a/2}}}function Ts(e,t){if(!e)return null;var n=null;return 1!==e.length&&t?t&&(n=e.find((function(e){return e.id===t}))):n=e[0],"undefined"===typeof n?null:n}var Ms=function(e){var t=e.edge,n=e.props,r=e.nodes,o=e.selectedElements,i=e.elementsSelectable,a=e.transform,l=e.width,u=e.height,d=e.onlyRenderVisibleElements,h=e.connectionMode,p=t.sourceHandle||null,f=t.targetHandle||null,b=function(e,t){return t.reduce((function(t,n){return n.id===e.source&&(t.sourceNode=n),n.id===e.target&&(t.targetNode=n),t}),{sourceNode:null,targetNode:null})}(t,r),m=b.sourceNode,v=b.targetNode,g=Object(s.useCallback)((function(e){var r;null===(r=n.onEdgeUpdate)||void 0===r||r.call(n,t,e)}),[t]);if(!m)return console.warn("couldn't create edge for source id: "+t.source+"; edge id: "+t.id),null;if(!v)return console.warn("couldn't create edge for target id: "+t.target+"; edge id: "+t.id),null;if(!m.__rf.width||!v.__rf.width)return null;var j=t.type||"default",y=n.edgeTypes[j]||n.edgeTypes.default,x=v.__rf.handleBounds,O=h===pi.Strict?x.target:x.target||x.source,_=Ts(m.__rf.handleBounds.source,p),C=Ts(O,f),w=_?_.position:ui.Bottom,E=C?C.position:ui.Top;if(!_)return console.warn("couldn't create edge for source handle id: "+p+"; edge id: "+t.id),null;if(!C)return console.warn("couldn't create edge for target handle id: "+f+"; edge id: "+t.id),null;var S=function(e,t,n,r,o,i){var a=Ss(n,e,t),s=Ss(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}}(m,_,w,v,C,E),T=S.sourceX,M=S.sourceY,P=S.targetX,k=S.targetY;if(!(!d||function(e){var t=e.sourcePos,n=e.targetPos,r=e.width,o=e.height,i=e.transform,a={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x,n.x),y2:Math.max(t.y,n.y)};a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);var s=yt({x:(0-i[0])/i[2],y:(0-i[1])/i[2],width:r/i[2],height:o/i[2]}),c=Math.max(0,Math.min(s.x2,a.x2)-Math.max(s.x,a.x)),l=Math.max(0,Math.min(s.y2,a.y2)-Math.max(s.y,a.y));return Math.ceil(c*l)>0}({sourcePos:{x:T,y:M},targetPos:{x:P,y:k},width:l,height:u,transform:a})))return null;var L=(null===o||void 0===o?void 0:o.some((function(e){return mt(e)&&e.id===t.id})))||!1;return c.a.createElement(y,{key:t.id,id:t.id,className:t.className,type:t.type,data:t.data,onClick:n.onElementClick,selected:L,animated:t.animated,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,arrowHeadType:t.arrowHeadType,source:t.source,target:t.target,sourceHandleId:p,targetHandleId:f,sourceX:T,sourceY:M,targetX:P,targetY:k,sourcePosition:w,targetPosition:E,elementsSelectable:i,markerEndId:n.markerEndId,isHidden:t.isHidden,onConnectEdge:g,handleEdgeUpdate:"undefined"!==typeof n.onEdgeUpdate})},Ps=function(e){var t=lt((function(e){return e.transform})),n=lt((function(e){return e.edges})),r=lt((function(e){return e.connectionNodeId})),o=lt((function(e){return e.connectionHandleId})),i=lt((function(e){return e.connectionHandleType})),a=lt((function(e){return e.connectionPosition})),s=lt((function(e){return e.selectedElements})),l=lt((function(e){return e.nodesConnectable})),u=lt((function(e){return e.elementsSelectable})),d=lt((function(e){return e.width})),h=lt((function(e){return e.height})),p=lt((function(e){return e.nodes}));if(!d)return null;var f=e.connectionLineType,b=e.arrowHeadColor,m=e.connectionLineStyle,v=e.connectionLineComponent,g=e.onlyRenderVisibleElements,j="translate("+t[0]+","+t[1]+") scale("+t[2]+")",y=r&&i;return c.a.createElement("svg",{width:d,height:h,className:"react-flow__edges"},c.a.createElement(ys,{color:b}),c.a.createElement("g",{transform:j},n.map((function(n){return c.a.createElement(Ms,{key:n.id,edge:n,props:e,nodes:p,selectedElements:s,elementsSelectable:u,transform:t,width:d,height:h,onlyRenderVisibleElements:g})})),y&&c.a.createElement(gs,{nodes:p,connectionNodeId:r,connectionHandleId:o,connectionHandleType:i,connectionPositionX:a.x,connectionPositionY:a.y,transform:t,connectionLineStyle:m,connectionLineType:f,isConnectable:l,CustomConnectionLineComponent:v})))};Ps.displayName="EdgeRenderer";var ks=Object(s.memo)(Ps),Ls=.1,Rs={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},transform:function(e){},fitView:function(e){},setCenter:function(e,t){},fitBounds:function(e){},initialized:!1},Ds=function(e,t,n,r,o,i){void 0===i&&(i=Ls);var a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),c=Math.min(a,s),l=pt(c,r,o);return[t/2-(e.x+e.width/2)*l,n/2-(e.y+e.height/2)*l,l]},Is=function(){var e=ut(),t=lt((function(e){return e.d3Zoom})),n=lt((function(e){return e.d3Selection}));return Object(s.useMemo)((function(){return n&&t?{zoomIn:function(){return t.scaleBy(n,1.2)},zoomOut:function(){return t.scaleBy(n,1/1.2)},zoomTo:function(e){return t.scaleTo(n,e)},transform:function(e){var r=ti.translate(e.x,e.y).scale(e.zoom);t.transform(n,r)},fitView:function(r){var o;void 0===r&&(r={padding:Ls,includeHiddenNodes:!1});var i=e.getState(),a=i.nodes,s=i.width,c=i.height,l=i.minZoom,u=i.maxZoom;if(a.length){var d=Ot(r.includeHiddenNodes?a:a.filter((function(e){return!e.isHidden}))),h=null!==(o=r.padding)&&void 0!==o?o:Ls,p=Ds(d,s,c,l,u,h),f=p[0],b=p[1],m=p[2],v=ti.translate(f,b).scale(m);t.transform(n,v)}},setCenter:function(r,o,i){var a=e.getState(),s=a.width,c=a.height,l=a.maxZoom,u="undefined"!==typeof i?i:l,d=s/2-r*u,h=c/2-o*u,p=ti.translate(d,h).scale(u);t.transform(n,p)},fitBounds:function(r,o){void 0===o&&(o=Ls);var i=e.getState(),a=i.width,s=i.height,c=i.minZoom,l=i.maxZoom,u=Ds(r,a,s,c,l,o),d=u[0],h=u[1],p=u[2],f=ti.translate(d,h).scale(p);t.transform(n,f)},initialized:!0}:Rs}),[t,n])},Ns=function(e){var t=e.nodeTypes,n=e.edgeTypes,r=e.onMove,o=e.onMoveStart,i=e.onMoveEnd,a=e.onLoad,l=e.onElementClick,u=e.onNodeMouseEnter,d=e.onNodeMouseMove,h=e.onNodeMouseLeave,p=e.onNodeContextMenu,f=e.onNodeDragStart,b=e.onNodeDrag,m=e.onNodeDragStop,v=e.onSelectionDragStart,g=e.onSelectionDrag,j=e.onSelectionDragStop,y=e.onSelectionContextMenu,x=e.connectionMode,O=e.connectionLineType,_=e.connectionLineStyle,C=e.connectionLineComponent,w=e.selectionKeyCode,E=e.multiSelectionKeyCode,S=e.zoomActivationKeyCode,T=e.onElementsRemove,M=e.deleteKeyCode,P=e.onConnect,k=e.onConnectStart,L=e.onConnectStop,R=e.onConnectEnd,D=e.snapToGrid,I=e.snapGrid,N=e.onlyRenderVisibleElements,A=e.nodesDraggable,H=e.nodesConnectable,B=e.elementsSelectable,V=e.selectNodesOnDrag,Z=e.minZoom,F=e.maxZoom,z=e.defaultZoom,K=e.defaultPosition,U=e.translateExtent,X=e.nodeExtent,Y=e.arrowHeadColor,G=e.markerEndId,W=e.zoomOnScroll,q=e.zoomOnPinch,$=e.panOnScroll,Q=e.panOnScrollSpeed,J=e.panOnScrollMode,ee=e.zoomOnDoubleClick,te=e.paneMoveable,ne=e.onPaneClick,re=e.onPaneScroll,oe=e.onPaneContextMenu,ie=e.onEdgeUpdate,ae=Object(s.useRef)(!1),se=ct((function(e){return e.setOnConnect})),ce=ct((function(e){return e.setOnConnectStart})),le=ct((function(e){return e.setOnConnectStop})),ue=ct((function(e){return e.setOnConnectEnd})),de=ct((function(e){return e.setSnapGrid})),he=ct((function(e){return e.setSnapToGrid})),pe=ct((function(e){return e.setNodesDraggable})),fe=ct((function(e){return e.setNodesConnectable})),be=ct((function(e){return e.setElementsSelectable})),me=ct((function(e){return e.setMinZoom})),ve=ct((function(e){return e.setMaxZoom})),ge=ct((function(e){return e.setTranslateExtent})),je=ct((function(e){return e.setNodeExtent})),ye=ct((function(e){return e.setConnectionMode})),xe=ut(),Oe=Is(),_e=Oe.zoomIn,Ce=Oe.zoomOut,we=Oe.zoomTo,Ee=Oe.transform,Se=Oe.fitView,Te=Oe.initialized;return Object(s.useEffect)((function(){!ae.current&&Te&&(a&&a({fitView:function(e){return void 0===e&&(e={padding:.1}),Se(e)},zoomIn:_e,zoomOut:Ce,zoomTo:we,setTransform:Ee,project:gt(xe),getElements:Et(xe),toObject:St(xe)}),ae.current=!0)}),[a,_e,Ce,we,Ee,Se,Te]),Object(s.useEffect)((function(){P&&se(P)}),[P]),Object(s.useEffect)((function(){k&&ce(k)}),[k]),Object(s.useEffect)((function(){L&&le(L)}),[L]),Object(s.useEffect)((function(){R&&ue(R)}),[R]),Object(s.useEffect)((function(){"undefined"!==typeof D&&he(D)}),[D]),Object(s.useEffect)((function(){"undefined"!==typeof I&&de(I)}),[I]),Object(s.useEffect)((function(){"undefined"!==typeof A&&pe(A)}),[A]),Object(s.useEffect)((function(){"undefined"!==typeof H&&fe(H)}),[H]),Object(s.useEffect)((function(){"undefined"!==typeof B&&be(B)}),[B]),Object(s.useEffect)((function(){"undefined"!==typeof Z&&me(Z)}),[Z]),Object(s.useEffect)((function(){"undefined"!==typeof F&&ve(F)}),[F]),Object(s.useEffect)((function(){"undefined"!==typeof U&&ge(U)}),[U]),Object(s.useEffect)((function(){"undefined"!==typeof X&&je(X)}),[X]),Object(s.useEffect)((function(){"undefined"!==typeof x&&ye(x)}),[x]),c.a.createElement(ns,{onPaneClick:ne,onPaneContextMenu:oe,onPaneScroll:re,onElementsRemove:T,deleteKeyCode:M,selectionKeyCode:w,multiSelectionKeyCode:E,zoomActivationKeyCode:S,elementsSelectable:B,onMove:r,onMoveStart:o,onMoveEnd:i,zoomOnScroll:W,zoomOnPinch:q,zoomOnDoubleClick:ee,panOnScroll:$,panOnScrollSpeed:Q,panOnScrollMode:J,paneMoveable:te,defaultPosition:K,defaultZoom:z,translateExtent:U,onSelectionDragStart:v,onSelectionDrag:g,onSelectionDragStop:j,onSelectionContextMenu:y},c.a.createElement(os,{nodeTypes:t,onElementClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:p,onNodeDragStop:m,onNodeDrag:b,onNodeDragStart:f,selectNodesOnDrag:V,snapToGrid:D,snapGrid:I,onlyRenderVisibleElements:N}),c.a.createElement(ks,{edgeTypes:n,onElementClick:l,connectionLineType:O,connectionLineStyle:_,connectionLineComponent:C,connectionMode:x,arrowHeadColor:Y,markerEndId:G,onEdgeUpdate:ie,onlyRenderVisibleElements:N}))};Ns.displayName="GraphView";var As=Object(s.memo)(Ns),Hs=function(e){var t=e.elements,n=ct((function(e){return e.setElements}));return Object(s.useEffect)((function(){n(t)}),[t]),null},Bs=Object(s.createContext)(null),Vs=Bs.Provider;Bs.Consumer;var Zs=function(){return!0},Fs=function(e){var t=e.type,n=void 0===t?"source":t,r=e.position,o=void 0===r?ui.Top:r,i=e.isValidConnection,a=void 0===i?Zs:i,l=e.isConnectable,u=void 0===l||l,d=e.id,f=e.onConnect,b=e.children,v=e.className,g=p(e,["type","position","isValidConnection","isConnectable","id","onConnect","children","className"]),j=Object(s.useContext)(Bs),y=ct((function(e){return e.setConnectionPosition})),x=ct((function(e){return e.setConnectionNodeId})),O=lt((function(e){return e.onConnect})),_=lt((function(e){return e.onConnectStart})),C=lt((function(e){return e.onConnectStop})),w=lt((function(e){return e.onConnectEnd})),E=lt((function(e){return e.connectionMode})),S=d||null,T="target"===n,M=Object(s.useCallback)((function(e){null===O||void 0===O||O(e),null===f||void 0===f||f(e)}),[O,f]),P=Object(s.useCallback)((function(e){ws(e,S,j,x,y,M,T,a,E,_,C,w)}),[S,j,x,y,M,T,a,E,_,C,w]),k=m(["react-flow__handle","react-flow__handle-"+o,"nodrag",v,{source:!T,target:T,connectable:u}]);return c.a.createElement("div",h({"data-handleid":S,"data-nodeid":j,"data-handlepos":o,className:k,onMouseDown:P},g),b)};Fs.displayName="Handle";var zs=Object(s.memo)(Fs),Ks=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,o=void 0===r?ui.Top:r,i=e.sourcePosition,a=void 0===i?ui.Bottom:i;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zs,{type:"target",position:o,isConnectable:n}),t.label,c.a.createElement(zs,{type:"source",position:a,isConnectable:n}))};Ks.displayName="DefaultNode";var Us=Object(s.memo)(Ks),Xs=function(e){var t=e.data,n=e.isConnectable,r=e.sourcePosition,o=void 0===r?ui.Bottom:r;return c.a.createElement(c.a.Fragment,null,t.label,c.a.createElement(zs,{type:"source",position:o,isConnectable:n}))};Xs.displayName="InputNode";var Ys=Object(s.memo)(Xs),Gs=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,o=void 0===r?ui.Top:r;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zs,{type:"target",position:o,isConnectable:n}),t.label)};Gs.displayName="OutputNode";var Ws=Object(s.memo)(Gs),qs=function(e){var t=function(t){var n=t.id,r=t.type,o=t.data,i=t.scale,a=t.xPos,l=t.yPos,u=t.selected,d=t.onClick,p=t.onMouseEnter,f=t.onMouseMove,b=t.onMouseLeave,v=t.onContextMenu,g=t.onNodeDragStart,j=t.onNodeDrag,y=t.onNodeDragStop,x=t.style,O=t.className,_=t.isDraggable,C=t.isSelectable,w=t.isConnectable,E=t.selectNodesOnDrag,S=t.sourcePosition,T=t.targetPosition,M=t.isHidden,P=t.isInitialized,k=t.snapToGrid,L=t.snapGrid,R=t.isDragging,D=t.resizeObserver,I=ct((function(e){return e.updateNodeDimensions})),N=ct((function(e){return e.addSelectedElements})),A=ct((function(e){return e.updateNodePosDiff})),H=ct((function(e){return e.unsetNodesSelection})),B=Object(s.useRef)(null),V=Object(s.useMemo)((function(){return{id:n,type:r,position:{x:a,y:l},data:o}}),[n,r,a,l,o]),Z=Object(s.useMemo)((function(){return k?L:[1,1]}),[k,L]),F=Object(s.useMemo)((function(){return h({zIndex:u?10:3,transform:"translate("+a+"px,"+l+"px)",pointerEvents:C||_||d?"all":"none",opacity:P?1:0},x)}),[u,a,l,C,_,d,P,x]),z=Object(s.useMemo)((function(){if(p&&!R)return function(e){return p(e,V)}}),[p,R,V]),K=Object(s.useMemo)((function(){if(f&&!R)return function(e){return f(e,V)}}),[f,R,V]),U=Object(s.useMemo)((function(){if(b&&!R)return function(e){return b(e,V)}}),[b,R,V]),X=Object(s.useMemo)((function(){if(v)return function(e){return v(e,V)}}),[v,V]),Y=Object(s.useCallback)((function(e){_||(C&&(H(),u||N(V)),null===d||void 0===d||d(e,V))}),[C,u,_,d,V]),G=Object(s.useCallback)((function(e){null===g||void 0===g||g(e,V),E&&C?(H(),u||N(V)):E||u||!C||(H(),N([]))}),[V,u,E,C,g]),W=Object(s.useCallback)((function(e,t){j&&(V.position.x+=t.deltaX,V.position.y+=t.deltaY,j(e,V)),A({id:n,diff:{x:t.deltaX,y:t.deltaY}})}),[n,V,j]),q=Object(s.useCallback)((function(e){if(!R)return!C||E||u||N(V),void(null===d||void 0===d||d(e,V));A({id:V.id,isDragging:!1}),null===y||void 0===y||y(e,V)}),[V,C,E,d,y,R,u]);if(Object(s.useEffect)((function(){B.current&&!M&&I({id:n,nodeElement:B.current})}),[n,M,S,T]),Object(s.useEffect)((function(){if(B.current){var e=B.current;return null===D||void 0===D||D.observe(e),function(){return null===D||void 0===D?void 0:D.unobserve(e)}}}),[]),M)return null;var $=m(["react-flow__node","react-flow__node-"+r,O,{selected:u,selectable:C}]);return c.a.createElement(Ja,{onStart:G,onDrag:W,onStop:q,scale:i,disabled:!_,cancel:".nodrag",nodeRef:B,grid:Z},c.a.createElement("div",{className:$,ref:B,style:F,onMouseEnter:z,onMouseMove:K,onMouseLeave:U,onContextMenu:X,onClick:Y,"data-id":n},c.a.createElement(Vs,{value:n},c.a.createElement(e,{id:n,data:o,type:r,xPos:a,yPos:l,selected:u,isConnectable:w,sourcePosition:S,targetPosition:T,isDragging:R}))))};return t.displayName="NodeWrapper",Object(s.memo)(t)};var $s=function(e){var t=e.onSelectionChange,n=lt((function(e){return e.selectedElements}));return Object(s.useEffect)((function(){t(n)}),[n]),null},Qs=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n},Js=function(e,t){var n=e.getBoundingClientRect();return{source:ec(".source",e,n,t),target:ec(".target",e,n,t)}},ec=function(e,t,n,r){var o=t.querySelectorAll(e);return o&&o.length?Array.from(o).map((function(e){var t=e.getBoundingClientRect(),o=ht(e),i=e.getAttribute("data-handleid"),a=e.getAttribute("data-handlepos");return h({id:i,position:a,x:(t.left-n.left)/r,y:(t.top-n.top)/r},o)})):null},tc={width:0,height:0,transform:[0,0,1],elements:[],nodes:at.computed((function(e){return e.elements.filter(vt)})),edges:at.computed((function(e){return e.elements.filter(mt)})),selectedElements:null,selectedNodesBbox:{x:0,y:0,width:0,height:0},viewportBox:at.computed((function(e){return{x:0,y:0,width:e.width,height:e.height}})),d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodesSelectionActive:!1,selectionActive:!1,userSelectionRect:{startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:pi.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,multiSelectionActive:!1,reactFlowVersion:"8.8.0",setOnConnect:at.action((function(e,t){e.onConnect=t})),setOnConnectStart:at.action((function(e,t){e.onConnectStart=t})),setOnConnectStop:at.action((function(e,t){e.onConnectStop=t})),setOnConnectEnd:at.action((function(e,t){e.onConnectEnd=t})),setElements:at.action((function(e,t){for(var n,r=function(r){var o=e.elements[r];t.find((function(e){return e.id===o.id}))||(e.elements.splice(r,1),r--),n=r},o=0;o<e.elements.length;o++)r(o),o=n;t.forEach((function(t){var n=e.elements.findIndex((function(e){return e.id===t.id}));if(-1!==n){var r=e.elements[n];if(vt(r)){var o=t,i=r.position.x!==o.position.x||r.position.y!==o.position.y,a="undefined"!==typeof o.type&&o.type!==r.type;e.elements[n]=h(h({},r),o),i&&(e.elements[n].__rf.position=ft(o.position,e.nodeExtent)),a&&(e.elements[n].__rf.width=null)}else e.elements[n]=h(h({},r),t)}else e.elements.push(function(e,t){if(!e.id)throw new Error("All nodes and edges need to have an id.");return mt(e)?h(h({},e),{source:e.source.toString(),target:e.target.toString(),sourceHandle:e.sourceHandle?e.sourceHandle.toString():null,targetHandle:e.targetHandle?e.targetHandle.toString():null,id:e.id.toString(),type:e.type||"default"}):h(h({},e),{id:e.id.toString(),type:e.type||"default",__rf:{position:ft(e.position,t),width:null,height:null,handleBounds:{},isDragging:!1}})}(t,e.nodeExtent))}))})),batchUpdateNodeDimensions:at.action((function(e,t){t.updates.forEach((function(t){var n=ht(t.nodeElement),r=e.elements.findIndex((function(e){return e.id===t.id})),o=e.elements[r];if(-1!==r&&n.width&&n.height&&(o.__rf.width!==n.width||o.__rf.height!==n.height)){var i=Js(t.nodeElement,e.transform[2]);e.elements[r].__rf.width=n.width,e.elements[r].__rf.height=n.height,e.elements[r].__rf.handleBounds=i}}))})),updateNodeDimensions:at.action((function(e,t){var n=t.id,r=t.nodeElement,o=ht(r),i=e.elements.findIndex((function(e){return e.id===n}));if(-1!==i&&o.width&&o.height){var a=Js(r,e.transform[2]);e.elements[i].__rf.width=o.width,e.elements[i].__rf.height=o.height,e.elements[i].__rf.handleBounds=a}})),updateNodePos:at.action((function(e,t){var n=t.id,r=t.pos,o=r;if(e.snapToGrid){var i=e.snapGrid,a=i[0],s=i[1];o={x:a*Math.round(r.x/a),y:s*Math.round(r.y/s)}}e.elements.forEach((function(t){t.id===n&&vt(t)&&(t.__rf.position=ft(o,e.nodeExtent))}))})),updateNodePosDiff:at.action((function(e,t){var n=t.id,r=void 0===n?null:n,o=t.diff,i=void 0===o?null:o,a=t.isDragging,s=void 0===a||a;e.elements.forEach((function(t){var n;if(vt(t)&&(r===t.id||(null===(n=e.selectedElements)||void 0===n?void 0:n.find((function(e){return e.id===t.id}))))){if(i){var o={x:t.__rf.position.x+i.x,y:t.__rf.position.y+i.y};t.__rf.position=ft(o,e.nodeExtent)}t.__rf.isDragging=s}}))})),setUserSelection:at.action((function(e,t){e.userSelectionRect={width:0,height:0,startX:t.x,startY:t.y,x:t.x,y:t.y,draw:!0},e.selectionActive=!0})),updateUserSelection:at.action((function(e,t){var n=e.userSelectionRect.startX||0,r=e.userSelectionRect.startY||0,o=t.x<n,i=t.y<r,a=h(h({},e.userSelectionRect),{x:o?t.x:e.userSelectionRect.x,y:i?t.y:e.userSelectionRect.y,width:Math.abs(t.x-n),height:Math.abs(t.y-r)}),s=_t(e.nodes,a,e.transform),c=f(s,Ct(s,e.edges)),l=!Qs(c,e.selectedElements);e.userSelectionRect=a,l&&(e.selectedElements=c.length>0?c:null)})),unsetUserSelection:at.action((function(e){var t,n=null===(t=e.selectedElements)||void 0===t?void 0:t.filter((function(e){return vt(e)&&e.__rf}));if(!n||0===n.length)return e.selectionActive=!1,e.userSelectionRect.draw=!1,e.nodesSelectionActive=!1,void(e.selectedElements=null);var r=Ot(n);e.nodesSelectionActive=!0,e.selectedNodesBbox=r,e.userSelectionRect.draw=!1,e.selectionActive=!1})),setSelection:at.action((function(e,t){e.selectionActive=t})),unsetNodesSelection:at.action((function(e){e.nodesSelectionActive=!1})),resetSelectedElements:at.action((function(e){e.selectedElements=null})),setSelectedElements:at.action((function(e,t){var n=Array.isArray(t)?t:[t],r=!Qs(n,e.selectedElements)?n:e.selectedElements;e.selectedElements=r})),addSelectedElements:at.thunk((function(e,t,n){var r=n.getState(),o=r.multiSelectionActive,i=r.selectedElements,a=Array.isArray(t)?t:[t];if(o){var s=i?f(i,a):a;e.setSelectedElements(s)}else e.setSelectedElements(t)})),updateTransform:at.action((function(e,t){e.transform[0]=t[0],e.transform[1]=t[1],e.transform[2]=t[2]})),updateSize:at.action((function(e,t){e.width=t.width||500,e.height=t.height||500})),initD3Zoom:at.action((function(e,t){var n=t.d3Zoom,r=t.d3Selection,o=t.d3ZoomHandler,i=t.transform;e.d3Zoom=n,e.d3Selection=r,e.d3ZoomHandler=o,e.transform[0]=i[0],e.transform[1]=i[1],e.transform[2]=i[2]})),setMinZoom:at.action((function(e,t){e.minZoom=t,e.d3Zoom&&e.d3Zoom.scaleExtent([t,e.maxZoom])})),setMaxZoom:at.action((function(e,t){e.maxZoom=t,e.d3Zoom&&e.d3Zoom.scaleExtent([e.minZoom,t])})),setTranslateExtent:at.action((function(e,t){e.translateExtent=t,e.d3Zoom&&e.d3Zoom.translateExtent(t)})),setNodeExtent:at.action((function(e,t){e.nodeExtent=t,e.elements.forEach((function(e){vt(e)&&(e.__rf.position=ft(e.__rf.position,t))}))})),setConnectionPosition:at.action((function(e,t){e.connectionPosition=t})),setConnectionNodeId:at.action((function(e,t){var n=t.connectionNodeId,r=t.connectionHandleId,o=t.connectionHandleType;e.connectionNodeId=n,e.connectionHandleId=r,e.connectionHandleType=o})),setSnapToGrid:at.action((function(e,t){e.snapToGrid=t})),setSnapGrid:at.action((function(e,t){e.snapGrid[0]=t[0],e.snapGrid[1]=t[1]})),setInteractive:at.action((function(e,t){e.nodesDraggable=t,e.nodesConnectable=t,e.elementsSelectable=t})),setNodesDraggable:at.action((function(e,t){e.nodesDraggable=t})),setNodesConnectable:at.action((function(e,t){e.nodesConnectable=t})),setElementsSelectable:at.action((function(e,t){e.elementsSelectable=t})),setMultiSelectionActive:at.action((function(e,t){e.multiSelectionActive=t})),setConnectionMode:at.action((function(e,t){e.connectionMode=t}))},nc=at.createStore(tc,{devTools:!1}),rc=function(e){var t,n=e.children,r=ut();return(null===(t=null===r||void 0===r?void 0:r.getState())||void 0===t?void 0:t.reactFlowVersion)?c.a.createElement(c.a.Fragment,null,n):c.a.createElement(at.StoreProvider,{store:nc},n)};function oc(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}rc.displayName="ReactFlowWrapper";oc(".react-flow{width:100%;height:100%;position:relative;overflow:hidden}.react-flow__pane,.react-flow__renderer,.react-flow__selectionpane{width:100%;height:100%;position:absolute;top:0;left:0}.react-flow__pane{z-index:1}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow__edges,.react-flow__selection{position:absolute;top:0;left:0}.react-flow__edges{pointer-events:none;z-index:2}.react-flow__edge{pointer-events:all;}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none;}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{width:100%;height:100%;pointer-events:none;z-index:3}.react-flow__node,.react-flow__nodes{position:absolute;transform-origin:0 0}.react-flow__node{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:all}.react-flow__nodesselection{z-index:3;position:absolute;width:100%;height:100%;top:0;left:0;transform-origin:left top;pointer-events:none;}.react-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__handle{pointer-events:none;}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move}.react-flow__background{position:absolute;top:0;left:0;width:100%;height:100%}.react-flow__controls{position:absolute;z-index:5;bottom:10px;left:10px;}.react-flow__controls-button{width:24px;height:24px;}.react-flow__controls-button svg{width:100%}.react-flow__minimap{position:absolute;z-index:5;bottom:10px;right:10px;}.react-flow__minimap-node{shape-rendering:crispedges}");oc(".react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-input{background:#fff;border-color:#0041d0;}.react-flow__node-input.selected,.react-flow__node-input.selected:hover{box-shadow:0 0 0 .5px #0041d0}.react-flow__node-input .react-flow__handle{background:#0041d0}.react-flow__node-default{background:#fff;border-color:#1a192b;}.react-flow__node-default.selected,.react-flow__node-default.selected:hover{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle{background:#1a192b}.react-flow__node-output{background:#fff;border-color:#ff0072;}.react-flow__node-output.selected,.react-flow__node-output.selected:hover{box-shadow:0 0 0 .5px #ff0072}.react-flow__node-output .react-flow__handle{background:#ff0072}.react-flow__nodesselection-rect{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{position:absolute;width:6px;height:6px;background:#555;border:1px solid #fff;border-radius:100%;}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08);}.react-flow__controls-button{background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:5px;}.react-flow__controls-button svg{max-width:12px;max-height:12px}.react-flow__controls-button:hover{background:#f4f4f4}");var ic={input:Ys,default:Us,output:Ws},ac={default:ls,straight:Os,step:xs,smoothstep:vs},sc=function(e){var t=e.elements,n=void 0===t?[]:t,r=e.className,o=e.nodeTypes,i=void 0===o?ic:o,a=e.edgeTypes,l=void 0===a?ac:a,u=e.onElementClick,d=e.onLoad,f=e.onMove,b=e.onMoveStart,v=e.onMoveEnd,g=e.onElementsRemove,j=e.onConnect,y=e.onConnectStart,x=e.onConnectStop,O=e.onConnectEnd,_=e.onNodeMouseEnter,C=e.onNodeMouseMove,w=e.onNodeMouseLeave,E=e.onNodeContextMenu,S=e.onNodeDragStart,T=e.onNodeDrag,M=e.onNodeDragStop,P=e.onSelectionChange,k=e.onSelectionDragStart,L=e.onSelectionDrag,R=e.onSelectionDragStop,D=e.onSelectionContextMenu,I=e.connectionMode,N=void 0===I?pi.Strict:I,A=e.connectionLineType,H=void 0===A?fi.Bezier:A,B=e.connectionLineStyle,V=e.connectionLineComponent,Z=e.deleteKeyCode,F=void 0===Z?"Backspace":Z,z=e.selectionKeyCode,K=void 0===z?"Shift":z,U=e.multiSelectionKeyCode,X=void 0===U?"Meta":U,Y=e.zoomActivationKeyCode,G=void 0===Y?"Meta":Y,W=e.snapToGrid,q=void 0!==W&&W,$=e.snapGrid,Q=void 0===$?[15,15]:$,J=e.onlyRenderVisibleElements,ee=void 0===J||J,te=e.selectNodesOnDrag,ne=void 0===te||te,re=e.nodesDraggable,oe=e.nodesConnectable,ie=e.elementsSelectable,ae=e.minZoom,se=e.maxZoom,ce=e.defaultZoom,le=void 0===ce?1:ce,ue=e.defaultPosition,de=void 0===ue?[0,0]:ue,he=e.translateExtent,pe=e.nodeExtent,fe=e.arrowHeadColor,be=void 0===fe?"#b1b1b7":fe,me=e.markerEndId,ve=e.zoomOnScroll,ge=void 0===ve||ve,je=e.zoomOnPinch,ye=void 0===je||je,xe=e.panOnScroll,Oe=void 0!==xe&&xe,_e=e.panOnScrollSpeed,Ce=void 0===_e?.5:_e,we=e.panOnScrollMode,Ee=void 0===we?bi.Free:we,Se=e.zoomOnDoubleClick,Te=void 0===Se||Se,Me=e.paneMoveable,Pe=void 0===Me||Me,ke=e.onPaneClick,Le=e.onPaneScroll,Re=e.onPaneContextMenu,De=e.children,Ie=e.onEdgeUpdate,Ne=p(e,["elements","className","nodeTypes","edgeTypes","onElementClick","onLoad","onMove","onMoveStart","onMoveEnd","onElementsRemove","onConnect","onConnectStart","onConnectStop","onConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDragStart","onNodeDrag","onNodeDragStop","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","nodeExtent","arrowHeadColor","markerEndId","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate"]),Ae=Object(s.useMemo)((function(){return function(e){var t={input:qs(e.input||Ys),default:qs(e.default||Us),output:qs(e.output||Ws)},n=Object.keys(e).filter((function(e){return!["input","default","output"].includes(e)})).reduce((function(t,n){return t[n]=qs(e[n]||Us),t}),{});return h(h({},t),n)}(i)}),[]),He=Object(s.useMemo)((function(){return function(e){var t={default:Es(e.default||ls),straight:Es(e.bezier||Os),step:Es(e.step||xs),smoothstep:Es(e.step||vs)},n=Object.keys(e).filter((function(e){return!["default","bezier"].includes(e)})).reduce((function(t,n){return t[n]=Es(e[n]||ls),t}),{});return h(h({},t),n)}(l)}),[]),Be=m(["react-flow",r]);return c.a.createElement("div",h({},Ne,{className:Be}),c.a.createElement(rc,null,c.a.createElement(As,{onLoad:d,onMove:f,onMoveStart:b,onMoveEnd:v,onElementClick:u,onNodeMouseEnter:_,onNodeMouseMove:C,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDragStart:S,onNodeDrag:T,onNodeDragStop:M,nodeTypes:Ae,edgeTypes:He,connectionMode:N,connectionLineType:H,connectionLineStyle:B,connectionLineComponent:V,selectionKeyCode:K,onElementsRemove:g,deleteKeyCode:F,multiSelectionKeyCode:X,zoomActivationKeyCode:G,onConnect:j,onConnectStart:y,onConnectStop:x,onConnectEnd:O,snapToGrid:q,snapGrid:Q,onlyRenderVisibleElements:ee,nodesDraggable:re,nodesConnectable:oe,elementsSelectable:ie,selectNodesOnDrag:ne,minZoom:ae,maxZoom:se,defaultZoom:le,defaultPosition:de,translateExtent:he,nodeExtent:pe,arrowHeadColor:be,markerEndId:me,zoomOnScroll:ge,zoomOnPinch:ye,zoomOnDoubleClick:Te,panOnScroll:Oe,panOnScrollSpeed:Ce,panOnScrollMode:Ee,paneMoveable:Pe,onPaneClick:ke,onPaneScroll:Le,onPaneContextMenu:Re,onSelectionDragStart:k,onSelectionDrag:L,onSelectionDragStop:R,onSelectionContextMenu:D,onEdgeUpdate:Ie}),c.a.createElement(Hs,{elements:n}),P&&c.a.createElement($s,{onSelectionChange:P}),De))};sc.displayName="ReactFlow";var cc=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.style,a=e.color,s=e.strokeColor,l=e.strokeWidth,u=e.className,d=e.borderRadius,h=i||{},p=h.background,f=h.backgroundColor,b=a||p||f;return c.a.createElement("rect",{className:m(["react-flow__minimap-node",u]),x:t,y:n,rx:d,ry:d,width:r,height:o,fill:b,stroke:s,strokeWidth:l})};cc.displayName="MiniMapNode";var lc=Object(s.memo)(cc),uc=function(e){var t,n=e.style,r=e.className,o=e.nodeStrokeColor,i=void 0===o?"#555":o,a=e.nodeColor,s=void 0===a?"#fff":a,l=e.nodeClassName,u=void 0===l?"":l,d=e.nodeBorderRadius,h=void 0===d?5:d,p=e.nodeStrokeWidth,f=void 0===p?2:p,b=e.maskColor,v=void 0===b?"rgb(240, 242, 243, 0.7)":b,g=lt((function(e){return e.width})),j=lt((function(e){return e.height})),y=lt((function(e){return e.transform})),x=y[0],O=y[1],_=y[2],C=lt((function(e){return e.nodes})),w=m(["react-flow__minimap",r]),E=(null===n||void 0===n?void 0:n.width)||200,S=(null===n||void 0===n?void 0:n.height)||150,T=s instanceof Function?s:function(){return s},M=i instanceof Function?i:function(){return i},P=u instanceof Function?u:function(){return u},k=C&&C.length,L=Ot(C),R={x:-x/_,y:-O/_,width:g/_,height:j/_},D=k?(t=R,xt(jt(yt(L),yt(t)))):R,I=D.width/E,N=D.height/S,A=Math.max(I,N),H=A*E,B=A*S,V=5*A,Z=D.x-(H-D.width)/2-V,F=D.y-(B-D.height)/2-V,z=H+2*V,K=B+2*V;return c.a.createElement("svg",{width:E,height:S,viewBox:Z+" "+F+" "+z+" "+K,style:n,className:w},C.filter((function(e){return!e.isHidden})).map((function(e){return c.a.createElement(lc,{key:e.id,x:e.__rf.position.x,y:e.__rf.position.y,width:e.__rf.width,height:e.__rf.height,style:e.style,className:P(e),color:T(e),borderRadius:h,strokeColor:M(e),strokeWidth:f})})),c.a.createElement("path",{className:"react-flow__minimap-mask",d:"M"+(Z-V)+","+(F-V)+"h"+(z+2*V)+"v"+(K+2*V)+"h"+(-z-2*V)+"z\n        M"+R.x+","+R.y+"h"+R.width+"v"+R.height+"h"+-R.width+"z",fill:v,fillRule:"evenodd"}))};uc.displayName="MiniMap";var dc=Object(s.memo)(uc);function hc(){return(hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pc=Object(s.createElement)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"});function fc(e){return Object(s.createElement)("svg",hc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),pc)}function bc(){return(bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mc=Object(s.createElement)("path",{d:"M0 0h32v4.2H0z"});function vc(e){return Object(s.createElement)("svg",bc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},e),mc)}function gc(){return(gc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var jc=Object(s.createElement)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 01-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"});function yc(e){return Object(s.createElement)("svg",gc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},e),jc)}function xc(){return(xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oc=Object(s.createElement)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"});function _c(e){return Object(s.createElement)("svg",xc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),Oc)}function Cc(){return(Cc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wc=Object(s.createElement)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"});function Ec(e){return Object(s.createElement)("svg",Cc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},e),wc)}var Sc=function(e){var t=e.style,n=e.showZoom,r=void 0===n||n,o=e.showFitView,i=void 0===o||o,a=e.showInteractive,l=void 0===a||a,u=e.fitViewParams,d=e.onZoomIn,h=e.onZoomOut,p=e.onFitView,f=e.onInteractiveChange,b=e.className,v=ct((function(e){return e.setInteractive})),g=Is(),j=g.zoomIn,y=g.zoomOut,x=g.fitView,O=lt((function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable})),_=m(["react-flow__controls",b]),C=Object(s.useCallback)((function(){null===j||void 0===j||j(),null===d||void 0===d||d()}),[j,d]),w=Object(s.useCallback)((function(){null===y||void 0===y||y(),null===h||void 0===h||h()}),[y,h]),E=Object(s.useCallback)((function(){null===x||void 0===x||x(u),null===p||void 0===p||p()}),[x,u,p]),S=Object(s.useCallback)((function(){null===v||void 0===v||v(!O),null===f||void 0===f||f(!O)}),[O,v,f]);return c.a.createElement("div",{className:_,style:t},r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-zoomin",onClick:C},c.a.createElement(fc,null)),c.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-zoomout",onClick:w},c.a.createElement(vc,null))),i&&c.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-fitview",onClick:E},c.a.createElement(yc,null)),l&&c.a.createElement("div",{className:"react-flow__controls-button react-flow__controls-interactive",onClick:S},O?c.a.createElement(Ec,null):c.a.createElement(_c,null)))};Sc.displayName="Controls";Object(s.memo)(Sc);var Tc,Mc=((Tc={})[hi.Dots]="#81818a",Tc[hi.Lines]="#eee",Tc),Pc=function(e){var t=e.variant,n=void 0===t?hi.Dots:t,r=e.gap,o=void 0===r?15:r,i=e.size,a=void 0===i?.5:i,s=e.color,l=e.style,u=e.className,d=lt((function(e){return e.transform})),p=d[0],f=d[1],b=d[2],v=m(["react-flow__background",u]),g=o*b,j=p%g,y=f%g,x=n===hi.Lines,O=s||Mc[n],_=x?function(e,t,n){return c.a.createElement("path",{stroke:n,strokeWidth:t,d:"M"+e/2+" 0 V"+e+" M0 "+e/2+" H"+e})}(g,a,O):function(e,t){return c.a.createElement("circle",{cx:e/2,cy:e/2,r:e,fill:t})}(a,O);return c.a.createElement("svg",{className:v,style:h(h({},l),{width:"100%",height:"100%"})},c.a.createElement("pattern",{id:"pattern",x:j,y:y,width:g,height:g,patternUnits:"userSpaceOnUse"},_),c.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#pattern)"}))};Pc.displayName="Background";Object(s.memo)(Pc);var kc=function(e){var t=e.children,n=Object(s.useMemo)((function(){return at.createStore(tc)}),[]);return c.a.createElement(at.StoreProvider,{store:n},t)};kc.displayName="ReactFlowProvider",t.f=sc}).call(this,n(75),n(656)(e))},528:function(e,t,n){"use strict";const r={exampleCombinations:{default:{predicate:null,content:["These are some common rules that many businesses have found useful to include in their routing.","Clicking on one will insert the whole combination, and you can then update anything you wish to personalise for your needs.","Rollover a combination to see a description of what the rule will do."],type:"exampleCombinations",helpKey:"exampleCombinations.default"},amountAndCurrency:{":amount: > x":{predicate:":amount: > x",content:["Amount in transaction currency greater than X"],type:"exampleCombinations",helpKey:"exampleCombinations.amountAndCurrency.:amount: > x"},":amount: < x and :amount: > y":{predicate:":amount: < x and :amount: > y",content:["Amount in transaction currency between Y and X"],type:"exampleCombinations",helpKey:"exampleCombinations.amountAndCurrency.:amount: < x and :amount: > y"},":amount_in_usd:  > x":{predicate:":amount_in_usd:  > x",content:["Amount as converted in USD is greater than X"],type:"exampleCombinations",helpKey:"exampleCombinations.amountAndCurrency.:amount_in_usd:  > x"},":currency: in 'GBP','USD','EUR'":{predicate:":currency: in ['GBP','USD','EUR']",content:["Transaction currency is in the following list : GBP, USD, EUR. ","Attention: currencies should always be defined by their 3 character ISO codes. E.g. GBP, USD, EUR ","Note: in most cases it is better to use Lists functionality as it allows you to reuse the same list in multiple rules without having to retype all the options. Refer to the Lists section to learn more about how lists work."],type:"exampleCombinations",helpKey:"exampleCombinations.amountAndCurrency.:currency: in 'GBP','USD','EUR'"}},fraudScoreAndReference:{":score: < x and :score: > y":{predicate:":score: < x and :score: > y",content:["The Checkout.com fraud score is between Y and X. This score is calculated by our machine learning model, trained on the payment data across customers, geographies and industries."],type:"exampleCombinations",helpKey:"exampleCombinations.fraudScoreAndReference.:score: < x and :score: > y"},":reference: in @default_references_list":{predicate:":reference: in @default_references_list",content:["A user-created list called 'Default references list' contains this payment's reference. Refer to the Lists section to learn more about how lists work."],type:"exampleCombinations",helpKey:"exampleCombinations.fraudScoreAndReference.:reference: in @default_references_list"},":description: contains 'AAA'":{predicate:":description: contains 'AAA'",content:["Check payment description field for specific text"],type:"exampleCombinations",helpKey:"exampleCombinations.fraudScoreAndReference.:description: contains 'AAA'"}},addresses:{":billing_address_city: = 'Default city'":{predicate:":billing_address_city: = 'Default city'",content:["The city in the billing address is 'Default city'. \nAttention: this rule expects exact match in the way the city is filled in for the payment request. City 1 doesn't equal City1 or City One."],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_city: = 'Default city'"},"not :billing_address_city: = 'Default city'":{predicate:"not :billing_address_city: = 'Default city'",content:["The city in the billing address is NOT 'Default city'. Attention: this rule expects exact match in the way the city is filled in for the payment request. City 1 doesn't equal City1 or City One."],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.not :billing_address_city: = 'Default city'"},":billing_address_country: != :payment_ip_country:":{predicate:":billing_address_country: != :payment_ip_country:",content:["The billing address country is different from the customer's IP country."],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_country: != :payment_ip_country:"},":billing_address_country: != :phone_country:":{predicate:":billing_address_country: != :phone_country:",content:["The billing address country is different from the country code of the customer's mobile number."],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_country: != :phone_country:"},"is_missing :billing_address_city: or is_missing :shipping_address_city:":{predicate:"is_missing :billing_address_city: or is_missing :shipping_address_city:",content:["Either billing address city or shipping address city is missing"],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.is_missing :billing_address_city: or is_missing :shipping_address_city:"},":shipping_address_line1: = :billing_address_line1:":{predicate:":shipping_address_line1: = :billing_address_line1:",content:["The address line 1 is the same in billing and shipping address"],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:shipping_address_line1: = :billing_address_line1:"},":shipping_address_line1: = :billing_address_line1: and :billing_address_is_valid: and :shipping_address_is_valid:":{predicate:":shipping_address_line1: = :billing_address_line1: and :billing_address_is_valid: and :shipping_address_is_valid:",content:["The address line 1 is the same in billing and shipping address. And both of these addresses can be confirmed to be valid. ","Note: we use a catalogue of addresses to check entries against. That catalogue has the best address coverage for North America and Western Europe but might miss some valid addresses for other countries."],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:shipping_address_line1: = :billing_address_line1: and :billing_address_is_valid: and :shipping_address_is_valid:"},":billing_address_city: in @custom_list":{predicate:":billing_address_city: in @custom_list",content:["The billing address city is in the list called 'Custom list'. Refer to the Lists section to learn more about how lists work. ","Attention: the check performed against any list expects 100% match on spelling."],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_city: in @custom_list"},"not :billing_address_city: in @custom_list":{predicate:"not :billing_address_city: in @custom_list",content:["The billing address city can not be found in the 'Custom list'. Refer to the Lists section to learn more about how lists work.","Attention: the check performed against any list expects 100% match on spelling."],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.not :billing_address_city: in @custom_list"},":billing_address_country: = 'XX'":{predicate:":billing_address_country: = 'XX'",content:["Billing Address country is XX.","Attention: countries in address fields are defined by 2 character ISO codes. E.g. GB, FR, US"],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_country: = 'XX'"},":billing_address_postal_code: = '12345'":{predicate:":billing_address_postal_code: = '12345'",content:["Billing address postal code is 12345"],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_postal_code: = '12345'"},":billing_address_line1: = 'Avenue X'":{predicate:":billing_address_line1: = 'Avenue X'",content:["Line one of the billing address is Avenue X"],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_line1: = 'Avenue X'"},":billing_address_line2: contains 'XYZ'":{predicate:":billing_address_line2: contains 'XYZ'",content:["Second line of the billing address contains XYZ"],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:billing_address_line2: contains 'XYZ'"},":payment_ip: = 1111111111":{predicate:":payment_ip: = '111.111.111.1'",content:['Customer IP is "111.111.111.1"'],type:"exampleCombinations",helpKey:"exampleCombinations.addresses.:payment_ip: = 1111111111"}},cardDetails:{":bin: = '123456'":{predicate:":bin: = '123456'",content:["Card bin is 123456"],type:"exampleCombinations",helpKey:"exampleCombinations.:bin: = '123456'"},":bin: in @risky_bin_list":{predicate:":bin: in @risky_bin_list",content:["Card bin is in the list called 'risky bin list'. Refer to the Lists section to learn more about how lists work."],type:"exampleCombinations",helpKey:"exampleCombinations.cardDetails.:bin: in @risky_bin_list"},"not :bin: in @trusted_bin_list":{predicate:"not :bin: in @trusted_bin_list",content:["Card bin is NOT in the list called 'trusted bin list'.\nRefer to the Lists section to learn more about how lists work."],type:"exampleCombinations",helpKey:"exampleCombinations.cardDetails.not :bin: in @trusted_bin_list"},":card_brand: = 'VISA' or :card_brand: = 'MASTERCARD'":{predicate:":card_brand: = 'VISA' or :card_brand: = 'MASTERCARD'",content:["Card brand is either Visa or Mastercard"],type:"exampleCombinations",helpKey:"exampleCombinations.cardDetails.:card_brand: = 'VISA' or :card_brand: = 'MASTERCARD'"},":card_brand: contains 'AME'":{predicate:":card_brand: contains 'AME'",content:["Card brand contains 'AME'"],type:"exampleCombinations",helpKey:"exampleCombinations.cardDetails.:card_brand: contains 'AME'"},":card_country: = 'XX'":{predicate:":card_country: = 'XX'",content:["Card country is XX. Card country is derived from the bin. ","Attention: countries in address fields are defined by 2 character ISO codes. E.g. GB, FR, US"],type:"exampleCombinations",helpKey:"exampleCombinations.cardDetails.:card_country: = 'XX'"},":card_type: = 'Credit'":{predicate:":card_type: = 'Credit'",content:["Card type is 'Credit'. As opposed to 'Debit'"],type:"exampleCombinations",helpKey:"exampleCombinations.cardDetails.:card_type: = 'Credit'"}},cardholderDetails:{":cardholder_name: contains 'AAA'":{predicate:":cardholder_name: contains 'AAA'",content:["Cardholder name contains AAA"],type:"exampleCombinations",helpKey:"exampleCombinations.cardholderDetails.:cardholder_name: contains 'AAA'"},":cardholder_name: in @trusted_customers":{predicate:":cardholder_name: in @trusted_customers",content:["Cardholder name is in the list called 'trusted customers'. Refer to the Lists section to learn more about how lists work."],type:"exampleCombinations",helpKey:"exampleCombinations.cardholderDetails.:cardholder_name: in @trusted_customers"},"exists :cardholder_name:":{predicate:"exists :cardholder_name:",content:[""],type:"exampleCombinations",helpKey:"exampleCombinations.cardholderDetails.exists :cardholder_name:"},":email: contains 'fraudster'":{predicate:":email: contains 'fraudster'",content:["Email address contains 'fraudster'"],type:"exampleCombinations",helpKey:"exampleCombinations.cardholderDetails.:email: contains 'fraudster'"},":email_is_valid:":{predicate:":email_is_valid:",content:["Email address is formatted correctly. Attention: the existence or age of the e-mail address are not verified."],type:"exampleCombinations",helpKey:"exampleCombinations.cardholderDetails.:email_is_valid:"},":email_domain: = 'fraudsters.com'":{predicate:":email_domain: = 'fraudsters.com'",content:["Email domain is fraudsters.com"],type:"exampleCombinations",helpKey:"exampleCombinations.cardholderDetails.:email_domain: = 'fraudsters.com'"},":phone: in @returning_customers":{predicate:":phone: in @returning_customers",content:["The phone number is in the list called 'returning customers'"],type:"exampleCombinations",helpKey:"exampleCombinations.cardholderDetails.:phone: in @returning_customers"}},verficationResults:{":is_3ds_authenticated:":{predicate:":is_3ds_authenticated:",content:["The payment has been authenticated via 3DS. ","Attention: this rule will not be efficient if used at Pre3DS step, since this step by its very definition is applied before any 3DS check is performed."],type:"exampleCombinations",helpKey:"exampleCombinations.verficationResults.:is_3ds_authenticated:"},":has_liability_shift:":{predicate:":has_liability_shift:",content:["The payment is subject to the liability shift. ","Attention: this assessement does not account for potential penalties from card schemes that might result in suspension of liability shift protection. If you are subject to such penalties you might not be subject to the liability shift even if the payment has passed 3DS authentication."],type:"exampleCombinations",helpKey:"exampleCombinations.verficationResults.:has_liability_shift:"},":avs_code: = 'A'":{predicate:":avs_code: = 'A'",content:["AVS code response is A. ","Possible AVS code values:\nA        AMEX, MC, Visa        Street address matches, ZIP code does not match.\nB        Visa                            Street address matches. ZIP code not verified (incorrect format).\nC        Visa                            Street address and ZIP code not verified (incorrect format).\nD        Visa                            Street address and ZIP code match.\nF        Visa                             Street address and ZIP code match. Applies to UK-issued cards.\nG       Visa                             Not verified or not supported.\nI         Visa                             Street address and ZIP code not verified.\nM        Visa                            Street address and ZIP code match.\nN        AMEX, MC, Visa.        Street address and ZIP code do not match.\nP        Visa                             ZIP code matches. Street address not verified (incorrect format).\nR        AMEX, MC, Visa        Service unavailable.\nS        AMEX, MC                 Not supported.\nU        AMEX, MC, Visa        Address not verified due to lack of issuer support or system malfunction.\nW        MC                            ZIP code matches, street address does not match.\nX         MC                            ZIP code and address match.\nY        AMEX, MC, Visa        Cardholder street address and ZIP code match.\nZ        AMEX, MC, Visa        ZIP code matches.\nAE1        AMEX                   Cardholder name incorrect but ZIP code matches.\nAE2        AMEX                   Cardholder name incorrect, but street and ZIP code match.\nAE3        AMEX                   Cardholder name incorrect, but street matches.\nAE4        AMEX                   Cardholder name matches.\nAE5        AMEX                   Cardholder name and ZIP code match.\nAE6        AMEX                   Cardholder name, street, and ZIP code match.\nAE7        AMEX                   Cardholder name and street match.\nAE8        AMEX                   Cardholder name, street and ZIP code do not match.","\nAttention: this rule will only be efficient if used at the PostAUTH step, since AVS check results will never be available at the earlier steps."],type:"exampleCombinations",helpKey:"exampleCombinations.verficationResults.:avs_code: = 'A'"}},velocity:{":nb_charge_approved_per_card_24h:  > X":{predicate:":nb_charge_approved_per_card_24h:  > X",content:["Number of approved transactions for this card in the last 24 hours is greater than X"],type:"exampleCombinations",helpKey:"exampleCombinations.:nb_charge_approved_per_card_24h:  > X"},":nb_charge_attempted_per_billing_address_7days: > X":{predicate:":nb_charge_attempted_per_billing_address_7days: > X",content:["Number of approved transactions for this billing address in the last 7 days  is greater than X"],type:"exampleCombinations",helpKey:"exampleCombinations.:nb_charge_attempted_per_billing_address_7days: > X"},":nb_charge_approved_per_ip_24h: > X":{predicate:":nb_charge_approved_per_ip_24h: > X",content:["Number of approved transactions for this billing address in the last 24 hours is greater than X"],type:"exampleCombinations",helpKey:"exampleCombinations.:nb_charge_approved_per_ip_24h: > X"},":nb_charge_attempted_per_ip_24h: > X":{predicate:":nb_charge_attempted_per_ip_24h: > X",content:["Number of attempted (approved + declined) transactions for this billing address in the last 24 hours is greater than X"],type:"exampleCombinations",helpKey:"exampleCombinations.:nb_charge_attempted_per_ip_24h: > X"},":nb_charge_approved_per_cardholder_name_30days: > X":{predicate:":nb_charge_approved_per_cardholder_name_30days: > X",content:["Number of approved transactions for this cardholder name in the 30 days is greater than X"],type:"exampleCombinations",helpKey:"exampleCombinations.:nb_charge_approved_per_cardholder_name_30days: > X"}}},availableProperties:{default:{predicate:null,content:["Are predefined by us and allow you to reference parts of the transaction data in your rule.","Attributes can be used by surrounding a word with colons, such as :score:","Attributes can be either a number, string (text) or boolean (true or false).","Attention: not all attributes are mandatory in the payment request. Before creating a rule based on an attribute make sure you provide the relevant data when submitting a payment request to checkout.com."],type:"availableProperties",helpKey:"availableProperties.default"},amountAndCurrency:{":amount:":{predicate:":amount:",content:["The transaction amount in transaction currency","This attribute is mandatory and will always be present in an accepted payment request.",'This is a numeric value and supports such operators as " < " and " > "'],type:"availableProperties",helpKey:"availableProperties.amountAndCurrency.:amount:"},":amount_in_usd:":{predicate:":amount_in_usd:",content:["The transaction amount as converted to USD.","This attribute is mandatory and will always be present in an accepted payment request.",'This is a numeric value and supports such operators as "<" and ">"'],type:"availableProperties",helpKey:"availableProperties.amountAndCurrency.:amount_in_usd:"},":currency:":{predicate:":currency:",content:["The currency used for the payment.","This attribute is mandatory and will always be present in an accepted payment request.",'Attention: currencies are defined by their 3 character ISO codes. When creating rules referencing specific currencies use the format like "GBP", "USD", "EUR", etc'],type:"availableProperties",helpKey:"availableProperties.amountAndCurrency.:currency:"}},fraudScoreAndReference:{":score:":{predicate:":score:",content:["Score assigned by checkout.com's machine learning model.","This can range from 0-100.","Example: 25"],type:"availableProperties",helpKey:"availableProperties.fraudScoreAndReference.:score:"},":reference:":{predicate:":reference:",content:["The payment reference provided.","Example: ORD-5023-4E89"],type:"availableProperties",helpKey:"availableProperties.fraudScoreAndReference.:reference:"},":description:":{predicate:":description:",content:["The description provided with the payment request.","Example: Set of 3 masks"],type:"availableProperties",helpKey:"availableProperties.fraudScoreAndReference.:description:"}},addresses:{":billing_address_city:":{predicate:":billing_address_city:",content:["The billing address city provided.","Example: London"],type:"availableProperties",helpKey:"availableProperties.addresses.:billing_address_city:"},":billing_address_country:":{predicate:":billing_address_country:",content:["Returns the billing address country.",'Attention: countries in this field are defined by 2 character ISO codes. E.g. "GB", "FR", "US"'],type:"availableProperties",helpKey:"availableProperties.addresses.:billing_address_country:"},":billing_address_line1:":{predicate:":billing_address_line1:",content:["The first line of the billing address.","Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.","Example: Flat 1, Checkout.com"],type:"availableProperties",helpKey:"availableProperties.addresses.:billing_address_line1:"},":billing_address_line2:":{predicate:":billing_address_line2:",content:["The second line of the billing address.","Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.","Example: 90 Tottenham Court Road"],type:"availableProperties",helpKey:"availableProperties.addresses.:billing_address_line2:"},":billing_address_postal_code:":{predicate:":billing_address_postal_code:",content:["The post code of the billing address.","Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.","Example: 90 Tottenham Court Road"],type:"availableProperties",helpKey:"availableProperties.addresses.:billing_address_postal_code:"},":billing_address_is_valid:":{predicate:":billing_address_is_valid:",content:["The billing address is deemed to be a real existing address.","A check of the address provided is performed against a global list.","The reliability of this check depends on the region. This is a boolean value that can only be either TRUE or FALSE."],type:"availableProperties",helpKey:"availableProperties.addresses.:billing_address_is_valid:"},":shipping_address_city:":{predicate:":shipping_address_city:",content:["The shipping address city provided.","Example: London"],type:"availableProperties",helpKey:"availableProperties.addresses.:shipping_address_city:"},":shipping_address_country:":{predicate:":shipping_address_country:",content:["Returns the shipping address country",'Attention: countries in this field are defined by 2 character ISO codes. E.g. "GB", "FR", "US"'],type:"availableProperties",helpKey:"availableProperties.addresses.:shipping_address_country:"},":shipping_address_line1:":{predicate:":shipping_address_line1:",content:["The first line of the billing address.","Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.","Example: Flat 1, Checkout.com"],type:"availableProperties",helpKey:"availableProperties.addresses.:shipping_address_line1:"},":shipping_address_line2:":{predicate:":shipping_address_line2:",content:["The second line of the billing address.","Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.","Example: 90 Tottenham Court Road"],type:"availableProperties",helpKey:"availableProperties.addresses.:shipping_address_line2:"},":shipping_address_postal_code:":{predicate:":shipping_address_postal_code:",content:["The second line of the billing address.","Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.","Example: 90 Tottenham Court Road"],type:"availableProperties",helpKey:"availableProperties.addresses.:shipping_address_postal_code:"},":shipping_address_is_valid:":{predicate:":shipping_address_is_valid:",content:["The shipping address is deemed to be a real existing address.","A check of the address provided is performed against a global list."," The reliability of this check depends on the region.","This is a boolean value that can only be either TRUE or FALSE."],type:"availableProperties",helpKey:"availableProperties.addresses.:shipping_address_is_valid:"},":payment_ip:":{predicate:":payment_ip:",content:["The IP address used to make the payment.","Example: 168.16.10.2"],type:"availableProperties",helpKey:"availableProperties.addresses.:payment_ip:"},":payment_ip_country:":{predicate:":payment_ip_country:",content:["The country as derived from payer's IP.",'Attention: countries in this field are defined by 2 character ISO codes. E.g. "GB", "FR", "US"'],type:"availableProperties",helpKey:"availableProperties.addresses.:payment_ip_country:"}},cardDetails:{":card_country:":{predicate:":card_country:",content:["Returns the country where the card was issued as derived from the card bin.",'Attention: countries in this field are defined by 2 character ISO codes. E.g. "GB", "FR", "US"'],type:"availableProperties",helpKey:"availableProperties.cardDetails.:card_country:"},":bin:":{predicate:":bin:",content:["The bank identification number (BIN) represented by the first six numbers of the credit card.","Example: 454347","This attribute is mandatory and will always be present in an accepted payment request."],type:"availableProperties",helpKey:"availableProperties.cardDetails.:bin:"},":card_brand:":{predicate:":card_brand:",content:["The brand of the credit card used.","Example: VISA, MASTERCARD"],type:"availableProperties",helpKey:"availableProperties.cardDetails.:card_brand:"},":card_type:":{predicate:":card_type:",content:["The type of the card used for payment","Example: Credit, Debit"],type:"availableProperties",helpKey:"availableProperties.cardDetails.:card_type:"}},cardholderDetails:{":cardholder_name:":{predicate:":cardholder_name:",content:["The name of the cardholder.","Example: John Doe"],type:"availableProperties",helpKey:"availableProperties.cardholderDetails.:cardholder_name:"},":email:":{predicate:":email:",content:["The customer e-mail address provided.","Example: john.doe@example.com"],type:"availableProperties",helpKey:"availableProperties.cardholderDetails.:email:"},":email_domain:":{predicate:":email_domain:",content:["The e-mail domain derived from the customer e-mail address.","Example: domain.com"],type:"availableProperties",helpKey:"availableProperties.cardholderDetails.:email_domain:"},":phone:":{predicate:":phone:",content:["The phone number of the customer provided.","Example: +1415 555 2671"],type:"availableProperties",helpKey:"availableProperties.cardholderDetails.:phone:"},":phone_country:":{predicate:":phone_country:",content:["The country of the customer's phone number. Derived from the first 2 digit of the number provided.",'Attention: countries in this field are defined by 2 character ISO codes. E.g. "GB", "FR", "US"'],type:"availableProperties",helpKey:"availableProperties.cardholderDetails.:phone_country:"}},verficationResults:{":avs_code:":{predicate:":avs_code:",content:["The result of the AVS check. Applicable to PostAUTH only as AVS check results are never available at the earlier steps.",'Example: :avs_code: in ["A","B","Z"] will be triggered if AVS response code is either A, B or Z',"Possible AVS response code values:","A        AMEX, MC, Visa        Street address matches, ZIP code does not match.","B        Visa                            Street address matches. ZIP code not verified (incorrect format).","C        Visa                            Street address and ZIP code not verified (incorrect format).","D        Visa                            Street address and ZIP code match.","F        Visa                             Street address and ZIP code match. Applies to UK-issued cards.","G       Visa                             Not verified or not supported.","I         Visa                             Street address and ZIP code not verified.","M        Visa                            Street address and ZIP code match.","N        AMEX, MC, Visa.        Street address and ZIP code do not match.","P        Visa                             ZIP code matches. Street address not verified (incorrect format).","R        AMEX, MC, Visa        Service unavailable.","S        AMEX, MC                 Not supported.","U        AMEX, MC, Visa        Address not verified due to lack of issuer support or system malfunction.","W        MC                            ZIP code matches, street address does not match.","X         MC                            ZIP code and address match.","Y        AMEX, MC, Visa        Cardholder street address and ZIP code match.","Z        AMEX, MC, Visa        ZIP code matches.","AE1        AMEX                   Cardholder name incorrect but ZIP code matches.","AE2        AMEX                   Cardholder name incorrect, but street and ZIP code match.","AE3        AMEX                   Cardholder name incorrect, but street matches.","AE4        AMEX                   Cardholder name matches.","AE5        AMEX                   Cardholder name and ZIP code match.","AE6        AMEX                   Cardholder name, street, and ZIP code match.","AE7        AMEX                   Cardholder name and street match.","AE8        AMEX                   Cardholder name, street and ZIP code do not match."],type:"availableProperties",helpKey:"availableProperties.verficationResults.:avs_code:"},":email_is_valid:":{predicate:":email_is_valid:",content:["The information provided in the email address field corresponds to the format of e-mail addresses.","This rule does not require any operators or values."],type:"availableProperties",helpKey:"availableProperties.verficationResults.:email_is_valid:"},":has_liability_shift:":{predicate:":has_liability_shift:",content:["The transaction's liability has been shifted to the issuer as a result of the 3ds check."],type:"availableProperties",helpKey:"availableProperties.verficationResults.:has_liability_shift:"}},velocity:{":nb_charge_approved_per_billing_address_24h:":{predicate:":nb_charge_approved_per_billing_address_24h:",content:["Billing address velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_billing_address_24h:"},":nb_charge_approved_per_billing_address_7days:":{predicate:":nb_charge_approved_per_billing_address_7days:",content:["Billing address velocity in the last 7 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_billing_address_7days:"},":nb_charge_approved_per_billing_address_30days:":{predicate:":nb_charge_approved_per_billing_address_30days:",content:["Billing address velocity in the last 30 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_billing_address_30days:"},":nb_charge_approved_per_shipping_address_24h:":{predicate:":nb_charge_approved_per_shipping_address_24h:",content:["Shipping addres velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_shipping_address_24h:"},":nb_charge_approved_per_shipping_address_7days:":{predicate:":nb_charge_approved_per_shipping_address_7days:",content:["Shipping addres velocity in the last 7 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_shipping_address_7days:"},":nb_charge_approved_per_shipping_address_30days:":{predicate:":nb_charge_approved_per_shipping_address_30days:",content:["Shipping addres velocity in the last 30 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_shipping_address_30days:"},":nb_charge_approved_per_bin_24h:":{predicate:":nb_charge_approved_per_bin_24h:",content:["Bin velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_bin_24h:"},":nb_charge_approved_per_bin_7days:":{predicate:":nb_charge_approved_per_bin_7days:",content:["Bin velocity in the last 7 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_bin_7days:"},":nb_charge_approved_per_bin_30days:":{predicate:":nb_charge_approved_per_bin_30days:",content:["Bin velocity in the last 30 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_bin_30days:"},":nb_charge_approved_per_card_24h:":{predicate:":nb_charge_approved_per_card_24h:",content:["Card velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_card_24h:"},":nb_charge_approved_per_card_7days:":{predicate:":nb_charge_approved_per_card_7days:",content:["Card velocity in the last 7 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_card_7days:"},":nb_charge_approved_per_card_30days:":{predicate:":nb_charge_approved_per_card_30days:",content:["Card velocity in the last 30 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_card_30days:"},":nb_charge_approved_per_cardholder_name_24h:":{predicate:":nb_charge_approved_per_cardholder_name_24h:",content:["Cardholder name velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_cardholder_name_24h:"},":nb_charge_approved_per_cardholder_name_7days:":{predicate:":nb_charge_approved_per_cardholder_name_7days:",content:["Cardholder name velocity in the last 7 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_cardholder_name_7days:"},":nb_charge_approved_per_cardholder_name_30days:":{predicate:":nb_charge_approved_per_cardholder_name_30days:",content:["Cardholder name velocity in the last 30 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_cardholder_name_30days:"},":nb_charge_approved_per_email_24h:":{predicate:":nb_charge_approved_per_email_24h:",content:["Email velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_email_24h:"},":nb_charge_approved_per_email_7days:":{predicate:":nb_charge_approved_per_email_7days:",content:["Email velocity in the last 7 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_email_7days:"},":nb_charge_approved_per_email_30days:":{predicate:":nb_charge_approved_per_email_30days:",content:["Email velocity in the last 30 days for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_email_30days:"},":nb_charge_approved_per_ip_24h:":{predicate:":nb_charge_approved_per_ip_24h:",content:["Payment ip velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_approved_per_ip_24h:"},":nb_charge_attempted_per_billing_address_7days:":{predicate:":nb_charge_attempted_per_billing_address_7days:",content:["Payment ip velocity in the last 24 hours for approved transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_billing_address_7days:"},":nb_charge_attempted_per_billing_address_30days:":{predicate:":nb_charge_attempted_per_billing_address_30days:",content:["Billing address velocity in the last 30 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_billing_address_30days:"},":nb_charge_attempted_per_shipping_address_24h:":{predicate:":nb_charge_attempted_per_shipping_address_24h:",content:["Shipping addres velocity in the last 24 hours for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_shipping_address_24h:"},":nb_charge_attempted_per_shipping_address_7days:":{predicate:":nb_charge_attempted_per_shipping_address_7days:",content:["Shipping addres velocity in the last 7 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_shipping_address_7days:"},":nb_charge_attempted_per_shipping_address_30days:":{predicate:":nb_charge_attempted_per_shipping_address_30days:",content:["Shipping addres velocity in the last 30 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_shipping_address_30days:"},":nb_charge_attempted_per_bin_24h:":{predicate:":nb_charge_attempted_per_bin_24h:",content:["Bin velocity in the last 24 hours for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_bin_24h:"},":nb_charge_attempted_per_bin_7days:":{predicate:":nb_charge_attempted_per_bin_7days:",content:["Bin velocity in the last 7 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_bin_7days:"},":nb_charge_attempted_per_bin_30days:":{predicate:":nb_charge_attempted_per_bin_30days:",content:["Bin velocity in the last 30 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_bin_30days:"},":nb_charge_attempted_per_card_24h:":{predicate:":nb_charge_attempted_per_card_24h:",content:["Card velocity in the last 24 hours for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_card_24h:"},":nb_charge_attempted_per_card_7days:":{predicate:":nb_charge_attempted_per_card_7days:",content:["Card velocity in the last 7 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_card_7days:"},":nb_charge_attempted_per_card_30days:":{predicate:":nb_charge_attempted_per_card_30days:",content:["Card velocity in the last 30 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_card_30days:"},":nb_charge_attempted_per_cardholder_name_24h:":{predicate:":nb_charge_attempted_per_cardholder_name_24h:",content:["Cardholder name velocity in the last 24 hours for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_cardholder_name_24h:"},":nb_charge_attempted_per_cardholder_name_7days:":{predicate:":nb_charge_attempted_per_cardholder_name_7days:",content:["Cardholder name velocity in the last 7 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_cardholder_name_7days:"},":nb_charge_attempted_per_cardholder_name_30days:":{predicate:":nb_charge_attempted_per_cardholder_name_30days:",content:["Cardholder name velocity in the last 30 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_cardholder_name_30days:"},":nb_charge_attempted_per_email_24h:":{predicate:":nb_charge_attempted_per_email_24h:",content:["Email velocity in the last 24 hours for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_email_24h:"},":nb_charge_attempted_per_email_7days:":{predicate:":nb_charge_attempted_per_email_7days:",content:["Email velocity in the last 7 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_email_7days:"},":nb_charge_attempted_per_email_30days:":{predicate:":nb_charge_attempted_per_email_30days:",content:["Email velocity in the last 30 days for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_email_30days:"},":nb_charge_attempted_per_ip_24h:":{predicate:":nb_charge_attempted_per_ip_24h:",content:["Payment ip velocity in the last 24 hours for attempted transactions"],type:"availableProperties",helpKey:"availableProperties.:nb_charge_attempted_per_ip_24h:"}}},operators:{default:{predicate:null,content:["Operators help define the criteria against which payment attributes values will be tested. The list of available operators an attribute supports depends on the attribute tupe: Number, String or Boolean."],type:"operators",helpKey:"operators.default"},">":{predicate:">",content:["Greater than. Applicable to number attributes only.","Example: :score: > 5"],type:"operators",helpKey:"operators.>"},"<":{predicate:"<",content:["Less than. Applicable to number attributes only.","Example: :score: < 5"],type:"operators",helpKey:"operators.<"},">=":{predicate:">=",content:["Greater than or equal. Applicable to number attributes only.","Example: :score: >= 1"],type:"operators",helpKey:"operators.>="},"<=":{predicate:"<=",content:["Less than or equal. Applicable to number attributes only.","Example: :score: <= 2 "],type:"operators",helpKey:"operators.<="},"=":{predicate:"=",content:["Equal. All evaluated attributes must be of the same type: String, Number or Boolean.","Example: :billing_address_country: = 'GB'"],type:"operators",helpKey:"operators.="},"!=":{predicate:"!=",content:["Not equal. All evaluated attributes must be of the same type: String, Number or Boolean.","Example: :card_brand: != 'VISA'"],type:"operators",helpKey:"operators.!="},IN:{predicate:"IN",content:["Contained in a given list. Refer to the Lists section to learn more about how lists work.","Example: :billing_address_country: IN @high_risk_counties"],type:"operators",helpKey:"operators.IN"},CONTAINS:{predicate:"CONTAINS",content:["Contains a specific text value. Applicable to string attributes only.","Example: $promo_code contains 'XMAS'"],type:"operators",helpKey:"operators.CONTAINS"},IS_MISSING:{predicate:"IS_MISSING",content:["Attribute is missing a value. Usually this happens if the value is not provided in the payment request. Note: most of the payment request fields are optional.","Example: is_missing $billing_address_city will return TRUE if no billing address is provided"],type:"operators",helpKey:"operators.IS_MISSING"},EXISTS:{predicate:"EXISTS",content:["Attribute is present. Or, in other words, has a value.","Example: exists $billing_address_country will return TRUE if an address is provided"],type:"operators",helpKey:"operators.EXISTS"},NOT:{predicate:"NOT",content:["This function can be used it reverse a statement.","Example: not :billing_address_city: CONTAINS 'London' will return TRUE if billing address city does NOT contain 'London'"],type:"operators",helpKey:"operators.NOT"}},editor:{checkRule:{title:"Check your rule",content:["You just need to check that the <b>rule syntax is consistent</b> (so it can be used in live routing), and you have <b>given your rule a name</b> (how you will refer to it in live routing) before you can create."],helpKey:"editor.checkRule"}},velocityWizard:{transactionCount:{title:"Velocity transaction count",content:["Velocity element to identify high frequency transactions. Will return the frequency of a particular attribute in the transactions over a time period."],example:{predicate:":nb_charge_approved_per_billing_address_24h: > 10",description:"This will trigger when the number of approved requests (velocity) for a particular billing address goes above 10 in a 24 hour period."},type:"velocity",helpKey:"velocityWizard.transactionCount"},relative:{title:"Relative velocity",content:["Velocity element to identify cases when the same attribute is reused in otherwise unrelated transactions. Returns of the occurrence of one attribute in relation to another over a time period."],example:{predicate:":nb_relative_attempted_email_per_cardholder_name_30days: > 10",description:"This will trigger when the number of email addresses for a single cardholder goes above 10 in any 30 day period of attempted transactions."},type:"velocity",helpKey:"velocityWizard.relative"}}};t.a=r},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=(n(0),n(2)),i=n(487);var a=({title:e,modalKey:t})=>Object(r.jsxs)(o.Flex,{alignItems:"center",pb:2,children:[Object(r.jsx)(o.Box,{mr:2,children:Object(r.jsx)(o.Box,{py:3,children:Object(r.jsx)(o.TextHeadingOne,{children:e})})}),t&&Object(r.jsx)(i.a,{modalKey:t})]})},530:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),o=n(5),i=n(2);function a(){const e=Object(r.a)(["\n  padding: 0;\n\n  button {\n    margin-left: 0;\n    margin-right: 16px;\n    :hover {\n      z-index: 10;\n    }\n  }\n\n  button:last-child {\n    margin-right: 0;\n  }\n"]);return a=function(){return e},e}var s=Object(o.default)(i.Flex)(a())},541:function(e,t,n){"use strict";n.d(t,"b",(function(){return jt}));var r=n(1),o=n(6),i=n(7),a=n(8),s=n(2),c=n(706),l=n(510),u=n(0),d=n.n(u);var h=()=>{const e=Object(u.useRef)();Object(u.useEffect)((()=>()=>{e.current&&clearTimeout(e.current)}),[]);return Object(u.useCallback)((({onEnter:t,onLeave:n},r=300)=>({onMouseEnter:()=>{e.current=setTimeout((()=>{t&&t()}),r)},onMouseLeave:()=>{n&&n(),e.current&&clearTimeout(e.current)}})),[])},p=n(495),f=n(511);let b;!function(e){e.VelocityTransactionCount="velocity_transaction_count",e.VelocityRelative="velocity_relative"}(b||(b={}));const m=Object(u.createContext)(void 0),v=({children:e})=>{const t=Object(u.useState)(null),n=Object(i.a)(t,2),o=n[0],a=n[1],s=Object(u.useState)(!1),c=Object(i.a)(s,2),l=c[0],d=c[1],h=Object(u.useRef)(null);Object(u.useEffect)((()=>{const e=h.current,t=()=>{l||a(null)};return null===e||void 0===e||e.addEventListener("transitionend",t),()=>{null===e||void 0===e||e.removeEventListener("transitionend",t)}}),[l]);const p=Object(u.useCallback)((e=>{a(e),d((t=>!t||(!t||e!==o)&&t))}),[o]),f=Object(u.useCallback)((()=>{d(!1)}),[]),b=Object(u.useMemo)((()=>({formType:o,handleClose:f,onFormTypeSelected:p,isDrawerOpen:l,drawerRef:h})),[o,l,p,f]);return Object(r.jsx)(m.Provider,{value:b,children:e})},g=()=>{const e=Object(u.useContext)(m);if(void 0===e)throw new Error("useVelocityWizard must be used within a VelocityWizardProvider");return e};var j=()=>{const e=Object(f.b)(),t=e.captureSelection,n=e.setReadOnly,r=g().isDrawerOpen,o=Object(p.b)().setHelpContentKey,i=h();return Object(u.useCallback)((e=>{const a=i({onEnter:()=>{o(e)}}),s=a.onMouseEnter,c=a.onMouseLeave;return{onMouseEnter:()=>{t(),n(!0),!r&&s()},onMouseLeave:()=>{n(!1),!r&&c()}}}),[t,i,r,o,n])},y=n(597),x=n(5);function O(){const e=Object(a.a)(["\n  line-height: 32px;\n  text-align: left;\n  overflow-x: scroll;\n  &:hover {\n    background: #f5f6f7;\n  }\n"]);return O=function(){return e},e}const _=Object(x.default)(s.Flex)(O());var C=({children:e})=>Object(r.jsx)(_,{p:3,borderBottom:"baseLight.1",borderLeft:"baseLight.1",borderRight:"baseLight.1",bg:"offWhite",children:e}),w=n(484),E=n(46);const S=Object(x.default)(s.ClickableElement)((({theme:e,isActive:t})=>"\n  width: 100%;\n  text-align: start;\n  padding: 4px 8px;\n  border-radius: 6px;\n  color: ".concat(t?e.colors.white:e.colors.warningDark,";\n  background-color:  ").concat(t?e.colors.base:e.colors.warningLight,";\n  font-size:").concat(e.fontSizes[1],";\n  &:hover {\n    color: ").concat(e.colors.warningDark,";\n    background-color:\n      ").concat(Object(E.lighten)(.03,e.colors.warningLight),";\n  }\n")));var T=({title:e,isActive:t,description:n,content:o,onClick:a,onMouseEnter:c,onMouseLeave:l})=>{const d=Object(u.useState)(!1),h=Object(i.a)(d,2),p=h[0],f=h[1];return Object(r.jsx)(C,{children:Object(r.jsxs)(s.Flex,{flexDirection:"column",children:[Object(r.jsxs)(s.Text,{textAlign:"left",fontSize:1,lineHeight:1,children:[Object(r.jsxs)(w.b,{children:[e," "]})," ",n]}),Object(r.jsx)(y.a,{show:!t&&p,text:"Click to launch wizard",children:Object(r.jsx)(S,{isActive:t,onClick:a,onMouseEnter:()=>{c(),f(!0)},onMouseLeave:()=>{l(),f(!1)},children:o})})]})})};var M=()=>{const e=g(),t=e.onFormTypeSelected,n=e.formType,i=j(),a=Object(p.b)().setHelpContentKey,s=Object(l.a)().getTabPanelProps;return Object(r.jsx)("div",Object(o.a)(Object(o.a)({},s({id:"velocities"})),{},{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)(T,Object(o.a)({isActive:n===b.VelocityTransactionCount,title:"Transaction count",description:"- check occurrence of a single attribute over a time period ",content:"velocity_count, 1 attribute",onClick:()=>{t(b.VelocityTransactionCount),a("velocityWizard.transactionCount")}},i("velocityWizard.transactionCount"))),Object(r.jsx)(T,Object(o.a)({isActive:n===b.VelocityRelative,title:"Relative",description:"- check the\noccurrence of one attribute in relation to another",content:"velocity, 2 attributes",onClick:()=>{t(b.VelocityRelative),a("velocityWizard.relative")}},i("velocityWizard.relative")))]})}))},P=n(17),k=n.n(P),L=n(25);const R=[{value:"billing_address",label:"Billing address"},{value:"bin",label:"BIN"},{value:"card",label:"Card number"},{value:"cardholder_name",label:"Cardholder name"},{value:"email",label:"Email address"},{value:"ip",label:"IP address"},{value:"shipping_address",label:"Shipping address"}],D=[{value:"cardholder_name",label:"Cardholder name"},{value:"card_number",label:"Card number"},{value:"email",label:"Email address"},{value:"billing_address",label:"Billing address"}],I=[{value:"attempted",label:"Attempted"},{value:"approved",label:"Approved"},{value:"declined",label:"Declined"}],N=[{value:"attempted",label:"Attempted"}],A=[{value:"1h",label:"1 hour"},{value:"3h",label:"3 hour"},{value:"24h",label:"24 hour"},{value:"7days",label:"7 days"},{value:"30days",label:"30 days"}];var H=n(466),B=n(22),V=n(546);var Z=e=>{let t=e.label,n=e.name,a=Object(B.a)(e,["label","name"]);const c=Object(H.c)({name:n}),l=Object(i.a)(c,3),u=l[0],d=l[1],h=l[2].setTouched,p=d.error,f=Object(H.d)().submitCount>0&&void 0!==p;return Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)(s.FormLabel,{children:t}),Object(r.jsx)(s.SegmentedControl,Object(o.a)(Object(o.a)({errors:f},a),{},{onChange:e=>{u.onChange(n)(e.target.value),h(!0,!1)},selectedValue:u.value})),f&&Object(r.jsx)(s.Box,{mt:2,children:Object(r.jsx)(V.a,{"data-testid":"".concat(n,"-error-messsage"),children:p})})]})},F=n(578),z=n(494),K=n(18);function U(){const e=Object(a.a)(["\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  background: white;\n"]);return U=function(){return e},e}const X=Object(x.default)(s.Flex)(U());var Y=({velocityFormTitle:e,handleClose:t})=>Object(r.jsxs)(X,{p:3,borderBottom:"baseLight.1",children:[Object(r.jsx)(s.Flex,{children:Object(r.jsx)(s.Text,{fontSize:"14px",lineHeight:"16px",children:e})}),Object(r.jsx)(s.Flex,{children:Object(r.jsx)(s.ClickableElement,{onClick:e=>{e.preventDefault(),t()},children:Object(r.jsx)(K.e,{})})})]}),G=n(485);const W=(e,t,n)=>"nb_charge_".concat(n,"_per_").concat(e,"_").concat(t),q=e=>function(){var t=Object(L.a)(k.a.mark((function t(n){var r,o,i,a,s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(z.a)({attribute:[Object(z.g)()],period:[Object(z.g)()],action:[Object(z.g)()]})(n);case 2:if(r=t.sent,!Object.values(r).find((e=>!!e))){t.next=5;break}return t.abrupt("return",r);case 5:if(o=n.attribute,i=n.period,a=n.action,s=W(o,i,a),e.find((e=>e.name===s))){t.next=9;break}return t.abrupt("return",{property:"This combination is currently unsupported"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var $=({handleClose:e,onSubmit:t,availableProperties:n})=>Object(r.jsx)(H.b,{initialValues:{attribute:"",period:A[0].value,action:I[0].value,property:""},onSubmit:({attribute:e,period:n,action:r})=>{const o=":".concat(W(e,n,r),":");t(o)},validate:q(n),validateOnMount:!0,children:({isValid:t,errors:n})=>Object(r.jsxs)(H.a,{children:[Object(r.jsx)(Y,{velocityFormTitle:"Transaction count velocity",handleClose:e}),Object(r.jsxs)(s.Flex,{flexDirection:"column",p:4,children:[Object(r.jsx)(s.Text,{mb:2,children:"Insert a velocity element to check:"}),Object(r.jsxs)(s.SpaceBetween,{my:3,children:[Object(r.jsxs)(s.Box,{children:[Object(r.jsx)(s.FormLabel,{fontSize:1,children:"The number of times a ..."}),Object(r.jsx)(F.a,{name:"attribute",placeholder:"Select an attribute",options:R})]}),Object(r.jsx)(s.Box,{children:Object(r.jsx)(Z,{label:"Appears over a period of ...",name:"period",options:A})}),Object(r.jsx)(s.Box,{children:Object(r.jsx)(Z,{label:"in all transactions that were ...",name:"action",options:I})})]}),Object(r.jsx)(s.Box,{mt:5,children:Object(r.jsx)(G.a,{enabled:!t,text:n.property,children:Object(r.jsx)(s.PrimaryButton,{type:"submit",disabled:!t,children:"Insert velocity element"})})})]})]})});function Q(){const e=Object(a.a)(["\n  top: 0;\n  left: 360px;\n  height: 100%;\n  width: ",";\n  background-color: ",";\n  position: absolute;\n  box-shadow: ",";\n  transition: width 250ms ease-in, left 250ms ease-in;\n  overflow: hidden;\n  z-index: 1000;\n"]);return Q=function(){return e},e}const J=Object(x.default)(s.Box)(Q(),(({velocityFormVisible:e})=>e?"505px":"0px"),(({theme:e})=>e.colors.white),(({theme:e})=>e.shadows.focusLight[3]));var ee=d.a.forwardRef((({velocityFormVisible:e,children:t},n)=>Object(r.jsx)(J,{ref:n,velocityFormVisible:e,children:Object(r.jsx)(s.Box,{width:"505px",children:t})})));const te=Object(z.a)({attributeOne:[Object(z.g)("Attribute one is required"),Object(z.b)("attributeTwo","The attributes must be different")],attributeTwo:[Object(z.g)("Attribute two is required")],period:[Object(z.g)()],action:[Object(z.g)()]}),ne=e=>function(){var t=Object(L.a)(k.a.mark((function t(n){var r,o,i,a,s,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te(n);case 2:if(r=t.sent,!Object.values(r).find((e=>!!e))){t.next=5;break}return t.abrupt("return",r);case 5:if(o=n.attributeOne,i=n.attributeTwo,a=n.period,s=n.action,c=re({action:s,period:a,attributeOne:o,attributeTwo:i}),e.find((e=>e.name===c))){t.next=9;break}return t.abrupt("return",{property:"This combination is currently unsupported"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=({action:e,attributeOne:t,attributeTwo:n,period:r})=>"nb_relative_".concat(e,"_").concat(t,"_per_").concat(n,"_").concat(r);var oe=({onSubmit:e,handleClose:t,availableProperties:n})=>Object(r.jsx)(H.b,{initialValues:{attributeOne:"",attributeTwo:"",period:A[0].value,action:N[0].value,property:""},onSubmit:({action:t,period:n,attributeOne:r,attributeTwo:o})=>{e(":".concat(re({action:t,period:n,attributeOne:r,attributeTwo:o}),":"))},validate:ne(n),validateOnMount:!0,children:({errors:e,isValid:n})=>{const o=Object.values(e),a=Object(i.a)(o,1)[0];return Object(r.jsxs)(H.a,{children:[Object(r.jsx)(Y,{velocityFormTitle:"Relative velocity",handleClose:t}),Object(r.jsxs)(s.Flex,{flexDirection:"column",p:4,children:[Object(r.jsxs)(s.SpaceBetween,{my:3,children:[Object(r.jsx)(s.Text,{mb:2,color:"focus",children:"Insert a velocity element to check:"}),Object(r.jsx)(s.Box,{children:Object(r.jsx)(F.a,{name:"attributeOne",options:D,label:"The number of unique ...",placeholder:"Select attribute 1"})}),Object(r.jsx)(s.Box,{children:Object(r.jsx)(F.a,{name:"attributeTwo",options:D,label:"sharing ...",placeholder:"Select attribute 2"})}),Object(r.jsx)(s.Box,{children:Object(r.jsx)(Z,{label:"Appears over a period of ...",name:"period",options:A})}),Object(r.jsx)(s.Box,{children:Object(r.jsx)(Z,{label:"in all transactions that were ...",name:"action",options:N})})]}),Object(r.jsx)(s.Box,{mt:5,children:Object(r.jsx)(G.a,{enabled:!n,text:a,children:Object(r.jsx)(s.PrimaryButton,{type:"submit",disabled:!n,children:"Insert velocity element"})})})]})]})}}),ie=n(516),ae=n(595);const se=({formType:e,handleClose:t,availableProperties:n,onSubmit:o})=>{switch(e){case b.VelocityTransactionCount:return Object(r.jsx)($,{handleClose:t,availableProperties:n,onSubmit:o});case b.VelocityRelative:return Object(r.jsx)(oe,{handleClose:t,availableProperties:n,onSubmit:o});default:return null}};var ce=()=>{const e=g(),t=e.formType,n=e.handleClose,o=e.isDrawerOpen,i=e.drawerRef,a=Object(f.b)().insertPredicate,s=Object(ie.b)().availableProperties,c=Object(ae.b)({getRoot:e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.parentElement}}).isInView;Object(u.useEffect)((()=>{c("velocities")||n()}),[n,c]);const l=Object(u.useCallback)((e=>{a(e),n()}),[n,a]);return Object(r.jsx)(ee,{velocityFormVisible:o,ref:i,children:Object(r.jsx)(se,{availableProperties:s,onSubmit:l,formType:t,handleClose:n})})},le=n(551),ue=n(545);var de=()=>{const e=h(),t=Object(p.b)().setHelpContentKey,n=Object(f.b)(),r=n.captureSelection,o=n.removePlaceholder,i=n.insertPlaceholder,a=n.insertPredicate,s=n.setReadOnly,c=g().isDrawerOpen;return Object(u.useCallback)((n=>{const l=e({onEnter:()=>{t(n.helpKey),n.predicate&&i(n.predicate.length)},onLeave:()=>{o()}}),u=l.onMouseEnter,d=l.onMouseLeave;return{onMouseEnter:()=>{r(),s(!0),!c&&u()},onMouseLeave:()=>{s(!1),!c&&d()},onClick:()=>{!c&&n.predicate&&a(n.predicate)}}}),[r,e,i,a,c,o,t,s])};function he(){const e=Object(a.a)(["\n  cursor: pointer;\n  word-break: break-word;\n"]);return he=function(){return e},e}const pe=d.a.memo((({predicate:e})=>Object(r.jsx)(C,{children:Object(r.jsx)(le.b,{predicate:e})}))),fe=RegExp(":score:","g"),be=e=>e.predicate&&!fe.test(e.predicate),me=Object(x.default)(s.ListItem)(he());var ve=({data:e})=>{const t=de(),n=Object(ue.a)(),i=Object(u.useMemo)((()=>n?Object.values(e):Object.values(e).filter(be)),[e,n]);return Object(r.jsx)("ul",{children:i.map((e=>e.predicate&&Object(r.jsx)(me,Object(o.a)(Object(o.a)({},t(e)),{},{"data-cy":"property-list:".concat(e.predicate),children:Object(r.jsx)(pe,{predicate:e.predicate})}),e.predicate)))})};var ge=({children:e,id:t})=>{const n=Object(l.a)().getTabPanelProps;return Object(r.jsx)("div",Object(o.a)(Object(o.a)({},n({id:t})),{},{children:e}))},je=n(528);function ye(){const e=Object(a.a)([""]);return ye=function(){return e},e}function xe(){const e=Object(a.a)(["\n  line-height: 32px;\n  text-align: left;\n\n  &:before {\n    border-left: 4px solid ",";\n    content: '';\n  }\n"]);return xe=function(){return e},e}const Oe=Object(x.default)(s.Flex).attrs((()=>({bg:"offWhite",borderBottom:"baseLight.1",borderRight:"baseLight.3",height:"60px"})))(xe(),(({theme:e})=>e.colors.base)),_e=Object(x.default)(s.Text).attrs((()=>({ml:3,my:"auto",fontSize:"14px",color:"focusLight",fontWeight:"500"})))(ye());var Ce=()=>{const e=je.a.exampleCombinations,t=je.a.availableProperties,n=je.a.operators;return Object(r.jsxs)(s.Box,{width:"100%",bg:"#F8F9FA",p:0,style:{overflow:"scroll"},children:[Object(r.jsxs)(c.d,{children:[Object(r.jsxs)(ge,{id:"example-rules",children:[Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Amount and currency"})}),Object(r.jsx)(ve,{data:e.amountAndCurrency}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Fraud score and reference"})}),Object(r.jsx)(ve,{data:e.fraudScoreAndReference}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Addresses"})}),Object(r.jsx)(ve,{data:e.addresses}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Card details"})}),Object(r.jsx)(ve,{data:e.cardDetails}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Cardholder details"})}),Object(r.jsx)(ve,{data:e.cardholderDetails}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Verification results"})}),Object(r.jsx)(ve,{data:e.verficationResults})]}),Object(r.jsxs)(ge,{id:"properties",children:[Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Amount and currency"})}),Object(r.jsx)(ve,{data:t.amountAndCurrency}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Fraud score and reference"})}),Object(r.jsx)(ve,{data:t.fraudScoreAndReference}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Addresses"})}),Object(r.jsx)(ve,{data:t.addresses}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Card details"})}),Object(r.jsx)(ve,{data:t.cardDetails}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Cardholder details"})}),Object(r.jsx)(ve,{data:t.cardholderDetails}),Object(r.jsx)(Oe,{children:Object(r.jsx)(_e,{children:"Verification results"})}),Object(r.jsx)(ve,{data:t.verficationResults})]}),Object(r.jsx)(ge,{id:"operators",children:Object(r.jsx)(ve,{data:n})}),Object(r.jsx)(M,{})]}),Object(r.jsx)(ce,{})]})},we=n(452),Ee=n(451),Se=n(478),Te=n(544),Me=n(35);function Pe(){const e=Object(a.a)(["\n    resize: none;\n    width: 100%;\n    min-height: 200px;\n    padding: 8px 12px;\n    border: 1px solid ",";\n    border-radius: ",";\n    box-shadow: ",";\n    background-color: ",";\n  "]);return Pe=function(){return e},e}const ke=x.default.textarea((({theme:e,disabled:t})=>Object(x.css)(Pe(),e.colors.baseLight,e.radii[1],e.shadows.focusLight[0],t?"#f7f9fa":"#fff")));ke.defaultProps={disabled:!0};var Le=ke,Re=n(530),De=n(102);const Ie=Object(x.default)(K.b).withConfig({displayName:"RulesBuilderForm__IconCheckmarkIcon",componentId:"sc-908klx-0"})(["& > g{fill:#017c63;}"]),Ne=Object(u.lazy)((()=>n.e(12).then(n.bind(null,1230)))),Ae=Object(x.default)(K.f).withConfig({displayName:"RulesBuilderForm__DeleteIcon",componentId:"sc-908klx-1"})(["margin-right:8px;vertical-align:text-bottom;"]),He=x.default.span.withConfig({displayName:"RulesBuilderForm__EditorLabel",componentId:"sc-908klx-2"})(["display:inline-block;font-size:14px;font-weight:500;line-height:20px;margin:4px 0;margin-top:0;"]);var Be=({data:e})=>{const t=e.mode===Me.b.Edit?1:0,n=Object(u.useState)(t),a=Object(i.a)(n,2),c=a[0],l=a[1],d=h(),f=Object(p.b)().setHelpContentKey,b=Object(ie.b)(),m=b.submissionError,v=b.setSubmissionError,g=Object(we.a)(Ee.a.DELETE_SCORING_RULE).openModal,j={name:e.name||"",predicate:e.predicate||""},y=Object(u.useMemo)((()=>!!(e.risk_profiles&&e.risk_profiles.length>0)),[e.risk_profiles]),x=e.mode===Me.b.Edit||e.mode===Me.b.EditDelete?"Update rule":"Create rule",O=Object(H.d)(),_=O.isSubmitting,C=O.submitCount,w=O.errors,E=O.validateForm,S=O.isValid,T=O.isValidating,M=C+c,P=Object.values(w),R=Object(i.a)(P,1)[0];return Object(r.jsx)(s.Box,{width:1,children:Object(r.jsxs)(H.a,{"data-testid":"add-rule-form",children:[Object(r.jsx)(s.Box,{mb:4,children:Object(r.jsx)(Te.a,{label:"Rule name",name:"name",submitCount:M,displayFieldError:!1})}),Object(r.jsxs)(s.Box,{mb:3,children:[Object(r.jsx)(He,{children:"Rule"}),Object(r.jsx)(u.Suspense,{fallback:Object(r.jsx)(Le,{}),children:Object(r.jsx)(Ne,{name:"predicate",initialValue:j.predicate,submitAndTestCount:M})})]}),Object(r.jsx)(De.a,{on:void 0!==R&&M>t&&!T&&null===m,children:Object(r.jsx)(s.Box,{width:[2/3],mb:3,children:Object(r.jsx)(s.InlineNotification,{type:"alert",children:R})})}),Object(r.jsx)(De.a,{on:M>t&&void 0===R&&!T&&null===m,children:Object(r.jsx)(s.Box,{width:[2/3],mb:3,children:Object(r.jsx)(s.Flex,{p:0,children:Object(r.jsx)(s.InlineNotification,{type:"success",children:Object(r.jsxs)(s.Flex,{children:[Object(r.jsx)(s.Box,{mr:2,children:Object(r.jsx)(Ie,{})}),"Rule syntax is consistent"]})})})})}),Object(r.jsx)(De.a,{on:null!==m,children:Object(r.jsx)(s.Box,{width:[2/3],mb:3,children:Object(r.jsx)(s.InlineNotification,{type:"alert",children:m})})}),Object(r.jsxs)(s.Flex,{justifyContent:"space-between",children:[Object(r.jsx)(s.PrimaryButton,Object(o.a)(Object(o.a)({variant:"large",onClick:function(){var e=Object(L.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l((e=>e+1)),v(null),E();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d((()=>{f(je.a.editor.checkRule.helpKey)}))),{},{children:T?"Checking rule":"Check rule"})),Object(r.jsxs)(Re.a,{children:[Object(r.jsx)(De.a,{on:void 0===w.predicate&&S,children:Object(r.jsx)(s.PrimaryButton,{variant:"large",type:"submit",children:_?"Submitting":x})}),e.mode===Me.b.EditDelete&&Object(r.jsx)(G.a,{enabled:y,text:"This rule cannot be deleted as it is currently being used in one or more Risk Profiles.",children:Object(r.jsxs)(s.DangerButton,{variant:"large",disabled:y,onClick:t=>{t.preventDefault(),g(Object(o.a)({},e))},children:[Object(r.jsx)(Ae,{}),"Delete Rule"]})})]})]})]})})},Ve=n(508),Ze=n(34),Fe=n(40),ze=n(709),Ke=n(765),Ue=n.n(Ke);var Xe=()=>Object(r.jsxs)("svg",{width:"40",height:"23",viewBox:"0 0 40 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("rect",{x:"1",y:"0.5",width:"25",height:"22",rx:"6.5",fill:"#CAE6FB",stroke:"white"}),Object(r.jsx)("rect",{x:"14",y:"0.5",width:"25",height:"22",rx:"6.5",fill:"#F6DEDF",stroke:"white"})]});var Ye=()=>Object(r.jsxs)("svg",{width:"30",height:"23",viewBox:"0 0 30 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("rect",{x:"2.5",y:"0.5",width:"25",height:"22",rx:"6.5",fill:"#ECF8F5",stroke:"white"}),Object(r.jsx)("path",{d:"M13.4058 9.84C13.4058 9.536 13.4978 9.292 13.6818 9.108C13.8738 8.916 14.1058 8.82 14.3778 8.82C14.6498 8.82 14.8778 8.916 15.0618 9.108C15.2538 9.292 15.3498 9.536 15.3498 9.84C15.3498 10.144 15.2538 10.388 15.0618 10.572C14.8778 10.756 14.6498 10.848 14.3778 10.848C14.1058 10.848 13.8738 10.756 13.6818 10.572C13.4978 10.388 13.4058 10.144 13.4058 9.84ZM13.4058 14.136C13.4058 13.832 13.4978 13.588 13.6818 13.404C13.8738 13.212 14.1058 13.116 14.3778 13.116C14.6498 13.116 14.8778 13.212 15.0618 13.404C15.2538 13.588 15.3498 13.832 15.3498 14.136C15.3498 14.44 15.2538 14.684 15.0618 14.868C14.8778 15.052 14.6498 15.144 14.3778 15.144C14.1058 15.144 13.8738 15.052 13.6818 14.868C13.4978 14.684 13.4058 14.44 13.4058 14.136Z",fill:"#017C63"})]});var Ge=()=>Object(r.jsxs)("svg",{width:"30",height:"23",viewBox:"0 0 30 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("rect",{x:"0.5",y:"0.5",width:"29",height:"22",rx:"6.5",fill:"#E1E8EA",stroke:"white"}),Object(r.jsx)("path",{d:"M13.4423 15.424L8.96631 12.388V11.644L13.4423 8.608V9.556L9.83031 11.992V12.04L13.4423 14.476V15.424ZM16.0056 15.424V14.476L19.6176 12.04V11.992L16.0056 9.556V8.608L20.4816 11.644V12.388L16.0056 15.424Z",fill:"#1B2F37"})]});const We={exampleCombinations:Xe,availableProperties:Ye,operators:Ge},qe={exampleCombinations:"Example combinations",availableProperties:"Properties",operators:"Operators"},$e=Object(x.default)(s.Text)((({theme:e})=>"\n  line-height: 22px;\n  color: ".concat(e.colors.focusLight,";\n\n  b {\n    font-weight: 500;\n    color: black;\n  }\n\n  i {\n    font-style: italic;\n  }\n  "))),Qe=({children:e})=>Object(r.jsx)($e,{dangerouslySetInnerHTML:{__html:e}});var Je=({type:e,predicate:t,content:n,title:o})=>{const i=We[e];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(s.Flex,{alignItems:"center",mb:t?4:3,children:[i&&Object(r.jsx)(s.Box,{mr:2,style:{lineHeight:0},children:Object(r.jsx)(i,{})}),Object(r.jsx)(s.Text,{lineHeight:0,color:"focus",fontWeight:"500",children:o||qe[e]})]}),t&&Object(r.jsx)(s.Box,{mb:3,style:{wordBreak:"break-all"},children:Object(r.jsx)(le.b,{predicate:t})}),n.map(((e,t)=>Object(r.jsx)(s.Box,{mb:3,children:Object(r.jsx)(Qe,{children:e})},"content-".concat(t))))]})};var et=()=>Object(r.jsxs)("svg",{width:"30",height:"23",viewBox:"0 0 30 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("rect",{x:"2.5",y:"0.5",width:"25",height:"22",rx:"6.5",fill:"#FFE7B5",stroke:"white"}),Object(r.jsx)("path",{d:"M14.3778 10.848C14.1058 10.848 13.8738 10.756 13.6818 10.572C13.4978 10.388 13.4058 10.144 13.4058 9.84C13.4058 9.536 13.4978 9.292 13.6818 9.108C13.8738 8.916 14.1058 8.82 14.3778 8.82C14.6498 8.82 14.8778 8.916 15.0618 9.108C15.2538 9.292 15.3498 9.536 15.3498 9.84C15.3498 10.144 15.2538 10.388 15.0618 10.572C14.8778 10.756 14.6498 10.848 14.3778 10.848ZM14.3778 15.144C14.1058 15.144 13.8738 15.052 13.6818 14.868C13.4978 14.684 13.4058 14.44 13.4058 14.136C13.4058 13.832 13.4978 13.588 13.6818 13.404C13.8738 13.212 14.1058 13.116 14.3778 13.116C14.6498 13.116 14.8778 13.212 15.0618 13.404C15.2538 13.588 15.3498 13.832 15.3498 14.136C15.3498 14.44 15.2538 14.684 15.0618 14.868C14.8778 15.052 14.6498 15.144 14.3778 15.144Z",fill:"#79560D"})]});var tt=({content:e,title:t,predicate:n,exampleDesc:o})=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(s.Flex,{alignItems:"center",mb:n?4:3,children:[Object(r.jsx)(s.Box,{mr:2,style:{lineHeight:0},children:Object(r.jsx)(et,{})}),Object(r.jsx)(s.Text,{lineHeight:0,color:"focus",fontWeight:"500",children:t})]}),e.map(((e,t)=>Object(r.jsx)(s.Box,{mb:3,children:Object(r.jsx)(Qe,{children:e})},"content-".concat(t)))),Object(r.jsx)(s.Box,{mb:3,style:{wordBreak:"break-all"},children:Object(r.jsx)(le.b,{predicate:n})}),Object(r.jsx)(s.Box,{mb:3,children:Object(r.jsx)(s.Text,{children:o})})]}),nt=n(12);function rt(){const e=Object(a.a)(["\n  ","\n"]);return rt=function(){return e},e}const ot=Object(x.default)(s.OutlineButton)(rt(),nt.display);var it=({showHelpSection:e,onToggle:t})=>{const n=Object(p.b)().helpContentKey,o=Object(u.useMemo)((()=>{return e=n,Ue()(je.a,e,null);var e}),[n]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(s.Flex,{justifyContent:"space-between",pr:3,children:[Object(r.jsx)(De.a,{on:e,children:Object(r.jsx)(s.TextHeadingOne,{children:"Help"})}),Object(r.jsx)(ot,{onClick:t,display:["none","none","none","unset"],children:e?Object(r.jsx)(r.Fragment,{children:">"}):Object(r.jsx)(r.Fragment,{children:"<"})})]}),o&&Object(r.jsx)(De.a,{on:e,children:Object(r.jsx)(s.Box,{mt:3,pr:3,children:"velocity"===o.type?Object(r.jsx)(tt,{title:o.title,content:o.content,predicate:o.example.predicate,exampleDesc:o.example.description}):Object(r.jsx)(Je,{type:o.type,predicate:o.predicate,content:o.content,title:o.title})})})]})},at=n(654);const st=Object(x.default)(s.ClickableElement).withConfig({displayName:"RulesNavigationMenu__MenuItemWrapper",componentId:"f3h5oa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:90px;width:90px;&[aria-selected='true']{background:#e4e9eb;}"]),ct=({children:e,icon:t,index:n,id:i})=>{const a=Object(l.a)().getTabProps;return void 0===n?null:Object(r.jsx)("li",{children:Object(r.jsxs)(st,Object(o.a)(Object(o.a)({},a({id:i,index:n})),{},{children:[Object(r.jsx)(s.Box,{mx:"auto",mb:2,children:t}),Object(r.jsx)(s.Text,{mx:2,color:"focusLight",fontSize:1,style:{textAlign:"center"},children:e})]}))})};var lt=()=>Object(r.jsx)(s.Box,{bg:"#F9F8FA",borderRight:"baseLight.1",children:Object(r.jsx)("ul",{role:"tablist",children:Object(r.jsxs)(at.a,{children:[Object(r.jsx)(ct,{id:"example-rules",icon:Object(r.jsx)(Xe,{}),children:"Example rules"}),Object(r.jsx)(ct,{id:"properties",icon:Object(r.jsx)(Ye,{}),children:"Properties"}),Object(r.jsx)(ct,{id:"operators",icon:Object(r.jsx)(Ge,{}),children:"Operators"}),Object(r.jsx)(ct,{id:"velocities",icon:Object(r.jsx)(et,{}),children:"Velocities"})]})})}),ut=n(710);var dt=({children:e})=>{const t=Object(we.a)(Ee.a.RULE_PROFILE_INFO).openModal,n=jt().closeModal,o=Object(we.a)(Ee.a.RULE_BUILDER_NAME_PROMPT).openModal,i=Object(we.a)(Ee.a.RULE_BUILDER_RULE_PROMPT).openModal,a=Object(we.a)(Ee.a.RULE_BUILDER_SAVE_PROMPT).openModal,c=Object(H.d)(),l=c.errors,u=c.touched;return Object(r.jsx)(ut.b,{type:"success",title:"Create a new rule",headerContent:Object(r.jsx)(s.Box,{ml:"77px",children:Object(r.jsxs)(s.OutlineButton,{onClick:()=>t(),children:[Object(r.jsx)(K.l,{})," Learn more"]})}),closeModal:()=>{0===Object.keys(u).length?n():l.name?o():l.predicate?i():a()},maxWidth:"90vw",closeOnClickOutside:!1,closeOnEscape:!1,children:e})};var ht=({closePrompt:e,closeRuleBuilder:t,message:n})=>Object(r.jsxs)(s.Modal,{type:"alert",title:"You\u2019re leaving the rule builder",closeModal:e,children:[Object(r.jsx)(s.Box,{pb:2,children:Object(r.jsx)(s.Text,{fontSize:1,lineHeight:1,children:n})}),Object(r.jsx)(s.Box,{pb:4,children:Object(r.jsxs)(s.Text,{fontSize:1,lineHeight:1,children:["Would you like to"," ",Object(r.jsx)(s.TextInline,{fontWeight:"500",children:"Return and finish"})," your rule, or click ",Object(r.jsx)(s.TextInline,{fontWeight:"500",children:"Exit rule builder"})," ","to discard your changes?"]})}),Object(r.jsxs)(s.Flex,{alignItems:"center",p:0,children:[Object(r.jsx)(s.Box,{children:Object(r.jsx)(s.SecondaryButton,{onClick:e,"data-testid":"delete-button",children:"Return and finish"})}),Object(r.jsx)(s.Box,{pl:3,children:Object(r.jsx)(s.AlertButton,{onClick:()=>{e(),t()},children:"Exit rule builder"})})]})]});var pt=()=>{const e=Object(we.a)(Ee.a.RULE_BUILDER_NAME_PROMPT),t=e.modalData,n=e.closeModal,o=jt().closeModal;return t?Object(r.jsx)(ht,{closePrompt:n,closeRuleBuilder:o,message:"Your rule is incomplete, you haven\u2019t named it, if you exit now your progress will be lost."}):null};var ft=()=>{const e=Object(we.a)(Ee.a.RULE_BUILDER_RULE_PROMPT),t=e.modalData,n=e.closeModal,o=jt().closeModal;return t?Object(r.jsx)(ht,{closePrompt:n,closeRuleBuilder:o,message:"Your rule is incomplete, the rule is not set or there are errors in the syntax, if you exit now your progress will be lost."}):null},bt=n(517);var mt=({handleSubmit:e,formMode:t})=>{const n=Object(u.useState)(!1),o=Object(i.a)(n,2),a=o[0],c=o[1],l=Object(u.useState)(null),d=Object(i.a)(l,2),h=d[0],p=d[1],f=Object(we.a)(Ee.a.RULE_BUILDER_SAVE_PROMPT),b=f.modalData,m=f.closeModal,v=jt().closeModal,g=Object(H.d)().values;if(!b)return null;const j=function(){var t=Object(L.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(null),t.next=4,e(g);case 4:m(),v(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),409===(null===(n=t.t0.response)||void 0===n?void 0:n.status)?p(' A rule named "'.concat(g.name,'" already exists.')):p("Technical error. Please try again later."),c(!1);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),y="Add"===t?"Create":"Update";return Object(r.jsxs)(s.Modal,{type:"alert",title:"You\u2019re leaving the rule builder",closeModal:m,children:[Object(r.jsx)(s.Box,{pb:2,children:Object(r.jsxs)(s.Text,{fontSize:1,lineHeight:1,children:["Your rule is complete, however you haven\u2019t saved and"," ","".concat(y.toLocaleLowerCase(),"d")," it. If you exit now your progress will be lost."]})}),Object(r.jsx)(s.Box,{pb:4,children:Object(r.jsxs)(s.Text,{fontSize:1,lineHeight:1,children:["Would you like to"," ",Object(r.jsxs)(s.TextInline,{fontWeight:"500",children:[y," your rule"]})," , or click ",Object(r.jsx)(s.TextInline,{fontWeight:"500",children:"Exit rule builder"})," to discard your changes?"]})}),Object(r.jsxs)(s.Flex,{alignItems:"center",p:0,children:[Object(r.jsx)(s.Box,{children:Object(r.jsx)(s.SecondaryButton,{onClick:j,"data-testid":"delete-button",children:a?"Submitting":"".concat(y," your rule")})}),Object(r.jsx)(s.Box,{pl:3,children:Object(r.jsx)(s.AlertButton,{onClick:()=>{m(),v()},children:"Exit rule builder"})})]}),h&&Object(r.jsx)(bt.a,{children:h})]})},vt=n(594);const gt=["640px","832PX","1260px"],jt=()=>Object(we.a)(Ee.a.ADD_SCORING_RULE);t.a=({modalId:e})=>{const t=jt(),n=t.modalData,a=t.closeModal,c=Object(u.useState)(!0),l=Object(i.a)(c,2),d=l[0],h=l[1],p=Object(Se.a)().showAlert,f=()=>{p("Add"===n.mode?"Rule added":"Rule updated"),a(),Ze.b.invalidateQueries(Fe.a.rules)},b=Object(Ve.a)(f,(e=>{n.onRequestSuccess&&n.onRequestSuccess(e,n.meta)})),m=Object(i.a)(b,1)[0],g=Object(Ve.e)(f),j=Object(i.a)(g,1)[0];if(!n||n.modalId!==e)return null;const y=e=>"Add"===n.mode?m({data:e}):j({data:e,path:n.id}),O={name:n.name||"",predicate:n.predicate||""};return Object(r.jsx)(x.ThemeProvider,{theme:e=>Object(o.a)(Object(o.a)({},e),{},{breakpoints:gt}),children:Object(r.jsx)(ie.a,{initalFormValues:O,handleSubmit:y,children:Object(r.jsx)(v,{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(dt,{children:Object(r.jsxs)(s.Flex,{height:"85vh",children:[Object(r.jsx)(s.Flex,{flexBasis:"360px",maxWidth:"360px",mr:"24px",children:Object(r.jsxs)(vt.b,{defaultIndex:0,direction:"vertical",children:[Object(r.jsx)(lt,{}),Object(r.jsx)(Ce,{})]})}),Object(r.jsxs)(s.Flex,{pt:3,pb:4,pr:["24px","24px","24px",0],flex:1,flexDirection:["column","column","column","row"],style:{overflowY:"scroll"},children:[Object(r.jsx)(s.Flex,{flexGrow:1,flexDirection:"column",children:Object(r.jsx)(s.Box,{pt:3,pb:4,pl:1,children:Object(r.jsx)(Be,{data:n})})}),Object(r.jsx)(s.Flex,{ml:[0,0,0,"24px"],flexBasis:d?"360px":"50px",flexDirection:"column",flexShrink:0,children:Object(r.jsx)(it,{onToggle:()=>h(!d),showHelpSection:d})})]})]})}),Object(r.jsx)(ze.a,{}),Object(r.jsx)(pt,{}),Object(r.jsx)(ft,{}),Object(r.jsx)(mt,{handleSubmit:y,formMode:n.mode})]})})})})}},542:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return p}));var r=n(34),o=n(40),i=n(471);const a=e=>Object(i.a)("post",o.a.lists,{onSuccess:e});var s=n(509);const c=e=>Object(s.a)(o.a.lists,{onSuccess:()=>{r.b.removeQueries(o.a.lists),e()}}),l=e=>Object(s.a)(o.a.lists,{onSuccess:e});var u=n(56);const d=e=>{const t=Object(u.a)();return Object(r.d)([o.a.lists,e],((e,{resource:n,limit:r,skip:i,searchQuery:a})=>t("".concat(o.a.lists,"/").concat(n,"?limit=").concat(r,"&skip=").concat(i,"&search=").concat(a))))},h=()=>{const e=Object(u.a)();return Object(r.e)(o.a.lists,(()=>e(o.a.lists)))},p=e=>{r.b.invalidateQueries(o.a.lists,{exact:!0}),r.b.invalidateQueries([o.a.lists,e],{exact:!0})}},544:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),o=n(6),i=n(7),a=n(22),s=(n(0),n(466)),c=n(2),l=n(546);var u=e=>{let t=e.label,n=e.mb,u=void 0===n?2:n,d=e.name,h=e.type,p=void 0===h?"text":h,f=e.submitCount,b=e.displayFieldError,m=void 0===b||b,v=Object(a.a)(e,["label","mb","name","type","submitCount","displayFieldError"]);const g=Object(s.c)(d),j=Object(i.a)(g,2),y=j[0],x=j[1].error,O=f>0&&void 0!==x;return Object(r.jsxs)(c.Box,{mb:u,children:[Object(r.jsx)(c.TextFieldWithLabel,Object(o.a)(Object(o.a)({style:{fontSize:"13px"},title:t,type:p,error:O},y),v)),m&&O&&Object(r.jsx)(l.a,{"data-testid":"".concat(y.name,"-error-messsage"),children:x})]})}},545:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(7),o=n(36);var i=()=>{const e=Object(o.a)(),t=Object(r.a)(e,1)[0].selectedMerchant;return null===t||void 0===t?void 0:t.ml_score_enabled}},546:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),o=n(2),i=n(5);function a(){const e=Object(r.a)([""]);return a=function(){return e},e}const s=Object(i.default)(o.Text)(a());s.defaultProps={fontWeight:400,color:"#BE4343"};var c=s},547:function(e,t,n){"use strict";var r=n(468);n.d(t,"a",(function(){return r.a}))},548:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var r=n(140),o=n(35);const i=e=>Object.entries(e).map((([e,t])=>({value:{type:"decision",value:e},label:t}))),a={[o.e.Decline]:"Your transaction won't be processed. It will be sent neither to 3DS nor to Authorisation.",[o.e.Challenge]:"Your transaction will be routed via the 3DS workflow which means that will you be covered by the liability shift (on fraudulent grounds only).",[o.e.NoPreference]:"Your transaction will be routed via the 3DS workflow which means that will you be covered by the liability shift (on fraudulent grounds only).",[o.e.FrictionlessLiability]:"You will be requesting the Issuer to authenticate your transaction without using any challenge, which they may or may not accept.",[o.e.TryExemptions]:"Whenever possible, our intelligent 3DS routing engine will select the best PSD2 exemptions to downgrade your transaction."},s={[o.e.Decline]:"Decline",[o.e.Challenge]:"Force Challenge (liability shift)",[o.e.NoPreference]:"No Preference (liability shift)",[o.e.FrictionlessLiability]:"Try Frictionless (liability shift)",[o.e.TryExemptions]:"Try Exemptions"},c={[o.e.Decline]:"Decline",[o.e.Challenge]:"3ds check",[o.e.NoPreference]:"3ds check",[o.e.FrictionlessLiability]:"3ds check",[o.e.TryExemptions]:"Accept"},l=e=>({[r.a.One]:c,[r.a.Two]:s}[e]),u={[o.d.Capture]:"Capture",[o.d.Flag]:"Flag",[o.d.Void]:"Void"},d=e=>t=>"3DS1"!==e||![o.e.Challenge,o.e.FrictionlessLiability].includes(t),h=(e,t)=>l(t)[e]||u[e]||e,p={[o.d.Capture]:"",[o.d.Flag]:"Coming soon. Transaction will put on hold for manually review. You will be able to access flagged transactions and take decisions in the Payments tab. ",[o.d.Void]:""},f=(i(u),(e,t)=>{switch(e){case o.c.Pre3ds:return t===r.a.One?{displayValues:c,descriptions:a}:{displayValues:s,descriptions:a};case o.c.PostAuth:return{displayValues:u,descriptions:p}}}),b={[o.e.Decline]:1,[o.e.Challenge]:2,[o.e.NoPreference]:3,[o.e.FrictionlessLiability]:4,[o.e.TryExemptions]:5,[o.d.Void]:1,[o.d.Flag]:2,[o.d.Capture]:3},m={[o.e.Decline]:o.c.Pre3ds,[o.e.Challenge]:o.c.Pre3ds,[o.e.NoPreference]:o.c.Pre3ds,[o.e.FrictionlessLiability]:o.c.Pre3ds,[o.e.TryExemptions]:o.c.Pre3ds,[o.d.Void]:o.c.PostAuth,[o.d.Flag]:o.c.PostAuth,[o.d.Capture]:o.c.PostAuth}},549:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(34),o=n(40),i=n(56);const a=()=>{const e=Object(i.a)();return Object(r.e)(o.a.rules,(()=>e(o.a.rules)))}},551:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1),o=n(0),i=n.n(o),a=n(543),s=n(496),c=n(619),l=n(598),u=n(620),d=n(516);const h=({predicate:e,availableProperties:t})=>{const n=Object(c.a)(),i=n.getLeafRenderer,d=n.renderElement,h=Object(o.useMemo)((()=>Object(a.d)(Object(s.j)())),[]),p=Object(o.useMemo)((()=>i(t)),[t,i]);return Object(r.jsx)(a.c,{onChange:()=>{},editor:h,value:[{children:[{text:e}]}],children:Object(r.jsx)(l.a,{tabIndex:-1,contentEditable:!1,spellCheck:"false",tokensToSkip:["OTHERS","WHITESPACE"],tokenize:u.a,renderElement:d,renderLeaf:p})})},p=({predicate:e})=>{const t=Object(d.b)().availableProperties;return Object(r.jsx)(h,{predicate:e,availableProperties:t})};t.b=i.a.memo(p)},561:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return w}));var r=n(1),o=n(8),i=(n(0),n(2)),a=n(18),s=n(5),c=n(12);function l(){const e=Object(o.a)(["\n  width: 35px;\n"]);return l=function(){return e},e}function u(){const e=Object(o.a)(["\n  font-size: 13px;\n  color: #1da177;\n  ","\n"]);return u=function(){return e},e}function d(){const e=Object(o.a)(["\n  align-self: center;\n  margin: 0 8px 0 4px !important;\n"]);return d=function(){return e},e}const h=Object(s.default)(a.o)(d()),p=Object(s.default)(i.ClickableElement)(u(),c.space),f=s.default.div(l());var b=({searchTerm:e,setSearchTerm:t})=>{const n=e&&e.length>0?Object(r.jsx)(p,{"data-cy":"searchClearButton",px:1,onClick:()=>{t("")},children:"clear"}):Object(r.jsx)(f,{});return Object(r.jsx)(i.TextField,{style:{fontSize:"13px"},prefix:Object(r.jsx)(h,{}),suffix:n,onChange:e=>{t(e.target.value)},value:e||"","data-cy":"searchInput",placeholder:"Search"})};function m(){const e=Object(o.a)(["\n  margin: 0 12px;\n  height: 24px;\n  width: 1px;\n  background-color: ",";\n"]);return m=function(){return e},e}const v=Object(s.default)(i.Box)(m(),(e=>e.theme.colors.baseLight));var g=({searchTerm:e,setSearchTerm:t,totalCount:n})=>{return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(i.Flex,{flexBasis:"290px",children:Object(r.jsx)(b,{searchTerm:e,setSearchTerm:t})}),Object(r.jsx)(v,{}),Object(r.jsx)(i.Box,{style:{lineHeight:"20px"},children:Object(r.jsx)(i.Text,{color:"#7b8d93",fontSize:0,children:"".concat(Number(n).toLocaleString()," ").concat((o="result",a="results",s=n,1===s?o:a))})})]});var o,a,s},j=n(101);function y(){const e=Object(o.a)(["\n  align-items: center;\n  justify-self: end;\n"]);return y=function(){return e},e}function x(){const e=Object(o.a)(["\n  align-items: center;\n"]);return x=function(){return e},e}function O(){const e=Object(o.a)(["\n  grid-template-columns: auto auto;\n  padding: 8px 16px;\n  align-items: center;\n"]);return O=function(){return e},e}const _=Object(s.default)(j.a)(O()),C=Object(s.default)(i.Flex)(x()),w=Object(s.default)(i.Flex)(y())},576:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),o=n(5),i=n(2);function a(){const e=Object(r.a)([""]);return a=function(){return e},e}var s=Object(o.default)(i.Box).attrs((()=>({mb:4})))(a())},577:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(17),o=n.n(r),i=n(6),a=n(25),s=n(139),c=n(138),l=n(76),u=n(0);var d=(e,t={})=>{const n=Object(s.a)(),r=Object(l.a)();return Object(u.useCallback)(function(){var s=Object(a.a)(o.a.mark((function a(s,l,u=t){var d,h,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:return d=t.sent,h=l?"/".concat(l):"",t.prev=4,t.next=7,Object(c.c)("".concat(e).concat(h),s,Object(i.a)(Object(i.a)({},u),{},{headers:Object(i.a)(Object(i.a)({},d),u&&u.headers)}));case 7:return p=t.sent,t.abrupt("return",p.data);case 11:throw t.prev=11,t.t0=t.catch(4),401===t.t0.response.status&&r.logout(),t.t0;case 15:case"end":return t.stop()}}),a,null,[[4,11]])})));return function(e,t){return s.apply(this,arguments)}}(),[r,n,t,e])}},578:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),o=n(17),i=n.n(o),a=n(25),s=n(7),c=n(0),l=n(466),u=n(657),d=n.n(u),h=n(2),p=n(546);var f=({options:e,label:t,name:n,placeholder:o,getItemLabel:u=(e=>e?e.label:""),getItemValue:f=(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.value)&&void 0!==t?t:e})})=>{const b=Object(l.c)(n),m=Object(s.a)(b,3),v=m[1],g=m[2],j=g.setValue,y=g.setTouched,x=v.error,O=Object(l.d)(),_=O.submitCount,C=O.values,w=_>0&&void 0!==x,E=Object(c.useCallback)(function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(f(t));case 2:y(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,y,j]),S=Object(c.useMemo)((()=>{var t;return null!==(t=e.find((e=>d()(f(e),C[n]))))&&void 0!==t?t:null}),[f,n,e,C]);return Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)(h.FormLabel,{children:t}),Object(r.jsxs)(h.SelectMenu,{placeholder:o,onChange:E,selectedItem:S,itemToString:u,children:[Object(r.jsx)(h.SelectMenuButton,{hasErrors:w}),Object(r.jsx)(h.SelectMenuList,{children:e.map(((e,t)=>Object(r.jsx)(h.SelectMenuItem,{item:e,index:t},"formik-select-".concat(t))))})]}),w&&Object(r.jsx)(h.Box,{mt:2,children:Object(r.jsx)(p.a,{"data-testid":"".concat(n,"-error-messsage"),children:x})})]})}},594:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(1),o=n(6),i=n(7),a=n(0),s=n.n(a);const c=s.a.createContext(void 0);var l;!function(e){e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW"}(l||(l={}));const u=({children:e,defaultIndex:t=0,direction:n="horizontal"})=>{const u=Object(a.useState)(t),d=Object(i.a)(u,2),h=d[0],p=d[1],f=Object(a.useRef)([]),b="horizontal"===n?l.LEFT_ARROW:l.UP_ARROW,m="horizontal"===n?l.RIGHT_ARROW:l.DOWN_ARROW,v=Object(a.useMemo)((()=>({setActiveTab:p,registerTab:e=>{f.current.some((t=>t.id===e.id))||(f.current=[...f.current,Object(o.a)(Object(o.a)({},e),{},{ref:s.a.createRef()})])},handleKeyDown:(e,t)=>{if(t===b||t===m){const r=(t===m?f.current.slice(e+1):f.current.slice(0,e).reverse()).find((e=>!e.disabled));var n;if(r)p(r.index),null===(n=r.ref.current)||void 0===n||n.focus()}},isActiveTab:e=>h===e,getTabRef:e=>{var t;return null===(t=f.current.find((t=>t.id===e)))||void 0===t?void 0:t.ref}})),[h,m,b,f]);return Object(r.jsx)(c.Provider,{value:v,children:e})}},595:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(1),o=n(6),i=n(7),a=n(0),s=n.n(a);const c=s.a.createContext(void 0),l=({keys:e,children:t})=>{const n=Object(a.useState)({}),l=Object(i.a)(n,2),u=l[0],d=l[1],h=Object(a.useMemo)((()=>e.reduce(((e,t)=>{const n=s.a.createRef();return e[t]={ref:n,observer:new IntersectionObserver((([e])=>{d((n=>Object(o.a)(Object(o.a)({},n),{},{[t]:e.isIntersecting})))}))},e}),{})),[e]);Object(a.useEffect)((()=>(Object.values(h).forEach((({ref:e,observer:t})=>{e.current&&t.observe(e.current)})),()=>{Object.values(h).forEach((({observer:e})=>{e.disconnect()}))})),[h]);return Object(r.jsx)(c.Provider,{value:{refs:h,scrollTo:(e,t={root:window})=>{const n=h[e];(null===n||void 0===n?void 0:n.ref.current)&&t.root.scrollTo({top:n.ref.current.offsetTop+1,behavior:"smooth"})},isInView:e=>u[e]},children:t})},u=({getRoot:e}={getRoot:()=>window})=>{const t=Object(a.useContext)(c);if(void 0===t)throw new Error("useScrollTo must be used within a ScrollSpyProvider");return Object(o.a)(Object(o.a)({},t),{},{scrollTo:n=>{const r=t.refs[n];var o;(null===r||void 0===r?void 0:r.ref.current)&&t.scrollTo(n,{root:null!==(o=e(null===r||void 0===r?void 0:r.ref.current))&&void 0!==o?o:window})}})}},596:function(e,t,n){"use strict";var r=n(8),o=n(5),i=n(2);function a(){const e=Object(r.a)(["\n  list-style: disc;\n"]);return a=function(){return e},e}const s=Object(o.default)(i.UnorderedList)(a());t.a=s},598:function(e,t,n){"use strict";var r=n(6),o=n(1),i=n(501),a=n(22),s=n(0),c=n(543),l=n(496);t.a=e=>{let t=e.tokenize,n=e.tokensToSkip,u=Object(a.a)(e,["tokenize","tokensToSkip"]);const d=Object(s.useCallback)((([e,r])=>{const o=[];if(!l.h.isText(e))return o;if(!e.text.length)return o;const a=t(e.text);let s=0;var c,u=Object(i.a)(a);try{for(u.s();!(c=u.n()).done;){const e=c.value,t=s+e.content.length;(!n||n&&!n.includes(e.type))&&o.push({type:e.type,value:e.content,anchor:{path:r,offset:s},focus:{path:r,offset:t}}),s=t}}catch(d){u.e(d)}finally{u.f()}return o}),[t,n]);return Object(o.jsx)(c.a,Object(r.a)({decorate:d},u))}},619:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(6),o=n(1),i=n(0),a=n(7),s=n(8),c=n(5);function l(){const e=Object(s.a)(["\n  font-family: Source Code Pro;\n  font-size: 14px;\n  ","\n"]);return l=function(){return e},e}function u(){const e=Object(s.a)(["\n        color: ",";\n      "]);return u=function(){return e},e}function d(){const e=Object(s.a)(["\n        ","\n        color: #E4E9EB;\n        background-color: #e4e9eb;\n      "]);return d=function(){return e},e}function h(){const e=Object(s.a)(["\n        ","\n        color: #004495;\n        background-color: #cae6fb;\n      "]);return h=function(){return e},e}function p(){const e=Object(s.a)(["\n        ","\n        color: ",";\n        background-color: ",";\n      "]);return p=function(){return e},e}function f(){const e=Object(s.a)(["\n        ","\n        color: ",";\n        background-color: ",";\n      "]);return f=function(){return e},e}function b(){const e=Object(s.a)(["\n        ","\n        color: ",";\n        background-color: ",";\n      "]);return b=function(){return e},e}function m(){const e=Object(s.a)(["\n        ","\n        color: ",";\n        background-color: ",";\n      "]);return m=function(){return e},e}function v(){const e=Object(s.a)(["\n        color: #5fa1d6;\n      "]);return v=function(){return e},e}function g(){const e=Object(s.a)(["\n  padding: 4px 8px;\n  border-radius: 6px;\n"]);return g=function(){return e},e}const j=["True","False"],y=["And","Not","Or"],x=["LessThan","LessThanEqual","GreaterThan","GreaterThanEqual","Equal","NotEqual","In"],O=Object(c.css)(g()),_=c.default.span(l(),(({type:e,theme:t})=>{switch(!0){case(e=>[...x,...y].includes(e))(e):return Object(c.css)(v());case(e=>j.includes(e))(e):case(e=>"boolean"===e)(e):return Object(c.css)(m(),O,t.colors.base,t.colors.baseLight);case(e=>"Number"===e)(e):case(e=>"number"===e)(e):return Object(c.css)(b(),O,t.colors.warningDark,t.colors.warningLight);case(e=>"String"===e)(e):case(e=>"string"===e)(e):return Object(c.css)(f(),O,t.colors.successDark,t.colors.successLight);case(e=>"Metadata"===e)(e):return Object(c.css)(p(),O,t.colors.dangerDark,t.colors.dangerLight);case(e=>"DefinedList"===e)(e):return Object(c.css)(h(),O);case(e=>"Placeholder"===e)(e):return Object(c.css)(d(),O);default:return Object(c.css)(u(),t.colors.base)}}));var C=({getRuntimeType:e,attributes:t,children:n,leaf:s})=>{const c=Object(i.useState)(null),l=Object(a.a)(c,2),u=l[0],d=l[1],h=Object(i.useRef)(null);return Object(i.useEffect)((()=>{if(e){const t=e(s);d(t)}}),[e,s]),Object(i.useEffect)((()=>{if(h.current){const e=h.current.firstElementChild;if(e){const t=e.attributes.getNamedItem("data-slate-zero-width");"z"===(null===t||void 0===t?void 0:t.value)&&(h.current.style.padding="0")}}}),[s]),Object(o.jsx)(_,Object(r.a)(Object(r.a)({ref:h,type:u||s.type},t),{},{children:n}))};var w=()=>{const e=Object(i.useCallback)(((e,t)=>{var n;return null===(n=t.find((t=>t.name===e)))||void 0===n?void 0:n.type}),[]);return{getLeafRenderer:Object(i.useCallback)((t=>n=>Object(o.jsx)(C,Object(r.a)({getRuntimeType:n=>{if("Property"===n.type){return e(n.value.replace(/:/g,""),t)}return null}},n))),[e]),renderElement:Object(i.useCallback)((e=>{const t=e.attributes,n=e.children;return Object(o.jsx)("p",Object(r.a)(Object(r.a)({contentEditable:!1,style:{lineHeight:"30px"}},t),{},{children:n}))}),[])}}},620:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(746),o=n(628),i=n(533),a=n(600),s=n(554),c=n(518);class l extends i.Lexer{get vocabulary(){return l.VOCABULARY}constructor(e){super(e),this._interp=new a.LexerATNSimulator(l._ATN,this)}get grammarFileName(){return"Predicate.g4"}get ruleNames(){return l.ruleNames}get serializedATN(){return l._serializedATN}get channelNames(){return l.channelNames}get modeNames(){return l.modeNames}static get _ATN(){return l.__ATN||(l.__ATN=(new o.ATNDeserializer).deserialize(c.toCharArray(l._serializedATN))),l.__ATN}}l.Not=1,l.IsMissing=2,l.Exists=3,l.GreaterThan=4,l.GreaterThanEqual=5,l.LessThan=6,l.LessThanEqual=7,l.Equal=8,l.NotEqual=9,l.In=10,l.Or=11,l.And=12,l.True=13,l.False=14,l.Number=15,l.String=16,l.OpenParen=17,l.CloseParen=18,l.OpenBracket=19,l.CloseBracket=20,l.Property=21,l.Metadata=22,l.DefinedList=23,l.Comma=24,l.WHITESPACE=25,l.OTHERS=26,l.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],l.modeNames=["DEFAULT_MODE"],l.ruleNames=["Not","IsMissing","Exists","GreaterThan","GreaterThanEqual","LessThan","LessThanEqual","Equal","NotEqual","In","Or","And","True","False","Number","String","OpenParen","CloseParen","OpenBracket","CloseBracket","Property","Metadata","DefinedList","Comma","WHITESPACE","OTHERS","VARIABLE_NAME","COLON","AT","DOLLAR"],l._LITERAL_NAMES=[void 0,void 0,void 0,void 0,"'>'","'>='","'<'","'<='","'='","'!='",void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'('","')'","'['","']'",void 0,void 0,void 0,"','"],l._SYMBOLIC_NAMES=[void 0,"Not","IsMissing","Exists","GreaterThan","GreaterThanEqual","LessThan","LessThanEqual","Equal","NotEqual","In","Or","And","True","False","Number","String","OpenParen","CloseParen","OpenBracket","CloseBracket","Property","Metadata","DefinedList","Comma","WHITESPACE","OTHERS"],l.VOCABULARY=new s.VocabularyImpl(l._LITERAL_NAMES,l._SYMBOLIC_NAMES,[]),l._serializedATN="\x03\uc91d\ucaba\u058d\uafba\u4f53\u0607\uea8b\uc241\x02\x1c\u010c\b\x01\x04\x02\t\x02\x04\x03\t\x03\x04\x04\t\x04\x04\x05\t\x05\x04\x06\t\x06\x04\x07\t\x07\x04\b\t\b\x04\t\t\t\x04\n\t\n\x04\v\t\v\x04\f\t\f\x04\r\t\r\x04\x0e\t\x0e\x04\x0f\t\x0f\x04\x10\t\x10\x04\x11\t\x11\x04\x12\t\x12\x04\x13\t\x13\x04\x14\t\x14\x04\x15\t\x15\x04\x16\t\x16\x04\x17\t\x17\x04\x18\t\x18\x04\x19\t\x19\x04\x1a\t\x1a\x04\x1b\t\x1b\x04\x1c\t\x1c\x04\x1d\t\x1d\x04\x1e\t\x1e\x04\x1f\t\x1f\x03\x02\x03\x02\x03\x02\x03\x02\x03\x02\x03\x02\x05\x02F\n\x02\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x05\x03f\n\x03\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x03\x04\x05\x04z\n\x04\x03\x05\x03\x05\x03\x06\x03\x06\x03\x06\x03\x07\x03\x07\x03\b\x03\b\x03\b\x03\t\x03\t\x03\n\x03\n\x03\n\x03\v\x03\v\x03\v\x03\v\x03\v\x03\v\x05\v\x91\n\v\x03\f\x03\f\x03\f\x03\f\x05\f\x97\n\f\x03\r\x03\r\x03\r\x03\r\x03\r\x03\r\x05\r\x9f\n\r\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x03\x0e\x05\x0e\xad\n\x0e\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x03\x0f\x05\x0f\xbe\n\x0f\x03\x10\x06\x10\xc1\n\x10\r\x10\x0e\x10\xc2\x03\x10\x03\x10\x06\x10\xc7\n\x10\r\x10\x0e\x10\xc8\x05\x10\xcb\n\x10\x03\x11\x03\x11\x03\x11\x03\x11\x07\x11\xd1\n\x11\f\x11\x0e\x11\xd4\v\x11\x03\x11\x03\x11\x03\x11\x03\x11\x03\x11\x07\x11\xdb\n\x11\f\x11\x0e\x11\xde\v\x11\x03\x11\x05\x11\xe1\n\x11\x03\x12\x03\x12\x03\x13\x03\x13\x03\x14\x03\x14\x03\x15\x03\x15\x03\x16\x03\x16\x03\x16\x03\x16\x03\x17\x03\x17\x03\x17\x03\x18\x03\x18\x03\x18\x03\x19\x03\x19\x03\x1a\x06\x1a\xf8\n\x1a\r\x1a\x0e\x1a\xf9\x03\x1a\x03\x1a\x03\x1b\x03\x1b\x03\x1b\x03\x1b\x03\x1c\x06\x1c\u0103\n\x1c\r\x1c\x0e\x1c\u0104\x03\x1d\x03\x1d\x03\x1e\x03\x1e\x03\x1f\x03\x1f\x04\xd2\xdc\x02\x02 \x03\x02\x03\x05\x02\x04\x07\x02\x05\t\x02\x06\v\x02\x07\r\x02\b\x0f\x02\t\x11\x02\n\x13\x02\v\x15\x02\f\x17\x02\r\x19\x02\x0e\x1b\x02\x0f\x1d\x02\x10\x1f\x02\x11!\x02\x12#\x02\x13%\x02\x14'\x02\x15)\x02\x16+\x02\x17-\x02\x18/\x02\x191\x02\x1a3\x02\x1b5\x02\x1c7\x02\x029\x02\x02;\x02\x02=\x02\x02\x03\x02\x06\x03\x022;\x05\x02\f\f\x0f\x0f$$\x05\x02\v\f\x0e\x0f\"\"\x06\x022;C\\aac|\x02\u011e\x02\x03\x03\x02\x02\x02\x02\x05\x03\x02\x02\x02\x02\x07\x03\x02\x02\x02\x02\t\x03\x02\x02\x02\x02\v\x03\x02\x02\x02\x02\r\x03\x02\x02\x02\x02\x0f\x03\x02\x02\x02\x02\x11\x03\x02\x02\x02\x02\x13\x03\x02\x02\x02\x02\x15\x03\x02\x02\x02\x02\x17\x03\x02\x02\x02\x02\x19\x03\x02\x02\x02\x02\x1b\x03\x02\x02\x02\x02\x1d\x03\x02\x02\x02\x02\x1f\x03\x02\x02\x02\x02!\x03\x02\x02\x02\x02#\x03\x02\x02\x02\x02%\x03\x02\x02\x02\x02'\x03\x02\x02\x02\x02)\x03\x02\x02\x02\x02+\x03\x02\x02\x02\x02-\x03\x02\x02\x02\x02/\x03\x02\x02\x02\x021\x03\x02\x02\x02\x023\x03\x02\x02\x02\x025\x03\x02\x02\x02\x03E\x03\x02\x02\x02\x05e\x03\x02\x02\x02\x07y\x03\x02\x02\x02\t{\x03\x02\x02\x02\v}\x03\x02\x02\x02\r\x80\x03\x02\x02\x02\x0f\x82\x03\x02\x02\x02\x11\x85\x03\x02\x02\x02\x13\x87\x03\x02\x02\x02\x15\x90\x03\x02\x02\x02\x17\x96\x03\x02\x02\x02\x19\x9e\x03\x02\x02\x02\x1b\xac\x03\x02\x02\x02\x1d\xbd\x03\x02\x02\x02\x1f\xc0\x03\x02\x02\x02!\xe0\x03\x02\x02\x02#\xe2\x03\x02\x02\x02%\xe4\x03\x02\x02\x02'\xe6\x03\x02\x02\x02)\xe8\x03\x02\x02\x02+\xea\x03\x02\x02\x02-\xee\x03\x02\x02\x02/\xf1\x03\x02\x02\x021\xf4\x03\x02\x02\x023\xf7\x03\x02\x02\x025\xfd\x03\x02\x02\x027\u0102\x03\x02\x02\x029\u0106\x03\x02\x02\x02;\u0108\x03\x02\x02\x02=\u010a\x03\x02\x02\x02?@\x07p\x02\x02@A\x07q\x02\x02AF\x07v\x02\x02BC\x07P\x02\x02CD\x07Q\x02\x02DF\x07V\x02\x02E?\x03\x02\x02\x02EB\x03\x02\x02\x02F\x04\x03\x02\x02\x02GH\x07k\x02\x02HI\x07u\x02\x02IJ\x07a\x02\x02JK\x07o\x02\x02KL\x07k\x02\x02LM\x07u\x02\x02MN\x07u\x02\x02NO\x07k\x02\x02OP\x07p\x02\x02Pf\x07i\x02\x02QR\x07K\x02\x02RS\x07u\x02\x02ST\x07a\x02\x02TU\x07O\x02\x02UV\x07k\x02\x02VW\x07u\x02\x02WX\x07u\x02\x02XY\x07k\x02\x02YZ\x07p\x02\x02Zf\x07i\x02\x02[\\\x07K\x02\x02\\]\x07U\x02\x02]^\x07a\x02\x02^_\x07O\x02\x02_`\x07K\x02\x02`a\x07U\x02\x02ab\x07U\x02\x02bc\x07K\x02\x02cd\x07P\x02\x02df\x07I\x02\x02eG\x03\x02\x02\x02eQ\x03\x02\x02\x02e[\x03\x02\x02\x02f\x06\x03\x02\x02\x02gh\x07g\x02\x02hi\x07z\x02\x02ij\x07k\x02\x02jk\x07u\x02\x02kl\x07v\x02\x02lz\x07u\x02\x02mn\x07G\x02\x02no\x07z\x02\x02op\x07k\x02\x02pq\x07u\x02\x02qr\x07v\x02\x02rz\x07u\x02\x02st\x07G\x02\x02tu\x07Z\x02\x02uv\x07K\x02\x02vw\x07U\x02\x02wx\x07V\x02\x02xz\x07U\x02\x02yg\x03\x02\x02\x02ym\x03\x02\x02\x02ys\x03\x02\x02\x02z\b\x03\x02\x02\x02{|\x07@\x02\x02|\n\x03\x02\x02\x02}~\x07@\x02\x02~\x7f\x07?\x02\x02\x7f\f\x03\x02\x02\x02\x80\x81\x07>\x02\x02\x81\x0e\x03\x02\x02\x02\x82\x83\x07>\x02\x02\x83\x84\x07?\x02\x02\x84\x10\x03\x02\x02\x02\x85\x86\x07?\x02\x02\x86\x12\x03\x02\x02\x02\x87\x88\x07#\x02\x02\x88\x89\x07?\x02\x02\x89\x14\x03\x02\x02\x02\x8a\x8b\x07K\x02\x02\x8b\x91\x07P\x02\x02\x8c\x8d\x07K\x02\x02\x8d\x91\x07p\x02\x02\x8e\x8f\x07k\x02\x02\x8f\x91\x07p\x02\x02\x90\x8a\x03\x02\x02\x02\x90\x8c\x03\x02\x02\x02\x90\x8e\x03\x02\x02\x02\x91\x16\x03\x02\x02\x02\x92\x93\x07q\x02\x02\x93\x97\x07t\x02\x02\x94\x95\x07Q\x02\x02\x95\x97\x07T\x02\x02\x96\x92\x03\x02\x02\x02\x96\x94\x03\x02\x02\x02\x97\x18\x03\x02\x02\x02\x98\x99\x07c\x02\x02\x99\x9a\x07p\x02\x02\x9a\x9f\x07f\x02\x02\x9b\x9c\x07C\x02\x02\x9c\x9d\x07P\x02\x02\x9d\x9f\x07F\x02\x02\x9e\x98\x03\x02\x02\x02\x9e\x9b\x03\x02\x02\x02\x9f\x1a\x03\x02\x02\x02\xa0\xa1\x07v\x02\x02\xa1\xa2\x07t\x02\x02\xa2\xa3\x07w\x02\x02\xa3\xad\x07g\x02\x02\xa4\xa5\x07V\x02\x02\xa5\xa6\x07T\x02\x02\xa6\xa7\x07W\x02\x02\xa7\xad\x07G\x02\x02\xa8\xa9\x07V\x02\x02\xa9\xaa\x07t\x02\x02\xaa\xab\x07w\x02\x02\xab\xad\x07g\x02\x02\xac\xa0\x03\x02\x02\x02\xac\xa4\x03\x02\x02\x02\xac\xa8\x03\x02\x02\x02\xad\x1c\x03\x02\x02\x02\xae\xaf\x07h\x02\x02\xaf\xb0\x07c\x02\x02\xb0\xb1\x07n\x02\x02\xb1\xb2\x07u\x02\x02\xb2\xbe\x07g\x02\x02\xb3\xb4\x07H\x02\x02\xb4\xb5\x07C\x02\x02\xb5\xb6\x07N\x02\x02\xb6\xb7\x07U\x02\x02\xb7\xbe\x07G\x02\x02\xb8\xb9\x07H\x02\x02\xb9\xba\x07c\x02\x02\xba\xbb\x07n\x02\x02\xbb\xbc\x07u\x02\x02\xbc\xbe\x07g\x02\x02\xbd\xae\x03\x02\x02\x02\xbd\xb3\x03\x02\x02\x02\xbd\xb8\x03\x02\x02\x02\xbe\x1e\x03\x02\x02\x02\xbf\xc1\t\x02\x02\x02\xc0\xbf\x03\x02\x02\x02\xc1\xc2\x03\x02\x02\x02\xc2\xc0\x03\x02\x02\x02\xc2\xc3\x03\x02\x02\x02\xc3\xca\x03\x02\x02\x02\xc4\xc6\x070\x02\x02\xc5\xc7\t\x02\x02\x02\xc6\xc5\x03\x02\x02\x02\xc7\xc8\x03\x02\x02\x02\xc8\xc6\x03\x02\x02\x02\xc8\xc9\x03\x02\x02\x02\xc9\xcb\x03\x02\x02\x02\xca\xc4\x03\x02\x02\x02\xca\xcb\x03\x02\x02\x02\xcb \x03\x02\x02\x02\xcc\xd2\x07$\x02\x02\xcd\xce\x07^\x02\x02\xce\xd1\x07$\x02\x02\xcf\xd1\n\x03\x02\x02\xd0\xcd\x03\x02\x02\x02\xd0\xcf\x03\x02\x02\x02\xd1\xd4\x03\x02\x02\x02\xd2\xd3\x03\x02\x02\x02\xd2\xd0\x03\x02\x02\x02\xd3\xd5\x03\x02\x02\x02\xd4\xd2\x03\x02\x02\x02\xd5\xe1\x07$\x02\x02\xd6\xdc\x07)\x02\x02\xd7\xd8\x07^\x02\x02\xd8\xdb\x07)\x02\x02\xd9\xdb\n\x03\x02\x02\xda\xd7\x03\x02\x02\x02\xda\xd9\x03\x02\x02\x02\xdb\xde\x03\x02\x02\x02\xdc\xdd\x03\x02\x02\x02\xdc\xda\x03\x02\x02\x02\xdd\xdf\x03\x02\x02\x02\xde\xdc\x03\x02\x02\x02\xdf\xe1\x07)\x02\x02\xe0\xcc\x03\x02\x02\x02\xe0\xd6\x03\x02\x02\x02\xe1\"\x03\x02\x02\x02\xe2\xe3\x07*\x02\x02\xe3$\x03\x02\x02\x02\xe4\xe5\x07+\x02\x02\xe5&\x03\x02\x02\x02\xe6\xe7\x07]\x02\x02\xe7(\x03\x02\x02\x02\xe8\xe9\x07_\x02\x02\xe9*\x03\x02\x02\x02\xea\xeb\x059\x1d\x02\xeb\xec\x057\x1c\x02\xec\xed\x059\x1d\x02\xed,\x03\x02\x02\x02\xee\xef\x05=\x1f\x02\xef\xf0\x057\x1c\x02\xf0.\x03\x02\x02\x02\xf1\xf2\x05;\x1e\x02\xf2\xf3\x057\x1c\x02\xf30\x03\x02\x02\x02\xf4\xf5\x07.\x02\x02\xf52\x03\x02\x02\x02\xf6\xf8\t\x04\x02\x02\xf7\xf6\x03\x02\x02\x02\xf8\xf9\x03\x02\x02\x02\xf9\xf7\x03\x02\x02\x02\xf9\xfa\x03\x02\x02\x02\xfa\xfb\x03\x02\x02\x02\xfb\xfc\b\x1a\x02\x02\xfc4\x03\x02\x02\x02\xfd\xfe\v\x02\x02\x02\xfe\xff\x03\x02\x02\x02\xff\u0100\b\x1b\x02\x02\u01006\x03\x02\x02\x02\u0101\u0103\t\x05\x02\x02\u0102\u0101\x03\x02\x02\x02\u0103\u0104\x03\x02\x02\x02\u0104\u0102\x03\x02\x02\x02\u0104\u0105\x03\x02\x02\x02\u01058\x03\x02\x02\x02\u0106\u0107\x07<\x02\x02\u0107:\x03\x02\x02\x02\u0108\u0109\x07B\x02\x02\u0109<\x03\x02\x02\x02\u010a\u010b\x07&\x02\x02\u010b>\x03\x02\x02\x02\x15\x02Eey\x90\x96\x9e\xac\xbd\xc2\xc8\xca\xd0\xd2\xda\xdc\xe0\xf9\u0104\x03\x02\x03\x02",l.__ATN=void 0;const u=e=>{const t=new r.ANTLRInputStream(e),n=new l(t),o=new r.CommonTokenStream(n);try{o.fill()}catch(i){}return(e=>{if(!e)return[];return e.getTokens().map((e=>({id:e.type,type:n.vocabulary.getSymbolicName(e.type),content:e.text}))).filter((e=>-1!==e.id))})(o)}},621:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),o=n(8),i=(n(0),n(18)),a=n(5),s=n(12),c=n(80);function l(){const e=Object(o.a)(["\n  ","\n  border: 1px solid ",";\n  border-radius: 3px;\n  background-color: #ffffff;\n  font-size: 16px;\n  line-height: 1em;\n\n  table & {\n    opacity: 0;\n  }\n\n  tr:hover &,\n  &:focus {\n    opacity: 1;\n  }\n\n  &:hover {\n    box-shadow: 0 1px 3px 0 rgba(123, 141, 147, 0.15);\n  }\n"]);return l=function(){return e},e}const u="32px",d="26px",h=Object(a.default)(c.a)(l(),Object(s.variant)({variants:{medium:{height:"".concat(d),width:"".concat(d)},large:{height:"".concat(u),width:"".concat(u)}}}),(e=>e.theme.colors.baseLight));var p=({onClick:e,dataCy:t="delete-button",variant:n="medium"})=>Object(r.jsx)(h,{"data-cy":t,onClick:e,variant:n,children:Object(r.jsx)(i.f,{})})},653:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),o=n(17),i=n.n(o),a=n(25),s=n(7),c=n(0),l=n(466),u=n(544),d=n(530),h=n(2),p=n(494);var f=Object(p.a)({name:[Object(p.g)("Name is required"),Object(p.e)(101,"Name must be 100 characters or under"),Object(p.c)(/^[0-9A-Za-z -]+$/,"Name can not contain invalid characters")]}),b=n(517);var m=({onSubmit:e,onCancel:t,onSuccess:n=(()=>{}),initialValues:o,deafultButtonText:p="Create"})=>{const m=Object(c.useState)(null),v=Object(s.a)(m,2),g=v[0],j=v[1];return Object(r.jsx)(l.b,{initialValues:o,validate:f,validateOnChange:!1,onSubmit:function(){var t=Object(a.a)(i.a.mark((function t(r,o){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(null),t.next=4,e({data:r});case 4:n(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),409===(null===(a=t.t0.response)||void 0===a?void 0:a.status)?j(' A risk profile named "'.concat(r.name,'" already exists')):j("Technical error. Please try again later.");case 10:return t.prev=10,o.setSubmitting(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(e,n){return t.apply(this,arguments)}}(),children:({isSubmitting:e,submitCount:n})=>Object(r.jsxs)(l.a,{children:[Object(r.jsx)(u.a,{name:"name",label:"Risk profile name",mb:4,"data-testid":"risk-profile-create-name",placeholder:"Name of the risk profile",submitCount:n}),Object(r.jsxs)(d.a,{children:[Object(r.jsx)(h.PrimaryButton,{variant:"large",type:"submit",disabled:e,"data-cy":"submit",children:e?"Submitting":p}),Object(r.jsx)(h.OutlineButton,{variant:"large",onClick:t,children:"Cancel"})]}),g&&Object(r.jsx)(b.a,{children:g})]})})}},654:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),o=n(0);var i=({children:e})=>{const t=o.Children.map(e,((e,t)=>Object(o.isValidElement)(e)?Object(o.cloneElement)(e,{index:t}):e));return Object(r.jsx)(r.Fragment,{children:t})}},655:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),o=(n(0),n(2)),i=n(18),a=n(485);var s=({text:e,enabled:t=!0})=>Object(r.jsx)(o.Box,{ml:1,display:"inline-block",children:Object(r.jsx)(a.a,{enabled:t,text:e,children:Object(r.jsx)(i.l,{style:{verticalAlign:"bottom"}})})})},706:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return g}));var r=n(1),o=n(0),i=n.n(o),a=n(594);var s=({defaultIndex:e=0,children:t})=>Object(r.jsx)(a.b,{defaultIndex:e,children:t}),c=n(2),l=n(5),u=n(654);const d=Object(l.default)(c.UnorderedList)((({theme:e})=>"\n  display: flex;\n\n  li {\n    margin-right: ".concat(e.space[2],";\n  }\n\n  li:last-child {\n    margin-right: 0;\n  }")));var h=({children:e})=>Object(r.jsx)(d,{role:"tablist",children:Object(r.jsx)(u.a,{children:e})}),p=n(6),f=n(510);var b=Object(l.default)(c.ClickableElement)((({theme:e})=>"\n      height: 36px;\n      font-size: 14px;\n      font-weight: 500;\n      border-top-left-radius: ".concat(e.radii,";\n      border-top-right-radius: ").concat(e.radii,";\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      padding: ").concat(e.space[0]," ").concat(e.space[3],";\n      background-color: ").concat(e.colors.white,";\n      border-top: 3px solid transparent;\n      color: ").concat(e.colors.base,";\n\n      &:disabled {\n        background-color: ").concat(e.colors.baseLight,";\n      }\n\n      &:focus {\n        border-top: ").concat(e.borders.success[2],";\n      }\n\n      &[aria-selected='true'] {\n        border-top: ").concat(e.borders.success[2],";\n        color: ").concat(e.colors.success,";\n\n        &:hover:enabled {\n          border-top: ").concat(e.borders.success[2],";\n        }        \n      }\n\n      &:hover:enabled {\n        border-top: ").concat(e.borders.base[2],";\n      }     \n  ")));var m=({children:e,index:t,disabled:n,id:o})=>{const i=Object(f.a)().getTabProps;return void 0===t?null:Object(r.jsx)("li",{children:Object(r.jsx)(b,Object(p.a)(Object(p.a)({},i({id:o,index:t,disabled:n})),{},{children:e}))})};var v=({children:e})=>{const t=Object(f.a)().isActiveTab;return Object(r.jsx)(r.Fragment,{children:i.a.Children.map(e,((e,n)=>t(n)?e:null))})};var g=({children:e,tabId:t})=>{const n=Object(f.a)().getTabPanelProps;return Object(r.jsx)(c.Panel,Object(p.a)(Object(p.a)({p:0},n({id:t})),{},{children:e}))}},707:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(1),o=n(0),i=n.n(o),a=n(2),s=n(6),c=n(8),l=n(847),u=n(5);function d(){const e=Object(c.a)(["\n  position: absolute;\n  color: #1b2f37;\n  font-size: 14px;\n\n  top: ","px;\n"]);return d=function(){return e},e}function h(){const e=Object(c.a)(["\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background-color: #778293;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  ","\n"]);return h=function(){return e},e}function p(){const e=Object(c.a)(["\n  height: 8px;\n  width: 100%;\n  border-radius: 4px;\n  align-self: center;\n  position: relative;\n\n  &::before {\n    content: '';\n    content: '';\n    width: 100%;\n    height: 2px;\n    background-color: #dfe7eb;\n    top: 2px;\n    position: absolute;\n    z-index: -1;\n  }\n"]);return p=function(){return e},e}const f=u.default.div(p()),b=u.default.div(h(),(({value:e,disabled:t})=>0===e||100===e||t?"\n      pointer-events: none;\n      background-color: #F2F4F5;\n      border: 1px solid #CFDBE1;\n      ":"")),m=u.default.div(d(),(({index:e})=>0===e?18:-18));var v=({start:e,end:t,disabled:n,onChange:o})=>t?Object(r.jsx)(l.Range,{values:[e,t],step:1,min:0,disabled:n,max:100,onChange:o,renderTrack:({props:n,children:o})=>Object(r.jsx)("div",{"data-testid":"decision-row-slider",onMouseDown:n.onMouseDown,onTouchStart:n.onTouchStart,style:Object(s.a)({},n.style),children:Object(r.jsx)(f,{ref:n.ref,style:{background:Object(l.getTrackBackground)({values:[e,t],colors:["transparent","#CFDBE1","transparent"],min:0,max:100})},children:o})}),renderThumb:({props:e,value:t,index:o})=>Object(r.jsx)(b,Object(s.a)(Object(s.a)({},e),{},{"data-testid":"decision-row-slider-thumb",disabled:n,value:t,style:Object(s.a)({},e.style),children:Object(r.jsx)(m,{index:o,children:t})}))}):null,g=n(45),j=n(485),y=n(655),x=n(548),O=n(140);var _=({decision:e,start:t,end:n,handleUpdateScoringRange:i,handleEnableDecision:s,handleDisableDecision:c,enabledCount:l,paymentProcessingStep:u})=>{const d=void 0!==n,h=Object(x.d)(u,O.a.Two),p=Object(o.useCallback)((t=>i({decision:e,values:t})),[e,i]),f=Object(g.a)().hasPermission;return Object(r.jsxs)("tr",{children:[Object(r.jsx)(a.TableCell,{children:Object(r.jsx)(j.a,{enabled:d&&l<=2,text:"At least two scoring decisions must be enabled",children:Object(r.jsx)(a.SwitchButton,{id:e,"data-testid":"decision-row-switch-button",checked:d,onChange:()=>d?c(e):s(e),disabled:d&&l<=2||!f("prism:risk-profile:write")})})}),Object(r.jsxs)(a.TableCell,{children:[h.displayValues[e]," ",""!==h.descriptions[e]&&Object(r.jsx)(y.a,{text:h.descriptions[e]})]}),Object(r.jsx)(a.TableCell,{id:"".concat(e,"_sliders"),children:d&&Object(r.jsx)(v,{disabled:!f("prism:risk-profile:write"),start:t,end:n,onChange:p})})]})};const C=(e,t)=>{const n=e[t-1];return n?n.end?n.end+1:C(e,t-1):0},w=({decisions:e,handleUpdateScoringRange:t,handleEnableDecision:n,handleDisableDecision:i,paymentProcessingStep:s})=>{const c=Object(o.useMemo)((()=>e.reduce(((e,t)=>t.end?e+1:e),0)),[e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(a.Box,{p:3,children:Object(r.jsx)("h1",{children:"Scoring decisions"})}),Object(r.jsx)(a.Box,{pr:"10px",pb:3,children:Object(r.jsxs)(a.Table,{children:[Object(r.jsx)(a.TableHead,{children:Object(r.jsxs)(a.TableRow,{children:[Object(r.jsx)(a.TableCell,{as:"th",width:"10%"}),Object(r.jsx)(a.TableCell,{as:"th",width:"40%",children:"Decision"}),Object(r.jsx)(a.TableCell,{as:"th",width:"50%",children:"Range"})]})}),Object(r.jsx)(a.TableBody,{children:e.map((({end:o,decision:a},l)=>Object(r.jsx)(_,{decision:a,start:C(e,l),end:o,handleUpdateScoringRange:t,handleEnableDecision:n,handleDisableDecision:i,enabledCount:c,paymentProcessingStep:s},a)))})]})})]})};var E=i.a.memo(w)},708:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),o=n(0);var i=class{constructor(e){this.value=void 0,this.next=void 0,this.prev=void 0,this.nextEnd=void 0,this.prevEnd=void 0,this.value=e,this.next=null,this.prev=null,this.nextEnd=null,this.prevEnd=null}findPrevEndNode(e=this.prev){return null===e?null:e.value.end?e:this.findPrevEndNode(e.prev)}findNextEndNode(e=this.next){return null===e?null:e.value.end?e:this.findNextEndNode(e.next)}pushOverlappingNextNodes(e=this,t=this.nextEnd){if(e&&t)return t.nextEnd&&t.value.end-2<=e.value.end&&(t.value.end=Math.min(t.value.end+2,98)),this.pushOverlappingNextNodes(t,t.nextEnd)}fixPreviousOverlappingNodes(e=this,t=this.prevEnd){if(!e||!t)return;const n=e.value.end-t.value.end;return e.prev&&n<2&&(t.value.end=t.value.end-2),this.fixPreviousOverlappingNodes(t,t.prevEnd)}previousNodesTouching(){let e=this.prevEnd,t=this.value.end;for(;e;){const n=t-e.value.end;if(!e.prevEnd&&e.value.end>2||n>2)return!1;t=e.value.end,e=e.prevEnd}return!0}touchingPreviousNode(){if(null===this.prevEnd)return!1;return this.value.end-this.prevEnd.value.end<=2}};var a=class{constructor(){this.head=void 0,this.endHead=void 0,this.endTail=void 0,this.tail=void 0,this.head=null,this.tail=null,this.endHead=null,this.endTail=null}add(e){const t=void 0!==e.end,n=new i(e);if(this.head||(this.head=n),!this.endHead&&t&&(this.endHead=n),this.tail&&(this.tail.next=n,n.prev=this.tail,t)){const e=n.findPrevEndNode();e&&(e.nextEnd=n),n.prevEnd=e,this.tail.nextEnd=n}t&&(this.endTail=n),this.tail=n}findByDecision(e){let t=this.head;for(;t;){if(t.value.decision===e)return t;t=t.next}return null}toArray(){let e=[],t=this.head;for(;t;)e.push(t.value),t=t.next;return e}toEndArray(){let e=[],t=this.endHead;for(;t;)e.push(t.value),t=t.nextEnd;return e}},s=n(6);var c=(e,t)=>{const n=new a;switch(e.decisions.forEach((e=>{n.add(e)})),t.type){case"UPDATE_DECISION":{const o=t.payload,i=o.decision,a=o.values,c=Object(r.a)(a,2),l=c[0],u=c[1],d=n.findByDecision(i);if(!d)return e;if(null===d.prevEnd){if(d.nextEnd&&u>=d.nextEnd.value.end-1)return e;d.value.end=u>0?u:1}else if(d.prevEnd&&d.nextEnd){if(d.prevEnd.prevEnd&&l<=d.prevEnd.prevEnd.value.end+2||d.nextEnd&&u>d.nextEnd.value.end-2||l===u)return e;d.prevEnd.value.end=l<2?1:l-1,d.value.end=u>98?98:u}else{const t=d.prevEnd.prevEnd&&l<=d.prevEnd.prevEnd.value.end+2,n=!d.prevEnd.prevEnd&&l<2,r=l>=100;if(t||n||r)return e;d.prevEnd.value.end=l-1}return Object(s.a)(Object(s.a)({},e),{},{decisions:n.toArray()})}case"ENABLE_DECISION":{const r=5,o=n.findByDecision(t.payload);if(null===o)return e;const i=o.findPrevEndNode(),a=o.findNextEndNode(),c=()=>{o.prevEnd=i,o.prev=i,o.nextEnd=a,i&&(i.nextEnd=o)};if(null===i){if(!a)return e;a.value.end<=r?o.value.end=1:o.value.end=r,a.prevEnd=o,o.nextEnd=a,o.pushOverlappingNextNodes()}else if(null===a)o.value.end=100,i.value.end=i.value.end-2,c(),o.fixPreviousOverlappingNodes();else if(i.prevEnd&&!i.touchingPreviousNode()||!i.prevEnd&&i.value.end>2)o.value.end=i.value.end,i.value.end=i.value.end-2,c(),a&&(a.prevEnd=o,a.prev=o);else if(i.previousNodesTouching()){const e=i.value.end+2;o.value.end=e,c(),a&&(a.prevEnd=o,a.prev=o),e>i.value.end&&o.pushOverlappingNextNodes()}else o.value.end=i.value.end,i.value.end=o.value.end-2,c(),a&&(a.prevEnd=o,a.prev=o),o.fixPreviousOverlappingNodes();return Object(s.a)(Object(s.a)({},e),{},{decisions:n.toArray()})}case"DISABLE_DECISION":{const r=n.findByDecision(t.payload);if(null===r)return e;const o=r.findPrevEndNode(),i=r.findNextEndNode();return!o&&i?i.prevEnd=null:!i&&o?(o.nextEnd=null,o.value.end=r.value.end):(o&&(o.nextEnd=i,o.value.end=r.value.end),i&&(i.prevEnd=o)),delete r.value.end,Object(s.a)(Object(s.a)({},e),{},{decisions:n.toArray()})}default:return e}},l=n(548);var u=(e,t)=>{const n=Object(o.useMemo)((()=>new a),[]),i=Object(o.useMemo)((()=>{return e.forEach((e=>{n.add(e)})),{decisions:(t=e,t.sort(((e,t)=>l.a[t.decision]-l.a[e.decision])))};var t}),[e,n]),s=Object(o.useReducer)(c,i),u=Object(r.a)(s,2),d=u[0],h=u[1];return{state:d,actions:Object(o.useMemo)((()=>({handleDecisionChange:e=>{h({type:"UPDATE_DECISION",payload:e}),t(!0)},handleEnableDecision:e=>{h({type:"ENABLE_DECISION",payload:e}),t(!0)},handleDisableDecision:e=>{h({type:"DISABLE_DECISION",payload:e}),t(!0)}})),[t])}}},709:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),o=(n(0),n(451)),i=n(576),a=n(484),s=n(487),c=n(596),l=n(2);var u=()=>Object(r.jsx)(s.b,{modalKey:o.a.RULE_PROFILE_INFO,title:"Rules",children:Object(r.jsx)("article",{children:Object(r.jsxs)(i.a,{children:[Object(r.jsxs)(a.a,{children:[Object(r.jsx)(a.b,{children:"Rules"})," are the main building blocks for",Object(r.jsx)(a.b,{children:" Routing"}),"and ",Object(r.jsx)(a.b,{children:" Risk profiles"}),"."]}),Object(r.jsx)(a.a,{children:"They take a form of an expression or a collection of expressions that can be evaluated and found true or false. When adding a rule to the Routing or to a Risk profile you will be able to define a specific consequence of that evaluation."}),Object(r.jsxs)(a.a,{children:[Object(r.jsx)(a.b,{children:" Rules can be based on:"}),Object(r.jsxs)(c.a,{pl:3,children:[Object(r.jsxs)(l.ListItem,{children:["information within a transaction payload",Object(r.jsx)(a.b,{children:" E.g. Amount > 100"})]}),Object(r.jsxs)(l.ListItem,{children:["information provided within a transaction meta-data section (the section you can populate with any information you deem necessary)",Object(r.jsx)(a.b,{children:" E.g. Product code equals 14563"})]}),Object(r.jsxs)(l.ListItem,{children:["additional contextual information",Object(r.jsx)(a.b,{children:" E.g. Billing address is a valid"})]}),Object(r.jsxs)(l.ListItem,{children:["statistical data derived from you traffic",Object(r.jsx)(a.b,{children:"E.g. Card used more than 3 times in the last 10 minutes"})]})]})]})]})})})},710:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(1),o=n(8),i=(n(0),n(42)),a=n.n(i),s=n(5),c=n(18),l=n(561),u=n(2);var d=({title:e,headerContent:t,closeButton:n})=>Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.Box,{boxShadow:"focusLight.1",p:3,style:{zIndex:1,position:"relative"},children:Object(r.jsxs)(l.a,{children:[Object(r.jsxs)(l.b,{children:[Object(r.jsx)("h3",{children:e}),Object(r.jsx)(u.Box,{px:3,children:t})]}),Object(r.jsx)(l.c,{children:n})]})})});function h(){const e=Object(o.a)(["\n  float: right;\n  padding: ",";\n  margin-right: -",";\n  margin-top: -",";\n  margin-left: ",";\n  margin-bottom: ",";\n  font-size: 16px;\n  line-height: 1;\n  svg {\n    vertical-align: top;\n  }\n"]);return h=function(){return e},e}function p(){const e=Object(o.a)(["\n  border-radius: ",";\n  max-width: ",";\n  min-width: 702px;\n  flex: 1;\n  position: relative;\n  z-index: 0;\n"]);return p=function(){return e},e}function f(){const e=Object(o.a)(["\n  border-radius: ",";\n  background: #fff;\n  max-width: ",";\n  min-width: 702px;\n  flex: 1;\n  padding: 0;\n  margin: 24px 0;\n  position: relative;\n  ","\n"]);return f=function(){return e},e}function b(){const e=Object(o.a)(["\n    border-top: ",";\n  "]);return b=function(){return e},e}function m(){const e=Object(o.a)(["\n  height: 100vh;\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: auto;\n  z-index: 9999;\n  background: rgba(30, 36, 46, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return m=function(){return e},e}const v=s.default.div(m()),g={success:"success",alert:"danger"},j=s.default.div(f(),(e=>e.theme.radii[1]),(e=>e.maxWidth),(e=>{const t=e.type&&g[e.type]||"success";return Object(s.css)(b(),e.theme.borders[t][2])})),y=s.default.div(p(),(e=>e.theme.radii[1]),(e=>e.maxWidth)),x="4px",O=Object(s.default)(u.ClickableElement)(h(),x,x,x,x,x),_=({children:e})=>a.a.createPortal(e,document.body);t.b=({title:e,children:t,headerContent:n,closeModal:o,maxWidth:i="400px",type:a="success",closeOnClickOutside:s=!0,closeOnEscape:l=!0})=>Object(r.jsx)(_,{children:Object(r.jsx)(v,{onClick:e=>{e.stopPropagation(),s&&o()},onKeyUp:e=>{27===e.keyCode&&(e.stopPropagation(),l&&o())},tabIndex:-1,role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-content","aria-modal":"true",children:Object(r.jsxs)(j,{onClick:e=>e.stopPropagation(),type:a,maxWidth:i,children:[Object(r.jsx)(d,{title:e,headerContent:n,closeButton:Object(r.jsx)(O,{onClick:e=>{e.stopPropagation(),o()},children:Object(r.jsx)(c.e,{})})}),Object(r.jsx)(y,{id:"modal-content",children:t})]})})})},765:function(e,t,n){var r=n(766);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},766:function(e,t,n){var r=n(767),o=n(775);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},767:function(e,t,n){var r=n(137),o=n(768),i=n(769),a=n(772);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},768:function(e,t,n){var r=n(137),o=n(550),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},769:function(e,t,n){var r=n(770),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},770:function(e,t,n){var r=n(771);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},771:function(e,t,n){var r=n(223);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},772:function(e,t,n){var r=n(773);e.exports=function(e){return null==e?"":r(e)}},773:function(e,t,n){var r=n(142),o=n(774),i=n(137),a=n(550),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},774:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},775:function(e,t,n){var r=n(550);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},776:function(e,t,n){"use strict";var r=n(541);n.d(t,"a",(function(){return r.a}))},841:function(e,t,n){"use strict";var r=n(1),o=n(22),i=n(0),a=n(2),s=n(18),c=n(45),l=n(621);const u=/^-?\d*\.?\d*$/;var d=({scoredRules:e,handleScoredRuleUpdate:t,handleDeleteRiskProfileRule:n})=>{const o=Object(c.a)().hasPermission;return Object(r.jsxs)(a.Table,{tableLayout:"fixed",children:[Object(r.jsx)(a.TableHead,{children:Object(r.jsxs)(a.TableRow,{children:[Object(r.jsx)(a.TableCell,{width:"75%",as:"th",children:"Rule name"}),Object(r.jsx)(a.TableCell,{width:"10%",as:"th",children:"Score"}),Object(r.jsx)(a.TableCell,{width:"15%",textAlign:"right",as:"th"})]})}),Object(r.jsx)(a.TableBody,{children:e.length>0?e.map(((e,i)=>Object(r.jsxs)(a.TableRow,{"data-cy":"risk-profile-scoring-rule",children:[Object(r.jsx)(a.TableCell,{children:e.name}),Object(r.jsx)(a.TableCell,{children:Object(r.jsx)(a.TextField,{type:"text","data-testid":"risk-profile-scoring-rules-table-text-field",disabled:!o("prism:risk-profile:write"),onChange:e=>{const n=e.target.value;u.test(n)&&t({index:i,score:n})},onBlur:e=>{""===e.target.value&&t({index:i,score:"0"})},color:Number(e.score)>0?"danger":"success",value:e.score})}),Object(r.jsx)(a.TableCell,{textAlign:"right",children:Object(r.jsx)(l.a,{onClick:()=>n(e)})})]},e.scoring_rule_id))):Object(r.jsx)(a.TableRow,{"data-cy":"risk-profile-rules-placeholder",children:Object(r.jsx)(a.TableCell,{colSpan:3,textAlign:"center",children:"No rules assigned to this risk profile"})})})]})},h=n(452),p=n(451),f=n(6),b=n(466),m=n(544),v=n(494),g=Object(v.a)({score:[Object(v.g)("Score is required"),Object(v.d)("Score must be an integer")],rule:[Object(v.h)("Rule is required")]}),j=n(578);var y=({onCancel:e,onSubmit:t,scoringRules:n})=>Object(r.jsx)(b.b,{initialValues:{score:"",rule:{id:"",name:"",tags:"",predicate:""}},onSubmit:e=>{const n=e.rule,r={score:e.score,scoring_rule_id:n.id,name:n.name};t(r)},validateOnChange:!0,validate:g,children:({submitCount:t})=>Object(r.jsxs)(b.a,{children:[Object(r.jsx)(a.Box,{mb:3,children:Object(r.jsx)(j.a,{name:"rule",options:n.map((e=>{e.tags;const t=Object(o.a)(e,["tags"]);return{label:t.name,value:Object(f.a)({},t)}})),label:"Rule",placeholder:"Please select a rule"})}),Object(r.jsx)(m.a,{label:"Score",mb:4,name:"score",type:"number",submitCount:t}),Object(r.jsxs)(a.Flex,{alignItems:"center",children:[Object(r.jsx)(a.Box,{children:Object(r.jsx)(a.PrimaryButton,{"data-cy":"modal-add-rule",type:"submit",children:"Assign rule"})}),Object(r.jsx)(a.Box,{pl:3,children:Object(r.jsx)(a.OutlineButton,{onClick:e,children:"Cancel"})})]})]})});var x=({addScoringRule:e,riskProfileName:t})=>{const n=Object(h.a)(p.a.ADD_RISK_PROFILE_SCORING_RULE),o=n.modalData,i=n.closeModal;return o?Object(r.jsx)(a.Modal,{type:"success",title:"Assign rule to ".concat(t),closeModal:i,children:Object(r.jsx)(y,{onCancel:i,onSubmit:t=>{e(t),i()},scoringRules:o})}):null},O=n(485),_=n(5);const C=Object(_.default)(s.a)((({theme:e})=>"\nmargin-right: ".concat(e.space[1],";\n")));t.a=({scoredRules:e,handleScoredRuleUpdate:t,addScoringRule:n,handleDeleteRiskProfileRule:s,rules:l,riskProfileName:u})=>{const f=Object(h.a)(p.a.ADD_RISK_PROFILE_SCORING_RULE).openModal,b=Object(i.useMemo)((()=>{const t=e.map((e=>e.scoring_rule_id));return l.filter((e=>!t.includes(e.id))).map((e=>{e.risk_profiles;return Object(o.a)(e,["risk_profiles"])}))}),[l,e]),m=((e,t)=>0===e.length?"No available rules, please create one":0===t.length?"All available rules have been attached to this risk profile":null)(l,b),v=Object(c.a)().hasPermission;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(a.Box,{mb:2,children:[Object(r.jsxs)(a.Flex,{p:3,justifyContent:"space-between",alignItems:"center",children:[Object(r.jsx)("h1",{children:"Scoring rules"}),Object(r.jsx)(O.a,{enabled:null!==m,text:m||"",children:v("prism:risk-profile:write")&&Object(r.jsxs)(a.SecondaryButton,{disabled:0===l.length||0===b.length,style:{pointerEvents:null!==m?"none":"auto"},onClick:()=>{f(b)},children:[Object(r.jsx)(C,{}),"Assign rule to ",u]})})]}),Object(r.jsx)(d,{scoredRules:e,handleScoredRuleUpdate:t,handleDeleteRiskProfileRule:s})]}),Object(r.jsx)(x,{addScoringRule:n,riskProfileName:u})]})}},842:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(6),o=n(7),i=n(0);var a=(e,t)=>{switch(t.type){case"UPDATE_SCORED_RULE":const n=t.payload,o=n.index,i=n.score,a=e.scored_rules[o];return Object(r.a)(Object(r.a)({},e),{},{scored_rules:e.scored_rules.map((e=>a.scoring_rule_id===e.scoring_rule_id?Object(r.a)(Object(r.a)({},a),{},{score:i}):e))});case"ADD_SCORED_RULE":return Object(r.a)(Object(r.a)({},e),{},{scored_rules:[...e.scored_rules,t.payload]});case"REMOVE_SCORED_RULE":return Object(r.a)(Object(r.a)({},e),{},{scored_rules:e.scored_rules.filter((e=>e.scoring_rule_id!==t.payload.scoring_rule_id))});case"UPDATE_NAME":return Object(r.a)(Object(r.a)({},e),{},{name:t.payload});default:return e}},s=n(708);var c=e=>{const t=Object(i.useState)(!1),n=Object(o.a)(t,2),c=n[0],l=n[1],u={name:e.name,scored_rules:e.scored_rules},d=Object(i.useReducer)(a,u),h=Object(o.a)(d,2),p=h[0],f=h[1],b=Object(s.a)(e.score_decisions,l),m=b.state,v=b.actions,g=Object(i.useMemo)((()=>Object(r.a)({handleSave:()=>{l(!1)},handleScoredRuleChange:e=>{f({type:"UPDATE_SCORED_RULE",payload:e}),l(!0)},handleAddScoredRule:e=>{f({type:"ADD_SCORED_RULE",payload:e}),l(!0)},handleDeleteRiskProfileRule:e=>{f({type:"REMOVE_SCORED_RULE",payload:e}),l(!0)},handleUpdateName:e=>{f({type:"UPDATE_NAME",payload:e})}},v)),[v]);return{state:Object(r.a)(Object(r.a)(Object(r.a)({},p),m),{},{hasEdited:c}),actions:g}}},844:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=(n(0),n(2)),i=n(140);var a=()=>{const e=Object(i.c)(),t=e.version,n=e.setVersion;return Object(r.jsx)(o.Box,{bg:"white",width:"300px",children:Object(r.jsx)(o.SegmentedControl,{options:[{label:"3DS 1 view",value:"3DS1"},{label:"3DS 2 view",value:"3DS2"}],onChange:e=>n(e.target.value),selectedValue:t})})}},845:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n(0),i=n(13);var a=({when:e,promptKey:t,message:n="message"})=>{const a=Object(i.useLocation)().pathname,s=Object(o.useCallback)((t=>(e&&(t.preventDefault(),t.returnValue=n),e?n:"")),[n,e]);return Object(o.useEffect)((()=>(window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s))),[s]),Object(r.jsx)(i.Prompt,{when:e,message:e=>e.pathname!==a&&("function"===typeof t?t(e):t)})};n(144),n(107)},886:function(e,t,n){"use strict";var r=n(1),o=(n(0),n(451)),i=n(484),a=n(576),s=n(2),c=n(487),l=n(596);t.a=()=>Object(r.jsx)(c.b,{modalKey:o.a.ROUTING_INFO_BINARY,title:"Routing",children:Object(r.jsxs)("article",{children:[Object(r.jsx)(a.a,{children:Object(r.jsx)(i.a,{children:"Routing allows building a decision tree to segment all incoming transactions based on the wide set of parameters. At each node of a tree is a rule that can either be true or false. Rules can be as complex as required and the routing tree can be many levels deep and have as many routing branches as deemed practical. You can create various rules in the Rules section or from the Routing screen directly."})}),Object(r.jsxs)(a.a,{children:[Object(r.jsx)(s.TextHeadingThree,{mb:3,children:"Outcomes and Risk Profiles "}),Object(r.jsxs)(i.a,{children:["Each branch must have an Outcome or a Risk profile at the end. This way once it is determined that a transaction falls into a particular segment Prism will know what to do with it.",Object(r.jsx)(i.b,{children:"Outcomes"})," are a fast and easy way to process transactions that routing forwards to a particular segment. They are best used at the points of the routing where the transaction segmentation is very precise.",Object(r.jsx)(i.b,{children:"Risk Profiles"})," are a mechanism for scoring-based decision-making. They allows weighting multiple criteria simultaneously rather than one-by-one and having each of these criteria contribute to the final risk score. Risk profiles are best used for situations where very precise segmentation is difficult or impractical and so a segment can contain transactions of various risk levels."]})]}),Object(r.jsxs)(a.a,{children:[Object(r.jsx)(s.TextHeadingThree,{mb:3,children:"Types of routing"}),Object(r.jsx)(i.a,{children:"here are three main steps in fraud scanning process that correspond to the phases of transaction processing:"}),Object(r.jsx)(i.a,{children:Object(r.jsxs)(l.a,{pl:3,children:[Object(r.jsx)(s.ListItem,{children:Object(r.jsx)(i.b,{children:"Pre3DS"})}),Object(r.jsxs)(s.ListItem,{children:[Object(r.jsx)(i.b,{children:"PreAUTH"})," (coming soon)"]}),Object(r.jsx)(s.ListItem,{children:Object(r.jsx)(i.b,{children:"PostAUTH"})})]})}),Object(r.jsx)(i.a,{children:"These steps are mainly characterised by the type of information Prism has and types of the decisions it can make. Consequently Prism maintains a separate routing for each step."})]})]})})},967:function(e,t,n){"use strict";n.d(t,"a",(function(){return Un}));var r=n(7),o=n(1),i=n(0),a=n.n(i),s=n(2),c=n(6),l=n(521);const u=((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return()=>{let i="";for(;;){let a=n(o),s=o;for(;s--;)if(i+=e[a[s]&r]||"",i.length===t)return i}}})("1234567890abcdef",10,(e=>crypto.getRandomValues(new Uint8Array(e))));var d=()=>u();var h=class{constructor(){this.tree=void 0,this.grid=void 0,this.maxHeight=void 0,this.tree=null,this.grid=[],this.maxHeight=0}setTree(e){this.tree=this.enrichTree(e);const t=this.getInitialGridAndMaxHeight(this.tree),n=t.grid,r=t.maxHeight;this.grid=n,this.maxHeight=r}getGrid(){return null==this.tree||this.compressGrid(),this.grid}getInitialGridAndMaxHeight(e){const t=new Array;let n=0;return null==this.tree?{maxHeight:n,grid:t}:(this.traverseDepthFirst(this.tree,((e,r,o)=>{n=Math.max(n,o);const i=new Array(o).fill(null);i[o-1]=e,t.push(i)})),{maxHeight:n,grid:this.padRows(n,t)})}enrichTree(e,t=null,n=1,r=null){let o=0;null==r&&(r=()=>o++);const i={parent:t,dftIndex:r(),height:n,data:e.data,children:[]};return i.children=e.children.map((e=>this.enrichTree(e,i,n+1,r))),i}compressGrid(){const e=new Array;return null==this.tree||(this.traverseDepthFirst(this.tree,(t=>{t.children&&0!==t.children.length||e.push(t)})),e.forEach((e=>{let t=e;for(;null!=t;){for(;this.canBeShiftedUp(t);)this.shiftUp(t);t=t.parent}})),this.trimGrid()),this.grid}shiftUp(e){const t=this.getGridPosition(e,e.dftIndex),n=this.getFirstChildrenHeight(e),r=t.column+n+1,o=this.grid[t.row-1],i=this.grid[t.row].splice(0,r);this.grid[t.row-1]=this.mergeRows(o,i),this.grid[t.row]=this.prePad(r,this.grid[t.row])}canBeShiftedUp(e){const t=this.getGridPosition(e,e.dftIndex),n=this.getFirstChildrenHeight(e);return!this.hasConflict(t.column+n,t.row)&&(!e.parent||this.getGridPosition(e.parent,t.row).row!==t.row)}hasConflict(e,t){if(0===t)return!0;const n=this.grid[t].slice(0,e+1),r=this.grid[t-1];if(n.length>r.length)throw new Error("rowToMerge.length > base.length");for(let o=0;o<n.length;o++)if(null!=r[o]&&null!=n[o])return!0;return!1}getGridPosition(e,t){const n=e.height-1;for(let r=t;r>=0;r--)if(this.grid[r][n]===e)return{column:n,row:r};throw new Error("node grid position not found")}traverseDepthFirst(e,t){this.internalTraverseDepthFirst(e,null,1,t)}internalTraverseDepthFirst(e,t=null,n=1,r){r(e,t,n,n),e.children&&e.children.forEach((t=>this.internalTraverseDepthFirst(t,e,n+1,r)))}padRows(e,t){const n=new Array;return t.forEach((t=>{if(t.length<e)for(;t.length<e;)t.push(null);n.push(t)})),n}prePad(e,t){return new Array(e).fill(null).concat(t)}trimGrid(){const e=new Array;for(let t=0;t<this.grid.length;t++){const n=this.grid[t];if(n.every((e=>null===e)))break;e.push(n)}this.grid=e}getFirstChildrenHeight(e){let t=0,n=e;for(;n.children&&n.children.length>0;)n=n.children[0],t++;return t}mergeRows(e,t){if(t.length>e.length)throw new Error("mergeRows: rowToMerge.length > base.length");const n=new Array;for(let r=0;r<e.length;r++)r>=t.length?n.push(e[r]):null==t[r]?null==e[r]?n.push(null):n.push(e[r]):n.push(t[r]);return n}};const p=e=>["rule","rule_group","risk_profile","machine_learning"].includes(e)?l.a.ArrowClosed:void 0;var f=class{constructor(e){this.grid=void 0,this.size=void 0,this.positionsById=void 0,this.grid=Array.from({length:e},(()=>Array.from({length:e},(()=>null)))),this.size=e,this.positionsById={}}createRoutingTree(e){let t=e;for(;null!=t.parent;)t=t.parent;const n=this.wrapInRoutingTree(t);return null!=n?n:{data:t,children:[]}}wrapInRoutingTree(e){const t={data:e,children:[]};return null!=e.true&&t.children.push(this.wrapInRoutingTree(e.true)),null!=e.false&&t.children.push(this.wrapInRoutingTree(e.false)),t}isEmpty(){return null===this.getItem({row:0,col:0})}getItem({row:e,col:t}){return this.grid[e][t]||null}getRow(e){return this.grid[e]}fromTree(e){const t=this.createRoutingTree(e),n=new h;n.setTree(t);const r=n.getGrid();return this.grid=r.map((e=>e.map((e=>null==e?null:e.data)))),this.visitGridItems(((e,t)=>{this.positionsById[e.id]=t})),this.grid}visitGridItems(e){this.grid.forEach(((t,n)=>{this.grid[n].forEach(((t,r)=>{const o={row:n,col:r},i=this.getItem(o);i&&e(i,o)}))}))}createNodes(){const e=[],t=195,n=52;return this.visitGridItems(((r,o)=>{const i=11*o.col,a={id:r.id,type:r.type,sourcePosition:l.d.Right,targetPosition:l.d.Left,position:{x:t*o.col,y:n*o.row-i},data:Object(c.a)(Object(c.a)({},r.data||{}),{},{position:o})};e.push(a)})),e}createEdges(){const e=[];return this.visitGridItems((t=>{t.true&&e.push({id:d(),source:"".concat(t.id),sourceHandle:"a",type:"custom",target:t.true.id,label:"addFirstElement"!==t.type?"T":"",arrowHeadType:p(t.true.type),animated:t.true.data.isHighlighted,data:{isHighlighted:t.true.data.isHighlighted}}),t.false&&e.push({id:d(),source:"".concat(t.id),sourceHandle:"b",type:"custom",target:t.false.id,label:"F",arrowHeadType:p(t.false.type),animated:t.false.data.isHighlighted,data:{isHighlighted:t.false.data.isHighlighted}})})),e}};var b=class{constructor(e,t={}){this.id=void 0,this.type=void 0,this.data=void 0,this.parent=void 0,this.true=void 0,this.false=void 0,this.id=d(),this.type=e,this.data=t,this.parent=null,this.true=null,this.false=null}visitChildBranches(e){const t=n=>{null!==n.true&&(e(n.true,!0),t(n.true)),null!==n.false&&(e(n.false,!1),t(n.false))};t(this)}};const m=e=>{let t=0;return e.map((e=>e.map((e=>Object(c.a)(Object(c.a)({},e),{},{index:t++})))))},v=({row:e,col:t})=>0===e&&0===t,g=e=>["outcome","risk_profile","machine_learning"].includes(e),j=e=>{let t=e;for(;null!==t.parent;)t=t.parent;return t},y=({position:e,currentNode:t,routingGrid:n})=>{const r=new b("addNextElement",{}),o=new b("addNextElement",{});t.true=r,t.false=o,r.parent=t,o.parent=t,n.fromTree(j(t))},x=(e,t)=>{e.data.isHighlighted=t,e.parent&&x(e.parent,t)};var O=e=>(t,n)=>{switch(n.type){case"DATA_LOADED":const a=n.payload,s=a.nodes,l=a.edges;return Object(c.a)(Object(c.a)({},t),{},{nodes:s,edges:l,unsavedChanges:!1});case"ADD_NODE":{var r;const o=n.payload.position,i=e.getItem(o);if(!i)return t;if(i.type=n.payload.nodeType,i.data=null!==(r=n.payload.data)&&void 0!==r?r:{},"rule"===n.payload.nodeType||"rule_group"===n.payload.nodeType)if(v(o)){const t=new b("addNextElement",{});i.false=t,t.parent=i,e.fromTree(t)}else y({currentNode:i,routingGrid:e,position:o});else!v(o)||"risk_profile"!==n.payload.nodeType&&"machine_learning"!==n.payload.nodeType||(i.true=null,e.fromTree(j(i)));return Object(c.a)(Object(c.a)({},t),{},{isHovering:!1,nodes:e.createNodes(),edges:e.createEdges(),unsavedChanges:!0})}case"EDIT_NODE":{const r=n.payload,o=r.position,i=r.nodeType,a=r.data,s=e.getItem(o);return s?(g(s.type)&&!g(i)?y({currentNode:s,routingGrid:e,position:o}):g(i)&&(s.visitChildBranches((e=>{e.parent=null})),s.true=null,s.false=null,e.fromTree(j(s))),s.type=i,s.data=null!==a&&void 0!==a?a:{},x(s,!1),Object(c.a)(Object(c.a)({},t),{},{isHovering:!1,nodes:e.createNodes(),edges:e.createEdges(),unsavedChanges:!0})):t}case"HIGHLIGHT_PATH":{const r=n.payload,o=r.position,i=r.isHighlighted,a=e.getItem(o);return a&&x(a,i),Object(c.a)(Object(c.a)({},t),{},{isHovering:i,nodes:e.createNodes(),edges:e.createEdges()})}case"DELETE_NODE":{const r=n.payload.position,a=e.getItem(r);if(!a)return t;const s=new b("addNextElement",{}),l=a.parent;var o,i;if(l)s.parent=l,(null===(o=l.false)||void 0===o?void 0:o.id)===a.id&&(l.false=s),(null===(i=l.true)||void 0===i?void 0:i.id)===a.id&&(l.true=s);return e.fromTree(j(s)),Object(c.a)(Object(c.a)({},t),{},{nodes:e.createNodes(),edges:e.createEdges(),unsavedChanges:!0})}case"SAVE_TREE":return Object(c.a)(Object(c.a)({},t),{},{unsavedChanges:!1});default:return t}};var _=(e,t)=>{const n=Object(i.useMemo)((()=>O(e)),[e]),o=Object(i.useReducer)(n,{nodes:e.createNodes(),edges:e.createEdges(),isHovering:!1,unsavedChanges:!1}),a=Object(r.a)(o,2),s=a[0],c=a[1];return[s,{addNode:e=>{c({type:"ADD_NODE",payload:e}),t(!0)},editNode:e=>{c({type:"EDIT_NODE",payload:e}),t(!0)},dataLoaded:e=>{c({type:"DATA_LOADED",payload:e})},highlightPath:e=>{c({type:"HIGHLIGHT_PATH",payload:e})},deleteNode:e=>{c({type:"DELETE_NODE",payload:e}),t(!0)},saveTree:()=>{c({type:"SAVE_TREE"}),t(!1)}}]},C=n(56),w=n(34),E=n(40);var S=n(471);var T=n(35);const M=e=>{switch(e.type){case"outcome":return{decision:e.decision};case"rule":return{rule_id:e.rule_id,rule_name:e.rule_name};case"rule_group":return{rules:e.rules,group_name:e.group_name,rule_type:e.rule_type};case"risk_profile":return{risk_profile_name:e.risk_profile_name,risk_profile_id:e.risk_profile_id};case"machine_learning":return{score_decisions:e.score_decisions}}},P=e=>{const t=new b(e.type,M(e));return(e=>g(e.type))(e)||(e.true&&(t.true=P(e.true),t.true.parent=t),e.false&&(t.false=P(e.false),t.false.parent=t)),t},k=(e,t)=>("outcome"===e.type?(n=>{const r=new b("addFirstElement",{}),o=new b(e.type,M(e));r.true=o,o.parent=r,t.fromTree(o)})():((e,t)=>{const n=P(e);t.fromTree(n)})(e,t),t),L=["rule","rule_group","risk_profile","outcome","machine_learning"],R=(e,t={})=>{if(!L.includes(e.type))throw new Error("type: ".concat(e.type," not supported by the API "));return t=Object(c.a)({type:e.type},e.data),e.true&&(t=Object(c.a)(Object(c.a)({},t),{},{true:Object(c.a)({},R(e.true,t))})),e.false&&(t=Object(c.a)(Object(c.a)({},t),{},{false:Object(c.a)({},R(e.false,t))})),t},D=e=>{const t=e.getItem({row:0,col:0});if(!t)throw new Error("No items in the grid");if("addFirstElement"===t.type){if(!t.true)throw new Error("No valid items in the grid");return R(t.true)}return R(t)};var I=n(30),N=n(478);var A=(e,t)=>{const n=Object(N.a)().showAlert,o=((e,t={})=>Object(S.a)("put","".concat(E.a.routing,"/v2/").concat(e),Object(c.a)({},t)))(e,{onSuccess:()=>{n("Successfully saved routing data")},onError:()=>{n("Error saving routing data",{type:"alert"})}}),a=Object(r.a)(o,1)[0];return{handleSave:Object(i.useCallback)((()=>a({data:{routing:D(t)}})),[t,a]),checkRoutingTree:Object(i.useCallback)((()=>{try{return D(t),!0}catch(e){return!1}}),[t])}},H=n(549),B=n(515),V=n(845);const Z=Object(i.createContext)(void 0),F=({children:e,step:t,onRoutingChange:n})=>{const a=Object(i.useState)(!1),c=Object(r.a)(a,2),l=c[0],u=c[1],d=Object(i.useMemo)((()=>new f(20)),[]),h=_(d,n),p=Object(r.a)(h,2),b=p[0],m=p[1],v=((e,t=(()=>{}))=>{const n=Object(C.a)();return Object(w.e)([E.a.routing,e,"v2"],(()=>n("".concat(E.a.routing,"/v2/").concat(e),{},!0)),{onSuccess:t})})(t,(e=>{d.isEmpty()&&(k(e.routing,d),m.dataLoaded({nodes:d.createNodes(),edges:d.createEdges()}))})).isLoading,g=Object(H.a)(),j=g.data,y=g.isLoading,x=A(t,d),O=x.handleSave,S=x.checkRoutingTree,M=Object(B.e)(t),P=M.data,L=M.isLoading,R=Object(i.useMemo)((()=>{var e,n;const r=null!==(e=null===j||void 0===j?void 0:j.summaries)&&void 0!==e?e:[],o=null!==(n=null===P||void 0===P?void 0:P.summaries)&&void 0!==n?n:[];return{state:b,actions:m,handleSave:O,checkRoutingTree:S,rules:r,riskProfiles:o,step:t,isDropdownOpen:l,setIsDropdownOpen:u,routingGrid:d}}),[m,S,O,l,P,d,j,b,t]);return v||y||L?Object(o.jsx)(s.Panel,{p:3,mb:3,children:Object(o.jsx)(s.Flex,{justifyContent:"center",height:"300px",children:Object(o.jsx)(I.b,{size:"large"})})}):Object(o.jsxs)(Z.Provider,{value:R,children:[Object(o.jsx)(V.a,{when:b.unsavedChanges,promptKey:T.f.RoutingSavePrompt}),e]})},z=()=>{const e=Object(i.useContext)(Z);if(void 0===e)throw new Error("useRoutingTree must be used within a RoutingTreeProvider");return e};var K=n(8),U=n(5);function X(){const e=Object(K.a)(["\n  fill: none;\n  stroke: #778293;\n"]);return X=function(){return e},e}function Y(){const e=Object(K.a)(["\n  fill: ",";\n"]);return Y=function(){return e},e}function G(){const e=Object(K.a)(["\n  stroke: ",";\n  font-size: 12px;\n  pointer-events: none;\n  user-select: none;\n"]);return G=function(){return e},e}const W=U.default.text(G(),(({theme:e})=>e.colors.white)),q=U.default.circle(Y(),(({theme:e})=>e.colors.base)),$=Object(i.memo)((({x:e,y:t,label:n})=>{const a=Object(i.useRef)(null),s=Object(i.useState)({x:0,y:0,width:0,height:0}),c=Object(r.a)(s,2),l=c[0],u=c[1];return Object(i.useLayoutEffect)((()=>{if(a.current){const e=a.current.getBBox();u({x:e.x,y:e.y,width:e.width,height:e.height})}}),[]),"undefined"!==typeof n&&n?Object(o.jsxs)("g",{transform:"translate(".concat(e-l.width/2," ").concat(t-l.height/2,")"),children:[Object(o.jsx)(q,{cx:l.width/2,cy:l.height/2,r:8}),Object(o.jsx)(W,{y:l.height/2,dy:"0.35em",ref:a,fill:"white",children:n})]}):null})),Q=U.default.path(X());var J=({sourceX:e,sourceY:t,targetX:n,targetY:i,label:a,sourcePosition:s=l.d.Bottom,targetPosition:c=l.d.Top,arrowHeadType:u})=>{const d=Object(l.g)({sourceX:e,sourceY:t,targetX:n,targetY:i}),h=Object(r.a)(d,1)[0]+8,p=e-4,f=Object(l.h)({sourceX:e-4,sourceY:t,sourcePosition:s,targetX:n+4,targetY:i,targetPosition:c,borderRadius:2,centerX:h}),b=a?Object(o.jsx)($,{x:p+(h-p)/2,y:t,label:a}):null;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("defs",{children:Object(o.jsx)("marker",{id:"triangle",viewBox:"0 0 6 12",refX:"6",refY:"6",markerUnits:"strokeWidth",markerWidth:"6",markerHeight:"12",orient:"auto",children:Object(o.jsx)("path",{d:"M6 6L-1.25622e-08 11.1962L4.417e-07 0.803848L6 6Z",fill:"#778293"})})}),Object(o.jsx)(Q,{d:f,markerEnd:u===l.a.ArrowClosed?"url(#triangle)":"none"}),b]})},ee=n(17),te=n.n(ee),ne=n(25);var re=()=>{const e=z(),t=e.handleSave,n=e.checkRoutingTree,a=e.actions,c=Object(i.useState)(!1),l=Object(r.a)(c,2),u=l[0],d=l[1],h=Object(i.useState)(null),p=Object(r.a)(h,2),f=p[0],b=p[1];return Object(o.jsxs)(s.Flex,{justifyContent:"flex-start",children:[Object(o.jsx)(s.Box,{height:"32px",pr:3,children:Object(o.jsx)(s.PrimaryButton,{onClick:()=>{const e=n();d(e),b(e?{type:"success",message:"Routing is completed."}:{type:"alert",message:"Sorry, you have incomplete branches, you need to assign elements or outcomes to these in order to save your routing."})},children:"Check routing tree"})}),Object(o.jsx)(s.Box,{height:"32px",pr:3,children:Object(o.jsx)(s.PrimaryButton,{onClick:Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:b(null),d(!1),a.saveTree(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])}))),disabled:!u,children:"Save and put live"})}),null!==f&&Object(o.jsx)(s.Box,{width:"300px",children:Object(o.jsx)(s.InlineNotification,{type:f.type,children:f.message})})]})},oe=n(102),ie=n(12);function ae(){const e=Object(K.a)(["\n  position: absolute;\n\n  ","\n"]);return ae=function(){return e},e}const se=Object(U.default)(s.Box)(ae(),ie.position);var ce=e=>Object(o.jsx)(se,Object(c.a)(Object(c.a)({mr:2},e),{},{children:Object(o.jsx)("svg",{width:"8",height:"13",viewBox:"0 0 8 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M8 6.66667L0.499999 12.4402L0.5 0.893164L8 6.66667Z",fill:"#5D7077"})})})),le=n(150),ue=n(1226);const de=Object(i.createContext)(void 0),he=({items:e,children:t})=>{const n=a.a.useState(null),s=Object(r.a)(n,2),l=s[0],u=s[1],d=a.a.useState(null),h=Object(r.a)(d,2),p=h[0],f=h[1],b=Object(ue.a)(l,p,{placement:"bottom-start"}),m=b.styles,v=b.attributes,g=z().setIsDropdownOpen,j=Object(le.useSelect)({items:e,onSelectedItemChange:e=>{e.selectedItem&&e.selectedItem.action()},onIsOpenChange:({isOpen:e})=>{g(null!==e&&void 0!==e&&e)}}),y=Object(i.useMemo)((()=>Object(c.a)(Object(c.a)({},j),{},{popper:{setReferenceElement:u,setPopperElement:f,styles:m,attributes:v,popperElement:p}})),[v,j,p,m]);return Object(o.jsx)(de.Provider,{value:y,children:t})},pe=()=>{const e=Object(i.useContext)(de);if(void 0===e)throw new Error("useRoutingSelectMenuContext must be used within a RoutingSelectMenuProvider");return e};function fe(){const e=Object(K.a)(["\n  overflow-y: scroll;\n  max-height: 350px;\n"]);return fe=function(){return e},e}const be=U.default.div((({theme:e})=>"\n    position: absolute;\n    box-shadow: ".concat(e.shadows.focusLight[2],";\n    border-radius: ").concat(e.radii[1],";\n    width: 240px;\n    background: white;\n"))),me=U.default.div(fe()),ve=({children:e})=>{const t=pe().popper;return Object(o.jsx)(s.Portal,{children:Object(o.jsx)("div",Object(c.a)(Object(c.a)({ref:t.setPopperElement,style:Object(c.a)(Object(c.a)({},t.styles.popper),{},{zIndex:9999})},t.attributes.popper),{},{children:e}))})};var ge=({children:e})=>{const t=pe(),n=t.getMenuProps,r=t.isOpen,i=r?ve:s.Box;return Object(o.jsx)(i,{children:Object(o.jsx)("ul",Object(c.a)(Object(c.a)({},n()),{},{children:Object(o.jsx)(be,{children:r?e:null})}))})};function je(){const e=Object(K.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return je=function(){return e},e}function ye(){const e=Object(K.a)(["\n  z-index: 20;\n"]);return ye=function(){return e},e}const xe=Object(U.default)(s.Box)(ye()),Oe=Object(U.default)(s.Box)(je());var _e=({title:e,children:t})=>Object(o.jsxs)(xe,{children:[Object(o.jsx)(Oe,{px:"12px",borderBottom:"baseLight.1",children:Object(o.jsx)(s.Text,{fontSize:1,color:"focus",py:2,fontWeight:"500",children:e})}),t]}),Ce=n(18);function we(){const e=Object(K.a)(["\n  cursor: pointer;\n  ","\n"]);return we=function(){return e},e}function Ee(){const e=Object(K.a)(["\n    background-color: ",";\n  "]);return Ee=function(){return e},e}const Se=Object(U.css)((({theme:e})=>"\n  background-color: ".concat(e.colors.success,";\n  color: ").concat(e.colors.white,";\n"))),Te=Object(U.css)((({theme:e})=>"\n  background-color: ".concat(e.colors.offWhite,";\n  color: ").concat(e.colors.focusLight,";\n"))),Me=Object(U.default)(s.ListItem)(we(),(e=>e.isActive?Se:e.isHighlighted?Te:Object(U.css)(Ee(),(({theme:e})=>e.colors.white))));var Pe=({item:e,index:t,title:n,showIcon:r})=>{const i=pe(),a=i.getItemProps,l=i.highlightedIndex;return Object(o.jsx)(Me,Object(c.a)(Object(c.a)({},a({item:e,index:t})),{},{isHighlighted:l===t,pl:r?0:3,children:Object(o.jsx)(s.ClickableElement,{children:Object(o.jsxs)(s.Flex,{alignItems:"center",p:2,children:[r&&Object(o.jsx)(Ce.a,{}),Object(o.jsx)(s.Text,{textAlign:"start",color:"base",ml:r?"2px":0,children:n})]})})}))};var ke=({emptyStateMessage:e="No items available"})=>Object(o.jsx)(s.Flex,{alignItems:"center",flexGrow:1,p:2,bg:"white",children:Object(o.jsx)(s.Text,{children:e})});var Le=({options:e,showIcon:t})=>0===e.length?Object(o.jsx)(s.Box,{pl:3,children:Object(o.jsx)(ke,{})}):Object(o.jsx)(o.Fragment,{children:e.map((e=>Object(o.jsx)(Pe,{showIcon:t,item:e,index:e.index,title:e.label},"".concat(e.label).concat(e.index))))});const Re=U.default.div((({theme:e})=>"\n      border-radius: ".concat(e.radii[1],";\n      box-shadow: ").concat(e.shadows.focusLight[2],";\n      text-align: left;\n      z-index: 9999;\n      background-color: ").concat(e.colors.white,";\n      color: ").concat(e.colors.focus,";\n      width: 204px;\n    "))),De=({text:e,children:t})=>{const n=Object(i.useState)(null),l=Object(r.a)(n,2),u=l[0],d=l[1],h=Object(i.useState)(null),p=Object(r.a)(h,2),f=p[0],b=p[1],m=Object(ue.a)(u,f,{placement:"right-start",modifiers:[{name:"offset",options:{offset:[0,20]}}]}),v=m.styles,g=m.attributes,j=a.a.useState(!1),y=Object(r.a)(j,2),x=y[0],O=y[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{style:{display:"absolute"},ref:d,"aria-expanded":x,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:t}),x&&Object(o.jsx)(Re,Object(c.a)(Object(c.a)({ref:b,style:v.popper,"data-testid":"select-menu-tooltip",role:"tooltip"},g.popper),{},{children:Object(o.jsx)(s.Box,{padding:"9px 11px",children:e})}))]})};var Ie=({options:e})=>Object(o.jsx)(_e,{title:"Machine learning models",children:Object(o.jsx)(De,{text:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(s.Text,{fontSize:"12px",mb:1,lineHeight:"16px",children:"Use our machine learning model to score your transactions."}),Object(o.jsx)(s.Text,{fontSize:"12px",lineHeight:"16px",children:"Then set your own decisions based on ranges of those scores."})]}),children:Object(o.jsx)(Le,{options:e})})}),Ne=n(548),Ae=n(541),He=n(140),Be=n(452),Ve=n(451),Ze=n(653),Fe=n(841),ze=n(707),Ke=n(842),Ue=n(530),Xe=n(517);var Ye=({step:e,onClose:t,onSuccess:n,riskProfileData:i,rulesData:a})=>{const c=Object(Ke.a)(i),l=c.state,u=c.actions,d=Object(B.f)(),h=Object(r.a)(d,2),p=h[0],f=h[1],b=f.isLoading,m=f.error,v=Object(N.a)().showAlert,g=function(){var t=Object(ne.a)(te.a.mark((function t(){var r;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={score_decisions:l.decisions.map((e=>({decision:e.decision,end:e.end?e.end:null}))),scored_rules:l.scored_rules},t.next=4,p({data:r,path:"".concat(e,"/").concat(i.id,"/config")});case 4:v("Successfully saved risk profile",{type:"success"}),u.handleSave(),n({risk_profile_name:l.name,risk_profile_id:i.id}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),v("Error saving risk profile",{type:"alert"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)(s.Modal,{size:"large",closeModal:t,title:l.name,children:[Object(o.jsx)(Fe.a,{scoredRules:l.scored_rules,handleScoredRuleUpdate:u.handleScoredRuleChange,addScoringRule:u.handleAddScoredRule,handleDeleteRiskProfileRule:u.handleDeleteRiskProfileRule,rules:(null===a||void 0===a?void 0:a.summaries)||[],riskProfileName:l.name}),Object(o.jsx)(ze.a,{decisions:l.decisions,handleUpdateScoringRange:u.handleDecisionChange,handleEnableDecision:u.handleEnableDecision,handleDisableDecision:u.handleDisableDecision,paymentProcessingStep:e}),Object(o.jsxs)(Ue.a,{children:[Object(o.jsx)(s.PrimaryButton,{variant:"large",type:"submit",disabled:b||!l.hasEdited,"data-cy":"submit",onClick:g,children:b?"Saving":"Save"}),Object(o.jsx)(s.OutlineButton,{variant:"large",onClick:t,children:"Cancel"})]}),m&&Object(o.jsx)(Xe.a,{children:m})]})},Ge=n(508);const We=()=>Object(Be.a)(Ve.a.ROUTING_RISK_PROFILE_FORM);var qe=({step:e})=>{const t=We(),n=t.closeModal,r=t.modalData,a=Object(B.d)(e,null===r||void 0===r?void 0:r.id),c=a.data,l=a.status,u=Object(Ge.d)(),d=u.data,h=u.status,p="loading"===l||"loading"===h,f=Object(i.useCallback)((()=>{w.b.invalidateQueries([E.a.riskProfiles]),n()}),[n]);return r?p?Object(o.jsx)(s.Modal,{size:"large",closeModal:()=>{},children:Object(o.jsx)(s.Box,{height:"250px",children:Object(o.jsx)(s.Flex,{justifyContent:"center",height:"100%",children:Object(o.jsx)(I.b,{size:"large"})})})}):c&&d?Object(o.jsx)(Ye,{onSuccess:e=>{r.onRequestSuccess&&r.onRequestSuccess(e),f()},onClose:f,step:e,riskProfileData:c,rulesData:d}):null:null};const $e=()=>Object(Be.a)(Ve.a.ROUTING_CREATE_RISK_PROFILE_FORM);var Qe=({step:e})=>{const t=$e(),n=t.closeModal,a=t.modalData,c=We().openModal,l=Object(i.useCallback)((()=>{n()}),[n]),u=Object(B.a)(e,(t=>{w.b.invalidateQueries([E.a.riskProfiles,e]),c({formMode:T.b.Edit,id:t,onRequestSuccess:a.onRequestSuccess}),l()})),d=Object(r.a)(u,1)[0];return a?Object(o.jsx)(s.Modal,{closeModal:l,children:Object(o.jsx)(Ze.a,{initialValues:{name:""},onSubmit:d,onCancel:l})}):null},Je=n(487),et=n(708),tt=n(101),nt=n(46);const rt=Object(U.default)(s.Box).withConfig({displayName:"InfoSection__Graphic",componentId:"sc-1fc7qiu-0"})(["position:relative;::before{content:'';"," position:absolute;bottom:-26px;margin:auto;left:0;right:0;}"],(({theme:e})=>Object(nt.triangle)({pointingDirection:"bottom",width:"53px",height:"26px",foregroundColor:e.colors.offWhite})));var ot=Object(U.default)(s.Flex).withConfig({displayName:"InfoSection___StyledFlex",componentId:"sc-1fc7qiu-1"})(["p{color:#4780ec;font-weight:600;}"]);var it=()=>Object(o.jsxs)(tt.a,{gridTemplateColumns:"auto auto",gridColumnGap:"4",children:[Object(o.jsx)(s.Box,{children:Object(o.jsx)(s.Text,{children:"Our fraud score utilises state of the art machine learning algorithms to give you a predicted probability that a transaction is fraudulent. It scores the transaction from 0 to 100: the closer to 0, the more likely the transaction is genuine, the closer to 100, the more likely it is fraudulent."})}),Object(o.jsxs)(s.Box,{children:[Object(o.jsx)(s.Text,{children:"You can set ranges for these scores here, and assign decisions for what happens to a transaction when it falls within these ranges."}),Object(o.jsxs)(rt,{mt:3,bg:"offWhite",py:3,children:[Object(o.jsx)(s.Text,{fontSize:2,color:"focus",textAlign:"center",fontWeight:500,children:"Checkout model score"}),Object(o.jsxs)(ot,{justifyContent:"space-between",px:3,mt:3,children:[Object(o.jsx)(s.Text,{children:"0"}),Object(o.jsx)(s.Text,{children:"25"}),Object(o.jsx)(s.Text,{children:"50"}),Object(o.jsx)(s.Text,{children:"75"}),Object(o.jsx)(s.Text,{children:"100"})]})]})]})]}),at=n(151),st=n(185),ct=n(710);function lt(){const e=Object(K.a)(["\n  border-radius: ",";\n  box-shadow: ",";\n  background: #fff;\n  max-width: 744px;\n  min-width: 200px;\n  flex: 1;\n  margin: 20px;\n  padding: 40px;\n  position: relative;\n  border-top: 'success.2';\n"]);return lt=function(){return e},e}const ut=U.default.div(lt(),(({theme:e})=>e.radii[1]),(({theme:e})=>e.shadows.focusLight[3]));var dt=({title:e,children:t,closeModal:n,focusWhitelist:r=(()=>!1),headerContent:i})=>Object(o.jsx)(s.Portal,{children:Object(o.jsx)(s.Overlay,{onClick:e=>{e.stopPropagation(),n()},onKeyUp:e=>{27===e.keyCode&&(e.stopPropagation(),n())},tabIndex:-1,role:"dialog","aria-labelledby":"modal-title","aria-describedby":"modal-content","aria-modal":"true",children:Object(o.jsx)(ut,{onClick:e=>e.stopPropagation(),"data-testid":"modal-wrapper",children:Object(o.jsxs)(at.default,{whiteList:r,children:[Object(o.jsx)(ct.a,{type:"button",onClick:e=>{e.stopPropagation(),n()},children:Object(o.jsx)(Ce.e,{})}),Object(o.jsxs)(s.Flex,{alignItems:"center",mb:2,children:[e?Object(o.jsx)(s.Box,{mr:2,children:Object(o.jsx)(s.TextHeadingTwo,{id:"modal-title",children:e})}):null,i]}),Object(o.jsx)(st.a,{children:Object(o.jsx)("div",{id:"modal-content","data-testid":"modal-content",children:t})})]})})})});const ht=e=>e.map((e=>({end:e.end,result:{type:"outcome",decision:e.decision}})));var pt=({step:e,onClose:t,onSave:n,decisions:a,mode:c})=>{const l=Object(i.useState)(c===T.b.Add),u=Object(r.a)(l,2),d=u[0],h=u[1],p=Object(et.a)((e=>e.map((e=>({end:e.end,decision:e.result.decision}))))(a),h),f=p.state,b=p.actions;return Object(o.jsxs)(dt,{closeModal:t,title:"Checkout machine learning model",headerContent:Object(o.jsx)(Je.a,{buttonText:"View the FAQs",modalKey:Ve.a.ML_INFO_MODAL}),children:[Object(o.jsx)(it,{}),Object(o.jsx)(ze.a,{decisions:f.decisions,handleUpdateScoringRange:b.handleDecisionChange,handleEnableDecision:b.handleEnableDecision,handleDisableDecision:b.handleDisableDecision,paymentProcessingStep:e}),Object(o.jsxs)(Ue.a,{children:[Object(o.jsx)(s.PrimaryButton,{variant:"large",type:"submit",disabled:!d,"data-cy":"submit",onClick:()=>{n({score_decisions:ht(f.decisions)})},children:"Save"}),Object(o.jsx)(s.OutlineButton,{variant:"large",onClick:t,children:"Cancel"})]})]})};const ft=()=>Object(Be.a)(Ve.a.ROUTING_ML_MODULE_FORM);var bt=({step:e})=>{const t=ft(),n=t.closeModal,r=t.modalData,a=Object(N.a)().showAlert,s=Object(i.useCallback)((()=>{n()}),[n]);return r?Object(o.jsx)(pt,{onSave:e=>{r.onSave(e),s(),a("Machine learning model configuration saved successfully")},onClose:s,step:e,decisions:r.decisions,mode:r.formMode}):null};const mt=(e,t)=>{const n=Object(Ae.b)().openModal,r=$e().openModal;return[{label:"New rule",action:()=>{n({mode:T.b.Add,modalId:"Routing:RulesContainer",onRequestSuccess:n=>{t({position:e,nodeType:"rule",data:{rule_name:n.name,rule_id:n.id}})}})}},{label:"New risk profile",action:()=>{r({formMode:T.b.Add,onRequestSuccess:n=>{t({position:e,nodeType:"risk_profile",data:n})}})}}]},vt=(e,t)=>{const n=z().step,r=Object(He.c)().version;return Object(i.useMemo)((()=>Object.entries(Object(Ne.d)(n,r).displayValues).filter((([e])=>Object(Ne.f)(r)(e))).map((([n,r])=>({label:r,action:()=>t({position:e,nodeType:"outcome",data:{decision:n}})})))),[t,e,n,r])},gt=(e,t)=>{const n=z().riskProfiles;return Object(i.useMemo)((()=>n.map((n=>({label:n.name,action:()=>t({position:e,nodeType:"risk_profile",data:{risk_profile_name:n.name,risk_profile_id:n.id}})})))),[t,e,n])},jt=(e,t)=>{const n=z().rules;return Object(i.useMemo)((()=>n.map((n=>({label:n.name,action:()=>t({position:e,nodeType:"rule",data:{rule_id:n.id,rule_name:n.name}})})))),[t,e,n])},yt=(e,t)=>{const n=z().step,r=Object(i.useMemo)((()=>({[T.c.Pre3ds]:[{result:{type:"outcome",decision:T.e.TryExemptions}},{result:{type:"outcome",decision:T.e.FrictionlessLiability}},{result:{type:"outcome",decision:T.e.NoPreference},end:80},{result:{type:"outcome",decision:T.e.Challenge}},{result:{type:"outcome",decision:T.e.Decline},end:100}],[T.c.PostAuth]:[{result:{type:"outcome",decision:T.d.Capture},end:80},{result:{type:"outcome",decision:T.d.Flag}},{result:{type:"outcome",decision:T.d.Void},end:100}]}[n])),[n]),o=ft().openModal;return[{label:"Checkout model",action:()=>{o({formMode:T.b.Add,decisions:r,onSave:n=>{t({position:e,nodeType:"machine_learning",data:n})}})}}]};function xt(){const e=Object(K.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return xt=function(){return e},e}const Ot=Object(U.default)(s.Box)(xt());var _t=({title:e,children:t})=>Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Ot,{pt:1,pl:3,children:Object(o.jsx)(s.Box,{borderBottom:"baseLight.1",paddingBottom:1,children:Object(o.jsx)(s.Text,{color:"focus",children:e})})}),Object(o.jsx)(s.Box,{children:t})]});function Ct(){const e=Object(K.a)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n"]);return Ct=function(){return e},e}var wt=U.default.span(Ct()),Et=n(45);var St=()=>Object(o.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("circle",{cx:"8",cy:"8",r:"8",fill:"#354C55"}),Object(o.jsx)("path",{d:"M11.578 11L11.101 4.79H9.616L8.05 9.479L6.475 4.79H4.963L4.486 11H5.557L5.872 6.464L7.447 11.018H8.491L10.057 6.464L10.39 11H11.578Z",fill:"white"})]});function Tt(){const e=Object(K.a)(["\n  line-height: 12px;\n"]);return Tt=function(){return e},e}function Mt(){const e=Object(K.a)(["\n  path {\n    fill: ",";\n  }\n"]);return Mt=function(){return e},e}function Pt(){const e=Object(K.a)(["\n  flex-basis: 20%;\n"]);return Pt=function(){return e},e}function kt(){const e=Object(K.a)(["\n    border-radius: 0 3px 3px 0px;\n    background: ",";\n\n    &:hover {\n      background-color: ",";\n      border-radius: 0 3px 3px 0;\n    }\n\n    width: 100%;\n    height: 100%;\n    ","\n  "]);return kt=function(){return e},e}function Lt(){const e=Object(K.a)(["\n  flex-basis: 80%;\n"]);return Lt=function(){return e},e}function Rt(){const e=Object(K.a)(["\n    border-radius: 3px 0 0 3px;\n    text-align: left;\n    height: ","px;\n    font-size: 12px;\n    line-height: 16px;\n    padding: 0 8px;\n    width: 100%;\n    background-color: ",";\n    word-break: break-word;\n\n    &:hover {\n      background-color: ",";\n      border-radius: 3px 0 0 3px;\n      text-align: left;\n      z-index: 1000;\n      color: ",";\n      font-size: 12px;\n      line-height: 16px;\n      padding: 0 8px;\n      width: 100%;\n      word-break: break-word;\n    }\n  "]);return Rt=function(){return e},e}const Dt=Object(U.default)(s.ClickableElement)((({theme:e,height:t})=>Object(U.css)(Rt(),t,Object(nt.lighten)(.08)(e.colors.baseLight),Object(nt.darken)(.08)(e.colors.baseLight),e.colors.focus))),It=U.default.div(Lt()),Nt=Object(U.default)(s.ClickableElement)((({theme:e})=>Object(U.css)(kt(),e.colors.baseLight,Object(nt.darken)(.08)(e.colors.baseLight),ie.border))),At=U.default.div(Pt()),Ht=Object(U.default)(Ce.p)(Mt(),(({theme:e})=>e.colors.base)),Bt=Object(U.default)(s.Box)(Tt());var Vt=({onLeftButtonClicked:e,text:t,borderColor:n="#C6D4DB",height:r=42,leftButtonStyle:i,isMLNode:a=!1})=>{const l=pe(),u=l.getToggleButtonProps,d=l.popper,h=(0,Object(Et.a)().hasPermission)("prism:routing:write");return Object(o.jsxs)(s.Flex,{width:"150px",border:"1px solid ".concat(n),borderRadius:1,backgroundColor:"white",ref:d.setReferenceElement,children:[Object(o.jsx)(It,{children:Object(o.jsx)(Dt,{style:i,onClick:e,disabled:!h,title:t,height:r,children:Object(o.jsxs)(s.Flex,{alignItems:"center",children:[a&&Object(o.jsx)(Bt,{mr:1,children:Object(o.jsx)(St,{})}),Object(o.jsx)(wt,{children:t})]})})}),Object(o.jsx)(At,{children:Object(o.jsx)(Nt,Object(c.a)(Object(c.a)({},u()),{},{borderLeft:"1px solid ".concat(n," !important"),disabled:!h,"data-cy":"select-item-dropdown-button",children:Object(o.jsx)(Ht,{})}))})]})};function Zt(){const e=Object(K.a)(["\n  position: sticky;\n  bottom: 0;\n  align-self: flex-end;\n"]);return Zt=function(){return e},e}const Ft=Object(U.default)(s.Box)(Zt());var zt=({onDelete:e})=>Object(o.jsx)(Ft,{py:2,pl:3,bg:"white",borderTop:"baseLight.1",children:Object(o.jsx)(s.DangerButton,{"data-cy":"delete-routing-select-menu-item",onClick:e,children:"Delete"})});const Kt={rule:"rule",risk_profile:"risk profile",outcome:"outcome",rule_group:"rule group",addFirstElement:"add first element",addNextElement:"add element",add_elements:"add elements",machine_learning:"machine learning model"};var Ut=({handleClose:e,onDelete:t,nodeType:n})=>{const r=Kt[n];return Object(o.jsxs)(s.Modal,{type:"alert",title:g(n)?"You are deleting this ".concat(r):"You are deleting a ".concat(r," which has elements connected to it"),closeModal:e,size:"large",children:[Object(o.jsxs)(s.Box,{pb:4,children:[Object(o.jsx)(s.Text,{fontSize:0,pb:3,children:g(n)?"Do you wish to delete this ".concat(r,"?"):"Do you wish to delete this ".concat(r," and everything connected to it?")}),Object(o.jsx)(s.Text,{fontSize:0,fontWeight:400,color:"#BE4343",children:"This action is permanent."})]}),Object(o.jsxs)(s.Flex,{alignItems:"center",p:0,children:[Object(o.jsx)(s.Box,{children:Object(o.jsx)(s.DangerButton,{onClick:()=>t(),"data-testid":"delete-button",children:g(n)?"Delete ".concat(r):"Delete ".concat(r," and all following elements")})}),Object(o.jsx)(s.Box,{pl:3,children:Object(o.jsx)(s.OutlineButton,{onClick:e,children:"Cancel"})})]})]})};const Xt=()=>Object(Be.a)(Ve.a.DELETE_ROUTING_TREE_ELEMENT);var Yt=()=>{const e=Xt(),t=e.modalData,n=e.closeModal,r=z().actions.deleteNode;if(!t)return null;return Object(o.jsx)(Ut,{nodeType:t.nodeType,handleClose:n,onDelete:()=>{r({position:t.position}),n()}})},Gt=n(36),Wt=n(37);var qt=({position:e,ruleName:t,ruleId:n,rulePredicate:i,isHighlighted:a})=>{const s=Object(Ae.b)().openModal,c=Object(Wt.b)().featureFlags,l=z().actions.editNode,u=mt(e,l),d=vt(e,l),h=gt(e,l),p=yt(e,l),f=jt(e,l),b=Object(U.useTheme)(),g=Object(Gt.a)(),j=Object(r.a)(g,1)[0].selectedMerchant,y=Xt().openModal,x=v(e),O=m(x?[u,f,h,p]:[u,f,h,p,d]),_=Object(r.a)(O,5),C=_[0],w=_[1],E=_[2],S=_[3],M=_[4];return Object(o.jsx)(he,{items:O.flat(),children:Object(o.jsxs)("div",{children:[Object(o.jsx)(Vt,{borderColor:a?b.colors.focus:void 0,text:t,onLeftButtonClicked:()=>s({mode:T.b.Edit,modalId:"Routing:RulesContainer",name:t,id:n,predicate:i})}),Object(o.jsxs)(ge,{children:[Object(o.jsxs)(me,{children:[Object(o.jsx)(_e,{title:"Create",children:Object(o.jsx)(Le,{showIcon:!0,options:C})}),Object(o.jsx)(_e,{title:"Switch rule",children:Object(o.jsx)(_t,{title:"Your Rules",children:Object(o.jsx)(Le,{options:w})})}),!x&&Object(o.jsx)(_e,{title:"Change to outcome",children:Object(o.jsx)(Le,{options:M})}),Object(o.jsx)(_e,{title:"Change to another element",children:Object(o.jsx)(_t,{title:"Your risk profiles",children:Object(o.jsx)(Le,{options:E})})}),c.ROUTING_ML_MODULE&&(null===j||void 0===j?void 0:j.ml_score_enabled)&&Object(o.jsx)(Ie,{options:S})]}),!x&&Object(o.jsx)(zt,{onDelete:()=>y({position:e,nodeType:"rule"})})]})]})})};var $t=e=>Object(o.jsx)(s.Flex,Object(c.a)({alignItems:"center",height:"32px",width:"150px"},e));var Qt=({data:e,id:t})=>{var n,r,a;const s=z(),c=s.state.isHovering,u=s.rules,d=Object(U.useTheme)(),h=Object(i.useMemo)((()=>u.find((t=>t.id===e.rule_id))),[e.rule_id,u]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(oe.a,{on:v(e.position),children:Object(o.jsx)(ce,{top:"9px",left:"-15px"})}),Object(o.jsxs)($t,{style:{opacity:c&&!e.isHighlighted?.5:1},"data-cy":"rule-node-".concat(t),"data-grid-position":"".concat(e.position.col,":").concat(e.position.row),children:[Object(o.jsx)(l.b,{type:"target",position:l.d.Left,isConnectable:!1,style:{opacity:0}}),Object(o.jsx)(l.b,{type:"source",position:l.d.Right,isConnectable:!1,style:{backgroundColor:d.colors.base,top:5},id:"a"}),Object(o.jsx)(l.b,{type:"source",position:l.d.Right,isConnectable:!1,style:{backgroundColor:d.colors.base,top:27},id:"b"}),Object(o.jsx)(qt,{isHighlighted:e.isHighlighted,ruleName:null!==(n=null===h||void 0===h?void 0:h.name)&&void 0!==n?n:e.rule_name,ruleId:null!==(r=null===h||void 0===h?void 0:h.id)&&void 0!==r?r:e.rule_id,rulePredicate:null!==(a=null===h||void 0===h?void 0:h.predicate)&&void 0!==a?a:e.rule_predicate,position:e.position})]})]})};var Jt=()=>Object(i.useContext)(U.ThemeContext),en=n(22);function tn(){const e=Object(K.a)(["\n  width: 100%;\n  font-size: 12px;\n  text-align: start;\n  padding: 0 0 0 6px;\n  height: 32px;\n  font-weight: 500;\n  svg {\n    margin-right: 4px;\n  }\n"]);return tn=function(){return e},e}const nn=Object(U.default)(s.PrimaryButton)(tn());var rn=({buttonText:e="Add your first element"})=>{const t=pe(),n=t.getToggleButtonProps,r=t.popper,i=Object(Et.a)().hasPermission,a=n(),s=a.ref,l=Object(en.a)(a,["ref"]),u=i("prism:routing:write");return Object(o.jsxs)(nn,Object(c.a)(Object(c.a)({},l),{},{disabled:!u,ref:(d=[r.setReferenceElement,s],e=>{d.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}),children:[Object(o.jsx)(Ce.a,{}),e]}));var d};var on=({position:e})=>{const t=z().actions.addNode,n=Object(Wt.b)().featureFlags,i=mt(e,t),a=vt(e,t),s=gt(e,t),c=jt(e,t),l=yt(e,t),u=Object(Gt.a)(),d=Object(r.a)(u,1)[0].selectedMerchant,h=m([i,a,c,s,l]),p=Object(r.a)(h,5),f=p[0],b=p[1],v=p[2],g=p[3],j=p[4];return Object(o.jsx)(he,{items:[...f,...b,...v,...g,...j],children:Object(o.jsxs)("div",{children:[Object(o.jsx)(rn,{buttonText:"Add element"}),Object(o.jsx)(ge,{children:Object(o.jsxs)(me,{children:[Object(o.jsx)(_e,{title:"Create",children:Object(o.jsx)(Le,{showIcon:!0,options:f})}),Object(o.jsx)(_e,{title:"Assign outcome",children:Object(o.jsx)(Le,{options:b})}),Object(o.jsxs)(_e,{title:"Use Existing",children:[Object(o.jsx)(_t,{title:" Your Rules",children:Object(o.jsx)(Le,{options:v})}),Object(o.jsx)(_t,{title:" Your risk profiles",children:Object(o.jsx)(Le,{options:g})})]}),n.ROUTING_ML_MODULE&&(null===d||void 0===d?void 0:d.ml_score_enabled)&&Object(o.jsx)(Ie,{options:j})]})})]})})};var an=({position:e})=>{const t=Object(Wt.b)().featureFlags,n=z().actions.addNode,i=mt(e,n),a=gt(e,n),s=jt(e,n),c=yt(e,n),l=Object(Gt.a)(),u=Object(r.a)(l,1)[0].selectedMerchant,d=m([i,s,a,c]),h=Object(r.a)(d,4),p=h[0],f=h[1],b=h[2],v=h[3];return Object(o.jsx)(he,{items:[...p,...f,...b,...v],children:Object(o.jsxs)("div",{children:[Object(o.jsx)(rn,{}),Object(o.jsx)(ge,{children:Object(o.jsxs)(me,{children:[Object(o.jsx)(_e,{title:"Create",children:Object(o.jsx)(Le,{showIcon:!0,options:p})}),Object(o.jsxs)(_e,{title:"Use Existing",children:[Object(o.jsx)(_t,{title:" Your Rules",children:Object(o.jsx)(Le,{options:f})}),Object(o.jsx)(_t,{title:" Your risk profiles",children:Object(o.jsx)(Le,{options:b})})]}),t.ROUTING_ML_MODULE&&(null===u||void 0===u?void 0:u.ml_score_enabled)&&Object(o.jsx)(Ie,{options:v})]})})]})})};function sn(){const e=Object(K.a)(["\n  top: -20px;\n  position: relative;\n"]);return sn=function(){return e},e}const cn=({children:e})=>{const t=Jt();return Object(o.jsxs)(s.Box,{"data-cy":"add-first-element-node",width:"170px",border:"2px dashed",borderColor:Object(nt.lighten)(.1,t.colors.success),p:2,borderRadius:"3px",verticalAlign:"middle",children:[Object(o.jsx)(l.b,{type:"target",position:l.d.Left,isConnectable:!1,style:{opacity:0}}),Object(o.jsx)(l.b,{type:"source",position:l.d.Right,isConnectable:!1,style:{opacity:0,top:25},id:"a"}),e]})},ln=U.default.div(sn());var un=e=>Object(o.jsxs)("div",{"data-cy":"add-first-element-routing-node",style:{position:"relative"},children:[Object(o.jsx)(ce,{left:"-13px",top:"-2px"}),Object(o.jsx)(ln,{children:Object(o.jsx)(cn,{children:Object(o.jsx)(an,{position:e.data.position})})}),Object(o.jsx)(s.Box,{width:"220px",mt:3,style:{position:"absolute"},children:Object(o.jsxs)(s.Text,{"data-cy":"add-first-element-helper-text",children:["To begin routing your transactions, let\u2019s start by adding your first",Object(o.jsx)(s.TextInline,{fontWeight:"bold",children:" rule"}),"."]})})]});var dn=({position:e,riskProfileName:t,riskProfileId:n,isHighlighted:i})=>{const a=We().openModal,s=Object(Wt.b)().featureFlags,c=z().actions.editNode,l=mt(e,c),u=vt(e,c),d=gt(e,c),h=jt(e,c),p=yt(e,c),f=Object(U.useTheme)(),b=Object(Gt.a)(),g=Object(r.a)(b,1)[0].selectedMerchant,j=Xt().openModal,y=v(e),x=m(y?[l,d,h,p]:[l,d,h,p,u]),O=Object(r.a)(x,5),_=O[0],C=O[1],w=O[2],E=O[3],S=O[4];return Object(o.jsx)(he,{items:x.flat(),children:Object(o.jsxs)("div",{children:[Object(o.jsx)(Vt,{borderColor:i?f.colors.focus:void 0,text:t,onLeftButtonClicked:()=>{a({formMode:T.b.Edit,id:n})}}),Object(o.jsxs)(ge,{children:[Object(o.jsxs)(me,{children:[Object(o.jsx)(_e,{title:"Create",children:Object(o.jsx)(Le,{showIcon:!0,options:_})}),Object(o.jsx)(_e,{title:"Switch risk profiles",children:Object(o.jsx)(_t,{title:"Your risk profiles",children:Object(o.jsx)(Le,{options:C})})}),!y&&Object(o.jsx)(_e,{title:"Change to outcome",children:Object(o.jsx)(Le,{options:S})}),Object(o.jsx)(_e,{title:"Change to another element",children:Object(o.jsx)(_t,{title:" Your Rules",children:Object(o.jsx)(Le,{options:w})})}),s.ROUTING_ML_MODULE&&(null===g||void 0===g?void 0:g.ml_score_enabled)&&Object(o.jsx)(Ie,{options:E})]}),!y&&Object(o.jsx)(zt,{onDelete:()=>j({position:e,nodeType:"risk_profile"})})]})]})})};var hn=({data:e,id:t})=>{var n,r;const a=z(),s=a.riskProfiles,c=a.state.isHovering,u=a.actions.highlightPath,d=Object(i.useMemo)((()=>{const t=e.risk_profile_id;return s.find((e=>e.id===t))}),[e,s]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(oe.a,{on:v(e.position),children:Object(o.jsx)(ce,{top:"9px",left:"-15px"})}),Object(o.jsxs)($t,{onMouseEnter:()=>{u({position:e.position,isHighlighted:!0})},onMouseLeave:()=>{u({position:e.position,isHighlighted:!1})},style:{opacity:c&&!e.isHighlighted?.5:1},"data-cy":"risk-profile-node-".concat(t),"data-grid-position":"".concat(e.position.col,":").concat(e.position.row),children:[Object(o.jsx)(l.b,{type:"target",position:l.d.Left,isConnectable:!1,style:{opacity:0}}),Object(o.jsx)(dn,{isHighlighted:e.isHighlighted,position:e.position,riskProfileId:null!==(n=null===d||void 0===d?void 0:d.id)&&void 0!==n?n:e.risk_profile_id,riskProfileName:null!==(r=null===d||void 0===d?void 0:d.name)&&void 0!==r?r:e.risk_profile_name})]})]})};const pn=()=>{const e=Object(U.useTheme)(),t={[T.e.TryExemptions]:e.colors.success,[T.e.Challenge]:"#4780ec",[T.e.FrictionlessLiability]:"#4780ec",[T.e.NoPreference]:"#4780ec",[T.e.Decline]:e.colors.danger,[T.d.Capture]:e.colors.success,[T.d.Void]:e.colors.danger,[T.d.Flag]:e.colors.warning};return e=>t[e]};var fn=({position:e,decision:t,isHighlighted:n})=>{const a=z().actions.editNode,s=Object(Wt.b)().featureFlags,c=Object(He.c)().version,l=mt(e,a),u=vt(e,a),d=gt(e,a),h=jt(e,a),p=yt(e,a),f=Object(U.useTheme)(),b=Object(Gt.a)(),v=Object(r.a)(b,1)[0].selectedMerchant,g=Xt().openModal,j=m([l,u,h,d,p]),y=Object(r.a)(j,5),x=y[0],O=y[1],_=y[2],C=y[3],w=y[4],E=pn()(t),S=Object(i.useMemo)((()=>(e=>{switch(e){case"Force Challenge (liability shift)":return{label:"Force Challenge",tooltip:"Includes liability shift"};case"No Preference (liability shift)":return{label:"No Preference",tooltip:"Includes liability shift"};case"Try Frictionless (liability shift)":return{label:"Try Frictionless",tooltip:"Includes liability shift"};default:return{label:e,tooltip:"Includes liability shift"}}})(Object(Ne.c)(t,c))),[t,c]);return Object(o.jsx)(he,{items:[...x,...O,..._,...C,...w],children:Object(o.jsxs)("div",{children:[Object(o.jsx)(Vt,{borderColor:n?f.colors.focus:E,text:S.label,onLeftButtonClicked:()=>{},height:32,leftButtonStyle:{cursor:"default"}}),Object(o.jsxs)(ge,{children:[Object(o.jsxs)(me,{children:[Object(o.jsx)(_e,{title:"Create",children:Object(o.jsx)(Le,{showIcon:!0,options:x})}),Object(o.jsx)(_e,{title:"Switch outcome",children:Object(o.jsx)(Le,{options:O})}),(_.length>0||C.length>0)&&Object(o.jsxs)(_e,{title:"Change to another element",children:[Object(o.jsx)(_t,{title:"Your Rules",children:Object(o.jsx)(Le,{options:_})}),Object(o.jsx)(_t,{title:"Your risk profiles",children:Object(o.jsx)(Le,{options:C})})]}),s.ROUTING_ML_MODULE&&(null===v||void 0===v?void 0:v.ml_score_enabled)&&Object(o.jsx)(Ie,{options:w})]}),Object(o.jsx)(zt,{onDelete:()=>g({position:e,nodeType:"outcome"})})]})]})})};var bn=({data:e,id:t})=>{const n=pn()(e.decision),r=z(),i=r.state.isHovering,a=r.actions.highlightPath;return Object(o.jsxs)($t,{onMouseEnter:()=>{a({position:e.position,isHighlighted:!0})},onMouseLeave:()=>{a({position:e.position,isHighlighted:!1})},style:{opacity:i&&!e.isHighlighted?.5:1},"data-cy":"outcome-node-".concat(t),"data-grid-position":"".concat(e.position.col,":").concat(e.position.row),children:[Object(o.jsx)(l.b,{type:"target",position:l.d.Left,isConnectable:!1,style:{backgroundColor:n,opacity:1,height:"10px",width:"10px",left:-4,border:"none"}}),Object(o.jsx)(fn,{isHighlighted:e.isHighlighted||!1,decision:e.decision,position:e.position})]})};const mn=e=>{let t=e.children,n=Object(en.a)(e,["children"]);return Object(o.jsxs)(s.Box,Object(c.a)(Object(c.a)({width:"150px"},n),{},{children:[Object(o.jsx)(l.b,{type:"target",position:l.d.Left,isConnectable:!1,style:{opacity:0}}),Object(o.jsx)(l.b,{type:"source",position:l.d.Right,isConnectable:!1,style:{opacity:0,top:5},id:"a"}),Object(o.jsx)(l.b,{type:"source",position:l.d.Right,isConnectable:!1,style:{opacity:0,top:27},id:"b"}),t]}))};var vn=({id:e,data:t})=>Object(o.jsx)(mn,{"data-cy":"add-next-element-node-".concat(e),"data-grid-position":"".concat(t.position.col,":").concat(t.position.row),children:Object(o.jsx)(on,{position:t.position})});var gn=({position:e,mlModelName:t,isHighlighted:n,decisions:i})=>{const a=z().actions.editNode,s=mt(e,a),c=vt(e,a),l=gt(e,a),u=jt(e,a),d=Object(U.useTheme)(),h=v(e),p=m(h?[s,l,u]:[s,l,u,c]),f=Xt().openModal,b=ft().openModal,g=Object(r.a)(p,4),j=g[0],y=g[1],x=g[2],O=g[3];return Object(o.jsx)(he,{items:p.flat(),children:Object(o.jsxs)("div",{children:[Object(o.jsx)(Vt,{borderColor:n?d.colors.focus:void 0,text:t,isMLNode:!0,onLeftButtonClicked:()=>{b({decisions:i,formMode:T.b.Edit,onSave:t=>{a({position:e,nodeType:"machine_learning",data:t})}})}}),Object(o.jsxs)(ge,{children:[Object(o.jsxs)(me,{children:[Object(o.jsx)(_e,{title:"Create",children:Object(o.jsx)(Le,{showIcon:!0,options:j})}),!h&&Object(o.jsx)(_e,{title:"Change to outcome",children:Object(o.jsx)(Le,{options:O})}),Object(o.jsxs)(_e,{title:"Change to another element",children:[Object(o.jsx)(_t,{title:" Your Rules",children:Object(o.jsx)(Le,{options:x})}),Object(o.jsx)(_t,{title:"Your risk profiles",children:Object(o.jsx)(Le,{options:y})})]})]}),!h&&Object(o.jsx)(zt,{onDelete:()=>f({position:e,nodeType:"machine_learning"})})]})]})})};var jn=({data:e,id:t})=>{const n=z(),r=n.state.isHovering,i=n.actions.highlightPath;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(oe.a,{on:v(e.position),children:Object(o.jsx)(ce,{top:"9px",left:"-15px"})}),Object(o.jsxs)($t,{onMouseEnter:()=>{i({position:e.position,isHighlighted:!0})},onMouseLeave:()=>{i({position:e.position,isHighlighted:!1})},style:{opacity:r&&!e.isHighlighted?.5:1},"data-cy":"ml-model-node-".concat(t),"data-grid-position":"".concat(e.position.col,":").concat(e.position.row),children:[Object(o.jsx)(l.b,{type:"target",position:l.d.Left,isConnectable:!1,style:{opacity:0}}),Object(o.jsx)(gn,{isHighlighted:e.isHighlighted,mlModelName:"Checkout model",position:e.position,decisions:e.score_decisions})]})]})},yn=n(776),xn=n(706);var On=()=>Object(o.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 13 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.312 0.904785H1.40288C1.10179 0.904785 0.857422 1.12879 0.857422 1.40479C0.857422 1.68079 1.10179 1.90479 1.40288 1.90479H12.312C12.6131 1.90479 12.8574 1.68079 12.8574 1.40479C12.8574 1.12879 12.6131 0.904785 12.312 0.904785Z",fill:"#16866D"})});var _n=()=>Object(o.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 4C11.224 4 11 3.776 11 3.5V2.5C11 1.673 10.327 1 9.5 1H8.5C8.5 1 8 1 8 0.5C8 0 8.5 0 8.5 0H9.5C10.879 0 12 1.121 12 2.5V3.5C12 3.776 11.776 4 11.5 4ZM11.5 8C11.224 8 11 8.224 11 8.5V9.5C11 10.327 10.327 11 9.5 11H8.5C8.5 11 8 11 8 11.5C8 12 8.5 12 8.5 12H9.5C10.879 12 12 10.879 12 9.5V8.5C12 8.224 11.776 8 11.5 8ZM1 8.5C1 8.224 0.776 8 0.5 8C0.224 8 0 8.224 0 8.5V9.5C0 10.879 1.121 12 2.5 12H3.5C3.5 12 4 12 4 11.5C4 11 3.5 11 3.5 11H2.5C1.673 11 1 10.327 1 9.5V8.5ZM0.5 4C0.776 4 1 3.776 1 3.5V2.5C1 1.673 1.673 1 2.5 1H3.5C3.5 1 4 1 4 0.5C4 0 3.5 0 3.5 0H2.5C1.121 0 0 1.121 0 2.5V3.5C0 3.776 0.224 4 0.5 4Z",fill:"#16866D"})});function Cn(){const e=Object(K.a)(["\n  position: absolute;\n  right: 18px;\n  top: 15px;\n  z-index: 5;\n"]);return Cn=function(){return e},e}function wn(){const e=Object(K.a)(["\n  height: 20px;\n  width: 20px;\n  padding: 1px;\n  border: solid 1px ",";\n"]);return wn=function(){return e},e}function En(){const e=Object(K.a)(["\n  & > g {\n    fill: ",";\n  }\n"]);return En=function(){return e},e}function Sn(){const e=Object(K.a)(["\n  &:hover {\n    border-color: ",";\n  }\n\n  button {\n    :hover {\n      border-color: ",";\n    }\n  }\n\n  button:first-child {\n    border-top-left-radius: 3px;\n    border-top-right-radius: 3px;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  button:not(:first-child) {\n    border-radius: 0;\n  }\n\n  button:last-child {\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n  }\n"]);return Sn=function(){return e},e}const Tn=Object(U.default)(s.Flex)(Sn(),(({theme:e})=>e.colors.successDark),(({theme:e})=>e.colors.successDark)),Mn=Object(U.default)(Ce.a)(En(),(({theme:e})=>e.colors.successDark)),Pn=Object(U.default)(s.ClickableElement)(wn(),(({theme:e})=>e.colors.baseLight)),kn=Object(U.default)(s.Box)(Cn());var Ln=()=>{const e=Object(l.i)(),t=e.fitView,n=e.zoomIn,r=e.zoomOut;return Object(o.jsx)(kn,{children:Object(o.jsxs)(Tn,{flexDirection:"column",justifyContent:"center",alignContent:"center",children:[Object(o.jsx)(Pn,{onClick:()=>{n()},children:Object(o.jsx)(Mn,{})}),Object(o.jsx)(Pn,{onClick:()=>{r()},children:Object(o.jsx)(On,{})}),Object(o.jsx)(Pn,{onClick:()=>t({padding:.1}),children:Object(o.jsx)(_n,{})})]})})};function Rn(){const e=Object(K.a)(["\n  & .react-flow__minimap {\n    border: 1px solid ",";\n    border-radius: 3px;\n    width: 107px;\n    height: 58px;\n  }\n  & .react-flow__minimap-mask {\n    fill: white;\n  }\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-bottom: 1px solid ",";\n  border-left: 1px solid ",";\n  border-radius: 0 0 0 3px;\n  height: 88px;\n  width: 183px;\n  padding: 10px;\n  background: white;\n  z-index: 5;\n"]);return Rn=function(){return e},e}const Dn=Object(U.default)(s.Box)(Rn(),(({theme:e})=>e.colors.base),(({theme:e})=>e.colors.baseLight),(({theme:e})=>e.colors.baseLight));var In=()=>{const e=pn();return Object(o.jsxs)(Dn,{children:[Object(o.jsx)(l.c,{style:{top:15,right:56},nodeColor:t=>{switch(t.type){case"rule":return"".concat(s.theme.colors.baseLight);case"add_elements":case"addFirstElement":case"addNextElement":return"".concat(s.theme.colors.success);case"outcome":return"".concat(e(t.data.decision));case"risk_profile":case"rule_group":case"machine_learning":default:return"".concat(s.theme.colors.baseLight)}}}),Object(o.jsx)(Ln,{})]})},Nn=n(212),An=n(143);const Hn=()=>Object(o.jsx)(s.Flex,{py:5,justifyContent:"center",children:Object(o.jsxs)(An.a,{children:[Object(o.jsxs)(s.Text,{fontSize:1,lineHeight:1,children:["Something went wrong. You can reset your routing configuration by refreshing or you can get in touch with the support team at:"," ",Object(o.jsx)(s.Link,{href:"mailto:prism-support@checkout.com",children:"prism-support@checkout.com"})]}),Object(o.jsx)(s.Box,{mt:3,children:Object(o.jsx)(s.PrimaryButton,{onClick:()=>{window.location.reload()},children:"Refresh"})})]})});var Bn=({children:e})=>{const t=z(),n=t.state,r=t.step,i=t.routingGrid;return Object(o.jsx)(Nn.b,{fallback:Object(o.jsx)(Hn,{}),children:Object(o.jsx)(Nn.a,{data:{state:n,step:r,routingGrid:i},children:e})})},Vn=n(844);const Zn={[T.c.Pre3ds]:"Pre3DS",[T.c.PostAuth]:"PostAuth"},Fn=U.default.div.withConfig({displayName:"RoutingContainer__ReactFlowWrapper",componentId:"sc-1cs0zut-0"})(["& .react-flow__renderer{pointer-events:",";}"],(({isDropdownOpen:e})=>e?"none":"auto"));var zn=Object(U.default)(s.Box).withConfig({displayName:"RoutingContainer___StyledBox",componentId:"sc-1cs0zut-1"})(["position:relative;"]);const Kn=()=>{const e=z(),t=e.state,n=e.step,r=e.isDropdownOpen,i=Object(Et.a)().hasPermission,a=Object(U.useTheme)(),c=i("prism:routing:write");return Object(o.jsx)(Fn,{isDropdownOpen:r,children:Object(o.jsxs)(s.Panel,{"data-testid":"routing-tree-container",height:"calc(100vh - 150px)",style:{position:"relative"},children:[n===T.c.Pre3ds&&Object(o.jsx)(s.Flex,{width:1,p:3,justifyContent:"flex-end",borderBottom:"baseLight.1",children:Object(o.jsx)(Vn.a,{})}),Object(o.jsxs)(zn,{height:"100%",children:[Object(o.jsxs)(s.TextHeadingTwo,{pt:4,pl:4,children:[Zn[n]," routing tree"]}),Object(o.jsxs)(Bn,{children:[Object(o.jsx)(s.Box,{height:c?"75%":"100%",children:Object(o.jsxs)(l.e,{children:[Object(o.jsx)(In,{}),Object(o.jsx)(l.f,{style:{cursor:"grab"},edgeTypes:{custom:J},nodeTypes:{rule:Qt,risk_profile:hn,outcome:bn,addFirstElement:un,addNextElement:vn,machine_learning:jn},elements:[...t.nodes,...t.edges],defaultPosition:[100,75],nodesDraggable:!1,zoomOnScroll:!1,arrowHeadColor:a.colors.base,zoomOnDoubleClick:!1,translateExtent:[[-100,-75],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]})]})}),Object(o.jsx)(oe.a,{on:c,children:Object(o.jsx)(s.Box,{height:"25%",backgroundColor:"white",borderTop:"baseLight.1",p:4,children:Object(o.jsx)(re,{})})})]})]}),Object(o.jsx)(yn.a,{modalId:"Routing:RulesContainer"}),Object(o.jsx)(Yt,{}),Object(o.jsx)(qe,{step:n}),Object(o.jsx)(Qe,{step:n}),Object(o.jsx)(bt,{step:n})]})})};var Un=()=>{const e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(o.jsxs)(xn.e,{children:[Object(o.jsxs)(xn.b,{children:[Object(o.jsx)(xn.a,{id:"pre3ds",disabled:n,children:"Pre3DS"}),Object(o.jsx)(xn.a,{id:"postauth",disabled:n,children:"PostAUTH"})]}),Object(o.jsxs)(xn.d,{children:[Object(o.jsx)(xn.c,{tabId:"pre3ds",children:Object(o.jsx)(F,{step:T.c.Pre3ds,onRoutingChange:a,children:Object(o.jsx)(Kn,{})})}),Object(o.jsx)(xn.c,{tabId:"postauth",children:Object(o.jsx)(F,{step:T.c.PostAuth,onRoutingChange:a,children:Object(o.jsx)(Kn,{})})})]})]})}},968:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(1),o=n(8),i=(n(0),n(451)),a=n(1059),s=n(484),c=n(576),l=n(2),u=n(487),d=n(5),h=n(12);function p(){const e=Object(o.a)(["\n  list-style: none;\n  counter-reset: reset-counter;\n\n  li {\n    counter-increment: reset-counter;\n  }\n\n  li::before {\n    content: counter(reset-counter) '. ';\n    ",";\n    font-weight: bold;\n  }\n"]);return p=function(){return e},e}var f=Object(d.default)(l.OrderedList)(p(),h.color);const b=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.TextHeadingTwo,{mb:3,id:"cko-fraud-score",children:"1. What is the CKO Fraud Score?"}),Object(r.jsx)(s.a,{children:"Our Fraud Score utilises state of the art machine learning algorithms to give you a predicted probability a transaction is fraudulent. The score ranges from 0 to 100: the closer to 0, the more likely the transaction is genuine, the closer to 100, the more likely it is fraudulent. Our score sits before pre-authorisation, before you are able to place a hold on your customer\u2019s card and their payment card is authorised. It is therefore the very first line of defense for your business."})]}),m=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.TextHeadingTwo,{id:"how-score-works",mb:3,children:"2. If I get a score of 70, for example, what does it mean to me?"}),Object(r.jsx)(s.a,{children:"The CKO Fraud Score shows you the probability a transaction might be fraudulent. Therefore, if you get a score of 70, there is around a 70% chance the transaction is fraudulent and 30% it is genuine. Moreover, the CKO Fraud Score comes with explainability: this means that for each score you get, we also tell you why the transaction was scored the way it was scored. Each transaction in fact comes with the primary and secondary driver contributors to the score. These insights can also allow you to refine Prism rules within your Risk Profiles. You can find below a CKO Fraud Score example with its explainability report in Table 1. The entire drivers\u2019 glossary is included in your report."}),Object(r.jsx)(s.a,{children:"Table 1 - Score Explainability"}),Object(r.jsx)(l.Box,{mb:4,children:Object(r.jsxs)(l.Table,{children:[Object(r.jsx)(l.TableHead,{headers:["Score","Drivers","Explanation"]}),Object(r.jsxs)(l.TableBody,{children:[Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{width:"5%",children:"95"}),Object(r.jsx)(l.TableCell,{width:"25%",children:"Primary Driver Country Mismatch"}),Object(r.jsx)(l.TableCell,{width:"70%",children:"There is a 95% chance this transaction is fraudulent and 5% chance it is legitimate. The model scored the transaction this high because the customer's IP address, billing address, shipping address and card issuer are from different countries."})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{}),Object(r.jsx)(l.TableCell,{children:"Secondary Driver Issuer Characteristics"}),Object(r.jsx)(l.TableCell,{children:"The customer\u2019s issuer is associated with an increased risk of fraud."})]})]})]})})]}),v=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.TextHeadingTwo,{mb:3,id:"false-positives-predictions",children:"4. Should I expect any false-positives in your predictions?"}),Object(r.jsx)(s.a,{children:"When using Prism, you are empowered to decide where to set the threshold when using the CKO Fraud Score in your rules. Setting a threshold simply means that everything above a certain score you deem to be fraudulent and too risky for your business to take a chance on it, while below the selected threshold you are comfortable in adding friction or passing the order straight away. If you are unsure whether to decline a transaction based on the CKO Fraud Score or pass it straight away, you can always add friction via 3DS. See, for example, Table 3:"}),Object(r.jsx)(s.a,{children:"Table 3 - An example of how the CKO Fraud Score can be used"}),Object(r.jsx)(l.Box,{mb:4,children:Object(r.jsxs)(l.Table,{children:[Object(r.jsx)(l.TableHead,{headers:["Score","Action"]}),Object(r.jsxs)(l.TableBody,{children:[Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{width:"5%",children:"0-20"}),Object(r.jsx)(l.TableCell,{width:"5%",children:"PASS"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{width:"5%",children:"20-70"}),Object(r.jsx)(l.TableCell,{width:"5%",children:"ADD 3DS FRICTION"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{width:"5%",children:"70-100"}),Object(r.jsx)(l.TableCell,{width:"5%",children:"DECLINE"})]})]})]})}),Object(r.jsx)(s.a,{children:"According to the threshold you use, you can expect the false-positives rate shown in Table 4. As you can see from this table, our model is very precise when it comes to the highest and riskiest scores, leaving little space for false-positives that can damage your business in terms of profit and reputation."}),Object(r.jsx)(s.a,{children:"Table 4 - Expected false-positive rate at each threshold"}),Object(r.jsx)(l.Box,{mb:4,children:Object(r.jsxs)(l.Table,{children:[Object(r.jsx)(l.TableHead,{headers:["Score","False-positives"]}),Object(r.jsxs)(l.TableBody,{children:[Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{width:"5%",children:"0-10"}),Object(r.jsx)(l.TableCell,{width:"5%",children:"3.2%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"10-20"}),Object(r.jsx)(l.TableCell,{children:"1.2%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"20-30"}),Object(r.jsx)(l.TableCell,{children:"0.3%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"30-40"}),Object(r.jsx)(l.TableCell,{children:"0.09%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"40-50"}),Object(r.jsx)(l.TableCell,{children:"0.03%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"50-60"}),Object(r.jsx)(l.TableCell,{children:"0.01%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"70-80"}),Object(r.jsx)(l.TableCell,{children:"0%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"80-90"}),Object(r.jsx)(l.TableCell,{children:"0%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"90-100"}),Object(r.jsx)(l.TableCell,{children:"0%"})]})]})]})})]});var g=()=>Object(r.jsxs)("svg",{width:"640",height:"645",viewBox:"0 0 948 953",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsxs)("g",{"clip-path":"url(#clip0)",children:[Object(r.jsx)("rect",{width:"948",height:"953",fill:"white"}),Object(r.jsx)("line",{x1:"698",y1:"22.5",x2:"790",y2:"22.5",stroke:"#4780EC","stroke-width":"3"}),Object(r.jsx)("rect",{x:"694",y:"18",width:"8",height:"10",fill:"white"}),Object(r.jsx)("rect",{x:"787",y:"18",width:"8",height:"10",fill:"white"}),Object(r.jsx)("line",{x1:"698",y1:"53.5",x2:"790",y2:"53.5",stroke:"#D98E50","stroke-width":"3"}),Object(r.jsx)("rect",{x:"694",y:"49",width:"8",height:"10",fill:"white"}),Object(r.jsx)("rect",{x:"787",y:"49",width:"8",height:"10",fill:"white"}),Object(r.jsx)("path",{d:"M809 20.144C809 18.096 807.592 16.96 805.256 16.96H802.328V28H803.832V23.52H805C807.4 23.52 809 22.4 809 20.144ZM807.48 20.192C807.48 21.568 806.584 22.192 805.08 22.192H803.832V18.288H805.176C806.68 18.288 807.48 18.928 807.48 20.192ZM814.83 21.568L814.606 20.208C813.358 20.272 812.478 21.056 811.934 21.92L811.694 20.368H810.558V28H811.982V23.488C812.494 22.48 813.566 21.632 814.83 21.568ZM822.187 24.032C822.187 21.92 821.163 20.208 818.939 20.208C817.019 20.208 815.579 21.712 815.579 24.16C815.579 26.96 817.131 28.16 819.115 28.16C820.379 28.16 821.355 27.776 822.171 27.136L821.963 25.856C821.131 26.512 820.331 26.944 819.227 26.944C817.899 26.944 817.051 26.112 817.003 24.336H822.187C822.187 24.24 822.187 24.112 822.187 24.032ZM820.747 23.264H817.067C817.291 21.952 818.043 21.328 818.923 21.328C820.027 21.328 820.571 22.032 820.747 23.264ZM829.723 27.344L829.515 26.064C828.731 26.736 828.059 26.912 827.291 26.912C825.947 26.912 825.003 26.032 825.003 24.176C825.003 22.4 825.883 21.456 827.131 21.456C828.011 21.456 828.731 21.728 829.435 22.304L829.643 20.912C829.067 20.496 828.267 20.208 827.147 20.208C825.163 20.208 823.563 21.584 823.563 24.192C823.563 26.736 825.067 28.16 827.115 28.16C828.139 28.16 828.939 27.936 829.723 27.344ZM833.223 17.936C833.223 17.44 832.823 17.024 832.327 17.024C831.831 17.024 831.415 17.44 831.415 17.936C831.415 18.432 831.831 18.832 832.327 18.832C832.823 18.832 833.223 18.432 833.223 17.936ZM833.031 28V20.368H831.607V28H833.031ZM840.714 25.872C840.714 24.416 839.866 23.872 837.978 23.392C836.778 23.088 836.394 22.8 836.394 22.288C836.394 21.744 836.842 21.408 837.706 21.408C838.506 21.408 839.354 21.68 840.026 22.064L840.25 20.72C839.53 20.4 838.682 20.208 837.738 20.208C836.074 20.208 835.05 21.104 835.05 22.32C835.05 23.68 835.77 24.224 837.562 24.672C838.938 25.008 839.37 25.264 839.37 25.968C839.37 26.608 838.794 26.976 837.818 26.976C836.778 26.976 835.85 26.592 835.13 26.096L834.922 27.44C835.578 27.808 836.698 28.16 837.706 28.16C839.674 28.16 840.714 27.264 840.714 25.872ZM844.192 17.936C844.192 17.44 843.792 17.024 843.296 17.024C842.8 17.024 842.384 17.44 842.384 17.936C842.384 18.432 842.8 18.832 843.296 18.832C843.792 18.832 844.192 18.432 844.192 17.936ZM844 28V20.368H842.576V28H844ZM852.978 24.192C852.978 21.68 851.474 20.208 849.426 20.208C847.394 20.208 845.922 21.68 845.922 24.192C845.922 26.704 847.394 28.16 849.426 28.16C851.474 28.16 852.978 26.704 852.978 24.192ZM851.538 24.192C851.538 25.792 850.834 26.976 849.426 26.976C848.082 26.976 847.362 25.76 847.362 24.192C847.362 22.592 848.05 21.408 849.426 21.408C850.802 21.408 851.538 22.624 851.538 24.192ZM861.016 28V22.448C861.016 21.072 860.248 20.208 858.808 20.208C857.72 20.208 856.824 20.816 856.104 21.472L855.928 20.368H854.792V28H856.216V22.72C856.904 21.984 857.672 21.488 858.424 21.488C859.256 21.488 859.592 22.016 859.592 22.8V28H861.016Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M807.496 51.176C807.496 52.424 806.568 53.08 805.112 53.08H803.832V49.288H805.272C806.744 49.288 807.496 49.976 807.496 51.176ZM806.584 54.152C808.024 53.752 809 52.76 809 51.096C809 49.08 807.592 47.96 805.336 47.96H802.328V59H803.832V54.344H804.968L808.344 59.112L809.864 58.776L806.584 54.152ZM817.14 55.032C817.14 52.92 816.116 51.208 813.892 51.208C811.972 51.208 810.532 52.712 810.532 55.16C810.532 57.96 812.084 59.16 814.068 59.16C815.332 59.16 816.308 58.776 817.124 58.136L816.916 56.856C816.084 57.512 815.284 57.944 814.18 57.944C812.852 57.944 812.004 57.112 811.956 55.336H817.14C817.14 55.24 817.14 55.112 817.14 55.032ZM815.7 54.264H812.02C812.244 52.952 812.996 52.328 813.876 52.328C814.98 52.328 815.524 53.032 815.7 54.264ZM824.676 58.344L824.468 57.064C823.684 57.736 823.012 57.912 822.244 57.912C820.9 57.912 819.956 57.032 819.956 55.176C819.956 53.4 820.836 52.456 822.084 52.456C822.964 52.456 823.684 52.728 824.388 53.304L824.596 51.912C824.02 51.496 823.22 51.208 822.1 51.208C820.116 51.208 818.516 52.584 818.516 55.192C818.516 57.736 820.02 59.16 822.068 59.16C823.092 59.16 823.892 58.936 824.676 58.344ZM832.224 59V53.656C832.224 51.96 831.328 51.208 829.472 51.208C828.288 51.208 827.424 51.48 826.512 51.848L826.704 53.08C827.536 52.712 828.416 52.424 829.344 52.424C830.224 52.424 830.8 52.76 830.8 53.72V54.04C827.616 54.376 825.984 55.128 825.984 57.032C825.984 58.328 826.848 59.16 828.224 59.16C829.472 59.16 830.304 58.6 830.912 57.976L831.072 59H832.224ZM830.8 56.904C830.16 57.56 829.36 57.976 828.528 57.976C827.808 57.976 827.392 57.576 827.392 56.952C827.392 56.168 827.984 55.4 830.8 55.128V56.904ZM835.969 59V47.448L834.545 47.672V59H835.969ZM839.859 59V47.448L838.435 47.672V59H839.859Z",fill:"#354C55"}),Object(r.jsx)("line",{x1:"763.5",y1:"84",x2:"763.5",y2:"893",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"590.5",y1:"84",x2:"590.5",y2:"893",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"417.5",y1:"84",x2:"417.5",y2:"893",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"244.5",y1:"84",x2:"244.5",y2:"893",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"939",y1:"851.5",x2:"67",y2:"851.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"939",y1:"705.5",x2:"67",y2:"705.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"939",y1:"559.5",x2:"67",y2:"559.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"939",y1:"413.5",x2:"67",y2:"413.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"939",y1:"267.5",x2:"67",y2:"267.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"939",y1:"121.5",x2:"67",y2:"121.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"938",y1:"84",x2:"938",y2:"893",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("line",{x1:"72",y1:"84",x2:"72",y2:"893",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("line",{x1:"939",y1:"888",x2:"71",y2:"888",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("line",{x1:"939",y1:"85",x2:"72",y2:"85",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("path",{d:"M15.144 518.203C13.096 518.203 11.96 519.611 11.96 521.947L11.96 524.875L23 524.875L23 523.371L18.52 523.371L18.52 522.203C18.52 519.803 17.4 518.203 15.144 518.203ZM15.192 519.723C16.568 519.723 17.192 520.619 17.192 522.123L17.192 523.371L13.288 523.371L13.288 522.027C13.288 520.523 13.928 519.723 15.192 519.723ZM16.568 512.374L15.208 512.598C15.272 513.846 16.056 514.726 16.92 515.27L15.368 515.51L15.368 516.646L23 516.646L23 515.222L18.488 515.222C17.48 514.71 16.632 513.638 16.568 512.374ZM19.192 504.568C16.68 504.568 15.208 506.072 15.208 508.12C15.208 510.152 16.68 511.624 19.192 511.624C21.704 511.624 23.16 510.152 23.16 508.12C23.16 506.072 21.704 504.568 19.192 504.568ZM19.192 506.008C20.792 506.008 21.976 506.712 21.976 508.12C21.976 509.464 20.76 510.184 19.192 510.184C17.592 510.184 16.408 509.496 16.408 508.12C16.408 506.744 17.624 506.008 19.192 506.008ZM18.968 495.955C16.424 495.955 15.208 497.315 15.208 498.963C15.208 500.083 15.8 500.867 16.472 501.443L15.368 501.619L15.368 502.755L25.976 502.755L25.768 501.331L22.76 501.331C22.952 500.851 23.096 500.163 23.096 499.411C23.096 497.555 21.752 495.955 18.968 495.955ZM19.032 497.395C20.92 497.395 21.896 498.275 21.896 499.475C21.896 500.291 21.768 500.755 21.48 501.331L17.816 501.331C17 500.723 16.472 500.051 16.472 499.187C16.472 498.147 17.368 497.395 19.032 497.395ZM19.192 487.522C16.68 487.522 15.208 489.026 15.208 491.074C15.208 493.106 16.68 494.578 19.192 494.578C21.704 494.578 23.16 493.106 23.16 491.074C23.16 489.026 21.704 487.522 19.192 487.522ZM19.192 488.962C20.792 488.962 21.976 489.666 21.976 491.074C21.976 492.418 20.76 493.138 19.192 493.138C17.592 493.138 16.408 492.45 16.408 491.074C16.408 489.698 17.624 488.962 19.192 488.962ZM16.568 481.436L15.208 481.66C15.272 482.908 16.056 483.788 16.92 484.332L15.368 484.572L15.368 485.708L23 485.708L23 484.284L18.488 484.284C17.48 483.772 16.632 482.7 16.568 481.436ZM23.032 476.169L21.816 476.361C21.848 476.537 21.864 476.761 21.864 477.017C21.864 477.817 21.48 478.073 20.856 478.073L16.568 478.073L16.568 476.233L15.368 476.425L15.368 478.073L12.616 478.073L12.824 479.465L15.368 479.465L15.368 480.617L16.568 480.617L16.568 479.465L21.112 479.465C22.648 479.465 23.128 478.585 23.128 477.241C23.128 476.745 23.08 476.409 23.032 476.169ZM12.936 472.714C12.44 472.714 12.024 473.114 12.024 473.61C12.024 474.106 12.44 474.522 12.936 474.522C13.432 474.522 13.832 474.106 13.832 473.61C13.832 473.114 13.432 472.714 12.936 472.714ZM23 472.906L15.368 472.906L15.368 474.33L23 474.33L23 472.906ZM19.192 463.928C16.68 463.928 15.208 465.432 15.208 467.48C15.208 469.512 16.68 470.984 19.192 470.984C21.704 470.984 23.16 469.512 23.16 467.48C23.16 465.432 21.704 463.928 19.192 463.928ZM19.192 465.368C20.792 465.368 21.976 466.072 21.976 467.48C21.976 468.824 20.76 469.544 19.192 469.544C17.592 469.544 16.408 468.856 16.408 467.48C16.408 466.104 17.624 465.368 19.192 465.368ZM23 455.89L17.448 455.89C16.072 455.89 15.208 456.658 15.208 458.098C15.208 459.186 15.816 460.082 16.472 460.802L15.368 460.978L15.368 462.114L23 462.114L23 460.69L17.72 460.69C16.984 460.002 16.488 459.234 16.488 458.482C16.488 457.65 17.016 457.314 17.8 457.314L23 457.314L23 455.89Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M48.2233 106V95.152H46.9753L44.3833 96.352L44.5433 97.504L46.7993 96.656V106H48.2233ZM52.358 106V104.096H50.774V106H52.358ZM62.1818 100.592C62.1818 97.008 60.5178 94.976 58.0538 94.976C55.5738 94.976 53.9098 97.008 53.9098 100.592C53.9098 104.176 55.5738 106.208 58.0538 106.208C60.5178 106.208 62.1818 104.176 62.1818 100.592ZM60.7098 100.592C60.7098 103.408 59.7178 104.944 58.0538 104.944C56.3898 104.944 55.3818 103.408 55.3818 100.592C55.3818 97.776 56.3898 96.24 58.0538 96.24C59.7178 96.24 60.7098 97.776 60.7098 100.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M49.7443 256.592C49.7443 253.008 48.0803 250.976 45.6163 250.976C43.1363 250.976 41.4723 253.008 41.4723 256.592C41.4723 260.176 43.1363 262.208 45.6163 262.208C48.0803 262.208 49.7443 260.176 49.7443 256.592ZM48.2723 256.592C48.2723 259.408 47.2803 260.944 45.6163 260.944C43.9523 260.944 42.9443 259.408 42.9443 256.592C42.9443 253.776 43.9523 252.24 45.6163 252.24C47.2803 252.24 48.2723 253.776 48.2723 256.592ZM52.8893 262V260.096H51.3053V262H52.8893ZM58.8503 255.824C57.1223 255.104 56.4503 254.72 56.4503 253.744C56.4503 252.88 57.1223 252.192 58.4663 252.192C59.7623 252.192 60.4823 252.784 60.4823 253.712C60.4823 254.544 59.8263 255.296 58.8503 255.824ZM58.0823 256.832C60.1303 257.664 60.8343 258.08 60.8343 259.216C60.8343 260.304 59.8743 260.992 58.4663 260.992C57.0743 260.992 56.0663 260.336 56.0663 259.168C56.0663 258.192 56.8663 257.376 58.0823 256.832ZM56.8823 256.304C55.5703 256.992 54.6263 257.952 54.6263 259.232C54.6263 260.848 55.9543 262.208 58.4343 262.208C60.8023 262.208 62.2743 260.928 62.2743 259.264C62.2743 257.712 61.4263 256.992 60.0023 256.32C61.0423 255.728 61.8903 254.896 61.8903 253.68C61.8903 252.144 60.5943 250.976 58.4983 250.976C56.4183 250.976 55.0423 252.16 55.0423 253.76C55.0423 255.072 55.7783 255.76 56.8823 256.304Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M49.9474 412.592C49.9474 409.008 48.2834 406.976 45.8194 406.976C43.3394 406.976 41.6754 409.008 41.6754 412.592C41.6754 416.176 43.3394 418.208 45.8194 418.208C48.2834 418.208 49.9474 416.176 49.9474 412.592ZM48.4754 412.592C48.4754 415.408 47.4834 416.944 45.8194 416.944C44.1554 416.944 43.1474 415.408 43.1474 412.592C43.1474 409.776 44.1554 408.24 45.8194 408.24C47.4834 408.24 48.4754 409.776 48.4754 412.592ZM53.0924 418V416.096H51.5084V418H53.0924ZM56.2888 412.224C56.7688 409.92 58.6088 408.816 60.8168 408.256L60.6248 406.976C57.1848 407.824 54.7688 409.888 54.7688 413.632C54.7688 416.624 56.4008 418.208 58.6568 418.208C60.8008 418.208 62.3848 416.736 62.3848 414.688C62.3848 412.656 61.1048 411.376 59.0248 411.376C57.9528 411.376 57.0568 411.712 56.2888 412.224ZM56.1608 413.584C56.8968 412.976 57.7448 412.64 58.7048 412.64C60.2568 412.64 60.9448 413.44 60.9448 414.752C60.9448 416.128 60.0168 416.944 58.7048 416.944C57.1528 416.944 56.1768 415.632 56.1608 413.584Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M49.8536 568.592C49.8536 565.008 48.1896 562.976 45.7256 562.976C43.2456 562.976 41.5816 565.008 41.5816 568.592C41.5816 572.176 43.2456 574.208 45.7256 574.208C48.1896 574.208 49.8536 572.176 49.8536 568.592ZM48.3816 568.592C48.3816 571.408 47.3896 572.944 45.7256 572.944C44.0616 572.944 43.0536 571.408 43.0536 568.592C43.0536 565.776 44.0616 564.24 45.7256 564.24C47.3896 564.24 48.3816 565.776 48.3816 568.592ZM52.9986 574V572.096H51.4146V574H52.9986ZM62.6021 571.552V570.368H60.8741V563.152H59.1621L54.1381 570.496V571.552H59.5461V574H60.8741V571.552H62.6021ZM59.5461 570.368H55.6741L59.5461 564.768V570.368Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M50.0099 724.592C50.0099 721.008 48.3459 718.976 45.8819 718.976C43.4019 718.976 41.7379 721.008 41.7379 724.592C41.7379 728.176 43.4019 730.208 45.8819 730.208C48.3459 730.208 50.0099 728.176 50.0099 724.592ZM48.5379 724.592C48.5379 727.408 47.5459 728.944 45.8819 728.944C44.2179 728.944 43.2099 727.408 43.2099 724.592C43.2099 721.776 44.2179 720.24 45.8819 720.24C47.5459 720.24 48.5379 721.776 48.5379 724.592ZM53.1549 730V728.096H51.5709V730H53.1549ZM62.2131 730L62.0211 728.72H57.0451L60.1331 725.584C61.4611 724.224 62.0531 723.344 62.0531 722.032C62.0531 720.176 60.7731 718.976 58.6771 718.976C57.3331 718.976 56.2451 719.504 55.4451 720.192L55.6531 721.584C56.5011 720.832 57.4771 720.304 58.5971 720.304C59.8611 720.304 60.5651 720.912 60.5651 722.128C60.5651 723.008 60.1331 723.696 59.1571 724.72L55.1571 728.896V730H62.2131Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M62.1818 849.592C62.1818 846.008 60.5178 843.976 58.0538 843.976C55.5738 843.976 53.9098 846.008 53.9098 849.592C53.9098 853.176 55.5738 855.208 58.0538 855.208C60.5178 855.208 62.1818 853.176 62.1818 849.592ZM60.7098 849.592C60.7098 852.408 59.7178 853.944 58.0538 853.944C56.3898 853.944 55.3818 852.408 55.3818 849.592C55.3818 846.776 56.3898 845.24 58.0538 845.24C59.7178 845.24 60.7098 846.776 60.7098 849.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M466.848 931.336L466.624 929.96H458.208V931.336H461.728V941H463.232V931.336H466.848ZM474.336 941V935.448C474.336 934.072 473.568 933.208 472.128 933.208C471.04 933.208 470.16 933.816 469.536 934.376V929.448L468.112 929.672V941H469.536V935.72C470.224 934.984 470.992 934.488 471.744 934.488C472.576 934.488 472.912 935.016 472.912 935.8V941H474.336ZM480.822 934.568L480.598 933.208C479.35 933.272 478.47 934.056 477.926 934.92L477.686 933.368H476.55V941H477.974V936.488C478.486 935.48 479.558 934.632 480.822 934.568ZM488.179 937.032C488.179 934.92 487.155 933.208 484.931 933.208C483.011 933.208 481.571 934.712 481.571 937.16C481.571 939.96 483.123 941.16 485.107 941.16C486.371 941.16 487.347 940.776 488.163 940.136L487.955 938.856C487.123 939.512 486.323 939.944 485.219 939.944C483.891 939.944 483.043 939.112 482.995 937.336H488.179C488.179 937.24 488.179 937.112 488.179 937.032ZM486.739 936.264H483.059C483.283 934.952 484.035 934.328 484.915 934.328C486.019 934.328 486.563 935.032 486.739 936.264ZM495.315 938.872C495.315 937.416 494.467 936.872 492.579 936.392C491.379 936.088 490.995 935.8 490.995 935.288C490.995 934.744 491.443 934.408 492.307 934.408C493.107 934.408 493.955 934.68 494.627 935.064L494.851 933.72C494.131 933.4 493.283 933.208 492.339 933.208C490.675 933.208 489.651 934.104 489.651 935.32C489.651 936.68 490.371 937.224 492.163 937.672C493.539 938.008 493.971 938.264 493.971 938.968C493.971 939.608 493.395 939.976 492.419 939.976C491.379 939.976 490.451 939.592 489.731 939.096L489.523 940.44C490.179 940.808 491.299 941.16 492.307 941.16C494.275 941.16 495.315 940.264 495.315 938.872ZM503.289 941V935.448C503.289 934.072 502.521 933.208 501.081 933.208C499.993 933.208 499.113 933.816 498.489 934.376V929.448L497.065 929.672V941H498.489V935.72C499.177 934.984 499.945 934.488 500.697 934.488C501.529 934.488 501.865 935.016 501.865 935.8V941H503.289ZM512.127 937.192C512.127 934.68 510.623 933.208 508.575 933.208C506.543 933.208 505.071 934.68 505.071 937.192C505.071 939.704 506.543 941.16 508.575 941.16C510.623 941.16 512.127 939.704 512.127 937.192ZM510.687 937.192C510.687 938.792 509.983 939.976 508.575 939.976C507.231 939.976 506.511 938.76 506.511 937.192C506.511 935.592 507.199 934.408 508.575 934.408C509.951 934.408 510.687 935.624 510.687 937.192ZM515.476 941V929.448L514.052 929.672V941H515.476ZM524.199 941V929.448L522.775 929.672V933.608C522.295 933.416 521.607 933.272 520.855 933.272C518.999 933.272 517.399 934.616 517.399 937.4C517.399 939.96 518.759 941.16 520.407 941.16C521.527 941.16 522.311 940.584 522.887 939.896L523.063 941H524.199ZM522.775 938.552C522.167 939.368 521.495 939.896 520.615 939.896C519.591 939.896 518.839 939.016 518.839 937.336C518.839 935.448 519.703 934.472 520.903 934.472C521.719 934.472 522.183 934.6 522.775 934.904V938.552Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M77.1349 909.592C77.1349 906.008 75.4709 903.976 73.0069 903.976C70.5269 903.976 68.8629 906.008 68.8629 909.592C68.8629 913.176 70.5269 915.208 73.0069 915.208C75.4709 915.208 77.1349 913.176 77.1349 909.592ZM75.6629 909.592C75.6629 912.408 74.6709 913.944 73.0069 913.944C71.3429 913.944 70.3349 912.408 70.3349 909.592C70.3349 906.776 71.3429 905.24 73.0069 905.24C74.6709 905.24 75.6629 906.776 75.6629 909.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M241.049 909.592C241.049 906.008 239.385 903.976 236.921 903.976C234.441 903.976 232.777 906.008 232.777 909.592C232.777 913.176 234.441 915.208 236.921 915.208C239.385 915.208 241.049 913.176 241.049 909.592ZM239.577 909.592C239.577 912.408 238.585 913.944 236.921 913.944C235.257 913.944 234.249 912.408 234.249 909.592C234.249 906.776 235.257 905.24 236.921 905.24C238.585 905.24 239.577 906.776 239.577 909.592ZM244.194 915V913.096H242.61V915H244.194ZM253.252 915L253.06 913.72H248.084L251.172 910.584C252.5 909.224 253.092 908.344 253.092 907.032C253.092 905.176 251.812 903.976 249.716 903.976C248.372 903.976 247.284 904.504 246.484 905.192L246.692 906.584C247.54 905.832 248.516 905.304 249.636 905.304C250.9 905.304 251.604 905.912 251.604 907.128C251.604 908.008 251.172 908.696 250.196 909.72L246.196 913.896V915H253.252Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M412.971 909.592C412.971 906.008 411.307 903.976 408.843 903.976C406.363 903.976 404.699 906.008 404.699 909.592C404.699 913.176 406.363 915.208 408.843 915.208C411.307 915.208 412.971 913.176 412.971 909.592ZM411.499 909.592C411.499 912.408 410.507 913.944 408.843 913.944C407.179 913.944 406.171 912.408 406.171 909.592C406.171 906.776 407.179 905.24 408.843 905.24C410.507 905.24 411.499 906.776 411.499 909.592ZM416.116 915V913.096H414.532V915H416.116ZM425.719 912.552V911.368H423.991V904.152H422.279L417.255 911.496V912.552H422.663V915H423.991V912.552H425.719ZM422.663 911.368H418.791L422.663 905.768V911.368Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M589.018 909.592C589.018 906.008 587.354 903.976 584.89 903.976C582.41 903.976 580.746 906.008 580.746 909.592C580.746 913.176 582.41 915.208 584.89 915.208C587.354 915.208 589.018 913.176 589.018 909.592ZM587.546 909.592C587.546 912.408 586.554 913.944 584.89 913.944C583.226 913.944 582.218 912.408 582.218 909.592C582.218 906.776 583.226 905.24 584.89 905.24C586.554 905.24 587.546 906.776 587.546 909.592ZM592.163 915V913.096H590.579V915H592.163ZM595.359 909.224C595.839 906.92 597.679 905.816 599.887 905.256L599.695 903.976C596.255 904.824 593.839 906.888 593.839 910.632C593.839 913.624 595.471 915.208 597.727 915.208C599.871 915.208 601.455 913.736 601.455 911.688C601.455 909.656 600.175 908.376 598.095 908.376C597.023 908.376 596.127 908.712 595.359 909.224ZM595.231 910.584C595.967 909.976 596.815 909.64 597.775 909.64C599.327 909.64 600.015 910.44 600.015 911.752C600.015 913.128 599.087 913.944 597.775 913.944C596.223 913.944 595.247 912.632 595.231 910.584Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M759.916 909.592C759.916 906.008 758.252 903.976 755.788 903.976C753.308 903.976 751.644 906.008 751.644 909.592C751.644 913.176 753.308 915.208 755.788 915.208C758.252 915.208 759.916 913.176 759.916 909.592ZM758.444 909.592C758.444 912.408 757.452 913.944 755.788 913.944C754.124 913.944 753.116 912.408 753.116 909.592C753.116 906.776 754.124 905.24 755.788 905.24C757.452 905.24 758.444 906.776 758.444 909.592ZM763.061 915V913.096H761.477V915H763.061ZM769.022 908.824C767.294 908.104 766.622 907.72 766.622 906.744C766.622 905.88 767.294 905.192 768.638 905.192C769.934 905.192 770.654 905.784 770.654 906.712C770.654 907.544 769.998 908.296 769.022 908.824ZM768.254 909.832C770.302 910.664 771.006 911.08 771.006 912.216C771.006 913.304 770.046 913.992 768.638 913.992C767.246 913.992 766.238 913.336 766.238 912.168C766.238 911.192 767.038 910.376 768.254 909.832ZM767.054 909.304C765.742 909.992 764.798 910.952 764.798 912.232C764.798 913.848 766.126 915.208 768.606 915.208C770.974 915.208 772.446 913.928 772.446 912.264C772.446 910.712 771.598 909.992 770.174 909.32C771.214 908.728 772.062 907.896 772.062 906.68C772.062 905.144 770.766 903.976 768.67 903.976C766.59 903.976 765.214 905.16 765.214 906.76C765.214 908.072 765.95 908.76 767.054 909.304Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M931.708 915V904.152H930.46L927.868 905.352L928.028 906.504L930.284 905.656V915H931.708ZM935.842 915V913.096H934.258V915H935.842ZM945.666 909.592C945.666 906.008 944.002 903.976 941.538 903.976C939.058 903.976 937.394 906.008 937.394 909.592C937.394 913.176 939.058 915.208 941.538 915.208C944.002 915.208 945.666 913.176 945.666 909.592ZM944.194 909.592C944.194 912.408 943.202 913.944 941.538 913.944C939.874 913.944 938.866 912.408 938.866 909.592C938.866 906.776 939.874 905.24 941.538 905.24C943.202 905.24 944.194 906.776 944.194 909.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M70 122.5C93.5 283.333 162 630.8 248 734C355.5 863 444 854 935.5 849.5",stroke:"#D98E50","stroke-width":"3"}),Object(r.jsx)("path",{d:"M72 852.5C140 806.5 281.333 639 343.5 561C454.333 426 728.5 149 938.5 121",stroke:"#4780EC","stroke-width":"3"})]}),Object(r.jsx)("defs",{children:Object(r.jsx)("clipPath",{id:"clip0",children:Object(r.jsx)("rect",{width:"948",height:"953",fill:"white"})})})]});const j=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.TextHeadingTwo,{mb:3,id:"how-much-fraud-stopped",children:"5. How much fraud can I stop by using your model?"}),Object(r.jsx)(s.a,{children:"When discussing the performance of a machine learning model, there are two key metrics we need to introduce that are here defined:"}),Object(r.jsx)(s.a,{children:Object(r.jsxs)(f,{pl:3,children:[Object(r.jsxs)(l.ListItem,{children:[Object(r.jsx)(s.b,{children:"Precision"}),"\u200b: it is the proportion of fraud predictions correctly identified as fraud out of all fraud predictions."]}),Object(r.jsxs)(l.ListItem,{children:[Object(r.jsx)(s.b,{children:"Recall"}),"\u200b:\u200b it is the proportion of fraud the model captured out of all fraudulent transactions."]})]})}),Object(r.jsx)(s.a,{children:"In order to have these metrics, we train and test our model based on your own dataset and the entire Checkout.com network so that we not only take into account your historical fraud patterns when making predictions, but also enrich these predictions by training and testing the model on the frauds we see in the entire network."}),Object(r.jsx)(s.a,{children:"If you set the threshold in the highest ranges of the score, that is to say when you deem a score high enough to call it fraud, precision will increase while recall decreases, since there are very few transactions matching this high probability of fraud. The more precise the model is in correctly identifying fraudulent transactions, the fewer frauds we are able to therefore capture. A very precise model also translates into very few false-positives: this means that in the highest range of the thresholds, we pretty much achieve a pure reduction of fraud. On the other hand, when decreasing the probability threshold, precision decreases and the fraud captured by the model, our recall, increases at the expense of higher false-positives. The graph below in Figure 5 is a visual 0.03% 0.01% 5 representation of the tradeoff between precision and recall and shows you how the precision (\u200bin blue\u200b) changes with the recall (\u200bin orange\u200b) when changing the score thresholds (x-axis). By increasing the score threshold, we increase the precision at the expense of the recall, which is a natural tradeoff when using these algorithms."}),Object(r.jsx)(s.a,{children:"Figure 5 - The Precision Recall Curve"}),Object(r.jsx)(s.a,{children:Object(r.jsx)(l.Box,{mr:2,children:Object(r.jsx)(g,{})})}),Object(r.jsx)(s.a,{children:"You can find here below what to expect when using our model in terms of precision, recall, and false-positives:"}),Object(r.jsx)(s.a,{children:"Table 6 - Expected Precision, Recall, and False-positives at each threshold"}),Object(r.jsx)(l.Box,{mb:4,children:Object(r.jsxs)(l.Table,{children:[Object(r.jsx)(l.TableHead,{headers:["Score Threshold","Precision","Recall","False-positives"]}),Object(r.jsxs)(l.TableBody,{children:[Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"10"}),Object(r.jsx)(l.TableCell,{children:"15%"}),Object(r.jsx)(l.TableCell,{children:"60.3%"}),Object(r.jsx)(l.TableCell,{children:"3.2%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"20"}),Object(r.jsx)(l.TableCell,{children:"23%"}),Object(r.jsx)(l.TableCell,{children:"34.2%"}),Object(r.jsx)(l.TableCell,{children:"1.2%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"30"}),Object(r.jsx)(l.TableCell,{children:"33%"}),Object(r.jsx)(l.TableCell,{children:"16%"}),Object(r.jsx)(l.TableCell,{children:"0.3%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"40"}),Object(r.jsx)(l.TableCell,{children:"47%"}),Object(r.jsx)(l.TableCell,{children:"7.8%"}),Object(r.jsx)(l.TableCell,{children:"0.09%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"50"}),Object(r.jsx)(l.TableCell,{children:"65%"}),Object(r.jsx)(l.TableCell,{children:"4.8%"}),Object(r.jsx)(l.TableCell,{children:"0.03%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"60"}),Object(r.jsx)(l.TableCell,{children:"78%"}),Object(r.jsx)(l.TableCell,{children:"3.4%"}),Object(r.jsx)(l.TableCell,{children:"0.01%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"70"}),Object(r.jsx)(l.TableCell,{children:"85%"}),Object(r.jsx)(l.TableCell,{children:"2.2%"}),Object(r.jsx)(l.TableCell,{children:"0%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"80"}),Object(r.jsx)(l.TableCell,{children:"68%"}),Object(r.jsx)(l.TableCell,{children:"0.2%"}),Object(r.jsx)(l.TableCell,{children:"0%"})]}),Object(r.jsxs)(l.TableRow,{children:[Object(r.jsx)(l.TableCell,{children:"90"}),Object(r.jsx)(l.TableCell,{children:"66%"}),Object(r.jsx)(l.TableCell,{children:"0.1%"}),Object(r.jsx)(l.TableCell,{children:"0%"})]})]})]})}),Object(r.jsx)(s.a,{children:"In other words, if we set the threshold to 70, the model catches 2.2% of fraud (recall) with 85% correctness (precision) and no false-positives."})]});var y=()=>Object(r.jsxs)("svg",{width:"640",height:"645",viewBox:"0 0 948 953",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("rect",{width:"948",height:"953",fill:"white"}),Object(r.jsx)("line",{x1:"122.5",y1:"107",x2:"122.5",y2:"891",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"273.5",y1:"107",x2:"273.5",y2:"891",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"425.5",y1:"107",x2:"425.5",y2:"891",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"577.5",y1:"107",x2:"577.5",y2:"891",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"729.5",y1:"107",x2:"729.5",y2:"891",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"881.5",y1:"107",x2:"881.5",y2:"891",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"925",y1:"730.5",x2:"81",y2:"730.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"925",y1:"574.5",x2:"81",y2:"574.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"925",y1:"418.5",x2:"81",y2:"418.5",stroke:"#C6D4DB"}),Object(r.jsx)("line",{x1:"925",y1:"262.5",x2:"81",y2:"262.5",stroke:"#C6D4DB"}),Object(r.jsx)("path",{opacity:"0.5","fill-rule":"evenodd","clip-rule":"evenodd",d:"M123 729.135V886H272.928L882 263.755V107H731.963L123 729.135Z",fill:"#C4C4C4"}),Object(r.jsx)("line",{x1:"85",y1:"107",x2:"85",y2:"886",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("line",{x1:"924",y1:"107",x2:"924",y2:"886",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("line",{x1:"925",y1:"887",x2:"84",y2:"887",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("line",{x1:"925",y1:"108",x2:"81",y2:"108",stroke:"#667080","stroke-width":"2"}),Object(r.jsx)("line",{x1:"122.283",y1:"886.303",x2:"878.795",y2:"107.826",stroke:"#354C55","stroke-width":"2","stroke-dasharray":"6 6"}),Object(r.jsx)("rect",{opacity:"0.5",x:"697",y:"57",width:"75",height:"19",fill:"#C4C4C4"}),Object(r.jsx)("line",{x1:"689",y1:"36",x2:"781",y2:"36",stroke:"#354C55","stroke-width":"2","stroke-dasharray":"6 6"}),Object(r.jsx)("rect",{x:"685",y:"31",width:"8",height:"10",fill:"white"}),Object(r.jsx)("rect",{x:"778",y:"31",width:"8",height:"10",fill:"white"}),Object(r.jsx)("path",{d:"M800 33.144C800 31.096 798.592 29.96 796.256 29.96H793.328V41H794.832V36.52H796C798.4 36.52 800 35.4 800 33.144ZM798.48 33.192C798.48 34.568 797.584 35.192 796.08 35.192H794.832V31.288H796.176C797.68 31.288 798.48 31.928 798.48 33.192ZM807.374 37.032C807.374 34.92 806.35 33.208 804.126 33.208C802.206 33.208 800.766 34.712 800.766 37.16C800.766 39.96 802.318 41.16 804.302 41.16C805.566 41.16 806.542 40.776 807.358 40.136L807.15 38.856C806.318 39.512 805.518 39.944 804.414 39.944C803.086 39.944 802.238 39.112 802.19 37.336H807.374C807.374 37.24 807.374 37.112 807.374 37.032ZM805.934 36.264H802.254C802.478 34.952 803.23 34.328 804.11 34.328C805.214 34.328 805.758 35.032 805.934 36.264ZM813.455 34.568L813.231 33.208C811.983 33.272 811.103 34.056 810.559 34.92L810.319 33.368H809.183V41H810.607V36.488C811.119 35.48 812.191 34.632 813.455 34.568ZM818.533 30.92L818.325 29.624C818.181 29.624 818.005 29.592 817.717 29.592C816.357 29.592 815.349 30.168 815.349 31.688V33.368H814.197V34.568H815.349V41H816.741V34.568H818.453L818.277 33.368H816.741V31.832C816.741 31.128 817.141 30.856 817.797 30.856C818.085 30.856 818.373 30.888 818.533 30.92ZM825.921 37.032C825.921 34.92 824.897 33.208 822.673 33.208C820.753 33.208 819.313 34.712 819.313 37.16C819.313 39.96 820.865 41.16 822.849 41.16C824.113 41.16 825.089 40.776 825.905 40.136L825.697 38.856C824.865 39.512 824.065 39.944 822.961 39.944C821.633 39.944 820.785 39.112 820.737 37.336H825.921C825.921 37.24 825.921 37.112 825.921 37.032ZM824.481 36.264H820.801C821.025 34.952 821.777 34.328 822.657 34.328C823.761 34.328 824.305 35.032 824.481 36.264ZM833.457 40.344L833.249 39.064C832.465 39.736 831.793 39.912 831.025 39.912C829.681 39.912 828.737 39.032 828.737 37.176C828.737 35.4 829.617 34.456 830.865 34.456C831.745 34.456 832.465 34.728 833.169 35.304L833.377 33.912C832.801 33.496 832.001 33.208 830.881 33.208C828.897 33.208 827.297 34.584 827.297 37.192C827.297 39.736 828.801 41.16 830.849 41.16C831.873 41.16 832.673 40.936 833.457 40.344ZM838.893 41.032L838.701 39.816C838.525 39.848 838.301 39.864 838.045 39.864C837.245 39.864 836.989 39.48 836.989 38.856V34.568H838.829L838.637 33.368H836.989V30.616L835.597 30.824V33.368H834.445V34.568H835.597V39.112C835.597 40.648 836.477 41.128 837.821 41.128C838.317 41.128 838.653 41.08 838.893 41.032ZM842.156 41V29.448L840.732 29.672V41H842.156ZM850.751 33.368H849.295L847.263 39.336L845.183 33.256L843.775 33.48L846.559 41.032L846.271 41.816C846.047 42.424 845.647 42.712 845.055 42.712C844.783 42.712 844.495 42.664 844.255 42.6L844.447 43.848C844.591 43.88 844.751 43.912 844.943 43.912C846.207 43.912 847.023 43.448 847.679 41.672L850.751 33.368ZM861.489 40.344L861.281 39.064C860.497 39.736 859.825 39.912 859.057 39.912C857.713 39.912 856.769 39.032 856.769 37.176C856.769 35.4 857.649 34.456 858.897 34.456C859.777 34.456 860.497 34.728 861.201 35.304L861.409 33.912C860.833 33.496 860.033 33.208 858.913 33.208C856.929 33.208 855.329 34.584 855.329 37.192C855.329 39.736 856.833 41.16 858.881 41.16C859.905 41.16 860.705 40.936 861.489 40.344ZM869.037 41V35.656C869.037 33.96 868.141 33.208 866.285 33.208C865.101 33.208 864.237 33.48 863.325 33.848L863.517 35.08C864.349 34.712 865.229 34.424 866.157 34.424C867.037 34.424 867.613 34.76 867.613 35.72V36.04C864.429 36.376 862.797 37.128 862.797 39.032C862.797 40.328 863.661 41.16 865.037 41.16C866.285 41.16 867.117 40.6 867.725 39.976L867.885 41H869.037ZM867.613 38.904C866.973 39.56 866.173 39.976 865.341 39.976C864.621 39.976 864.205 39.576 864.205 38.952C864.205 38.168 864.797 37.4 867.613 37.128V38.904ZM872.781 41V29.448L871.357 29.672V41H872.781ZM876.864 30.936C876.864 30.44 876.464 30.024 875.968 30.024C875.472 30.024 875.056 30.44 875.056 30.936C875.056 31.432 875.472 31.832 875.968 31.832C876.464 31.832 876.864 31.432 876.864 30.936ZM876.672 41V33.368H875.248V41H876.672ZM885.746 36.968C885.746 34.424 884.386 33.208 882.738 33.208C881.698 33.208 880.962 33.736 880.45 34.264V29.448L879.026 29.672V40.616C880.034 40.92 880.85 41.096 882.002 41.096C884.21 41.096 885.746 39.752 885.746 36.968ZM884.306 37.032C884.306 39 883.474 39.88 881.986 39.88C881.282 39.88 880.93 39.8 880.45 39.624V35.72C881.026 35 881.73 34.472 882.53 34.472C883.554 34.472 884.306 35.368 884.306 37.032ZM891.83 34.568L891.606 33.208C890.358 33.272 889.478 34.056 888.934 34.92L888.694 33.368H887.558V41H888.982V36.488C889.494 35.48 890.566 34.632 891.83 34.568ZM898.787 41V35.656C898.787 33.96 897.891 33.208 896.035 33.208C894.851 33.208 893.987 33.48 893.075 33.848L893.267 35.08C894.099 34.712 894.979 34.424 895.907 34.424C896.787 34.424 897.363 34.76 897.363 35.72V36.04C894.179 36.376 892.547 37.128 892.547 39.032C892.547 40.328 893.411 41.16 894.787 41.16C896.035 41.16 896.867 40.6 897.475 39.976L897.635 41H898.787ZM897.363 38.904C896.723 39.56 895.923 39.976 895.091 39.976C894.371 39.976 893.955 39.576 893.955 38.952C893.955 38.168 894.547 37.4 897.363 37.128V38.904ZM904.659 41.032L904.467 39.816C904.291 39.848 904.067 39.864 903.811 39.864C903.011 39.864 902.755 39.48 902.755 38.856V34.568H904.595L904.403 33.368H902.755V30.616L901.363 30.824V33.368H900.211V34.568H901.363V39.112C901.363 40.648 902.243 41.128 903.587 41.128C904.083 41.128 904.419 41.08 904.659 41.032ZM912.499 37.032C912.499 34.92 911.475 33.208 909.251 33.208C907.331 33.208 905.891 34.712 905.891 37.16C905.891 39.96 907.443 41.16 909.427 41.16C910.691 41.16 911.667 40.776 912.483 40.136L912.275 38.856C911.443 39.512 910.643 39.944 909.539 39.944C908.211 39.944 907.363 39.112 907.315 37.336H912.499C912.499 37.24 912.499 37.112 912.499 37.032ZM911.059 36.264H907.379C907.603 34.952 908.355 34.328 909.235 34.328C910.339 34.328 910.883 35.032 911.059 36.264ZM920.676 41V29.448L919.252 29.672V33.608C918.772 33.416 918.084 33.272 917.332 33.272C915.476 33.272 913.876 34.616 913.876 37.4C913.876 39.96 915.236 41.16 916.884 41.16C918.004 41.16 918.788 40.584 919.364 39.896L919.54 41H920.676ZM919.252 38.552C918.644 39.368 917.972 39.896 917.092 39.896C916.068 39.896 915.316 39.016 915.316 37.336C915.316 35.448 916.18 34.472 917.38 34.472C918.196 34.472 918.66 34.6 919.252 34.904V38.552Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M458.773 936.136L458.549 934.712C457.669 935.352 456.629 935.816 455.445 935.816C453.221 935.816 451.877 934.136 451.877 931.48C451.877 928.824 453.205 927.128 455.445 927.128C456.629 927.128 457.573 927.592 458.373 928.2L458.597 926.664C457.749 926.088 456.773 925.752 455.461 925.752C452.357 925.752 450.325 928.072 450.325 931.496C450.325 934.904 452.325 937.208 455.429 937.208C456.693 937.208 457.925 936.76 458.773 936.136ZM469.389 936.76L464.253 931.08L469.101 925.96H467.293L462.621 930.92V925.96H461.117V937H462.621V931.4L467.821 937.112L469.389 936.76ZM479.876 931.464C479.876 928.056 477.924 925.752 474.804 925.752C471.7 925.752 469.7 928.072 469.7 931.496C469.7 934.904 471.668 937.208 474.772 937.208C477.892 937.208 479.876 934.872 479.876 931.464ZM478.324 931.48C478.324 934.136 476.98 935.832 474.788 935.832C472.612 935.832 471.252 934.136 471.252 931.48C471.252 928.824 472.596 927.128 474.788 927.128C476.964 927.128 478.324 928.824 478.324 931.48ZM489.009 926.92L488.801 925.624C488.657 925.624 488.481 925.592 488.193 925.592C486.833 925.592 485.825 926.168 485.825 927.688V929.368H484.673V930.568H485.825V937H487.217V930.568H488.929L488.753 929.368H487.217V927.832C487.217 927.128 487.617 926.856 488.273 926.856C488.561 926.856 488.849 926.888 489.009 926.92ZM494.634 930.568L494.41 929.208C493.162 929.272 492.282 930.056 491.738 930.92L491.498 929.368H490.362V937H491.786V932.488C492.298 931.48 493.37 930.632 494.634 930.568ZM501.591 937V931.656C501.591 929.96 500.695 929.208 498.839 929.208C497.655 929.208 496.791 929.48 495.879 929.848L496.071 931.08C496.903 930.712 497.783 930.424 498.711 930.424C499.591 930.424 500.167 930.76 500.167 931.72V932.04C496.983 932.376 495.351 933.128 495.351 935.032C495.351 936.328 496.215 937.16 497.591 937.16C498.839 937.16 499.671 936.6 500.279 935.976L500.439 937H501.591ZM500.167 934.904C499.527 935.56 498.727 935.976 497.895 935.976C497.175 935.976 496.759 935.576 496.759 934.952C496.759 934.168 497.351 933.4 500.167 933.128V934.904ZM509.992 937V929.368H508.568V934.648C507.88 935.384 507.112 935.88 506.36 935.88C505.528 935.88 505.192 935.352 505.192 934.568V929.368H503.768V934.92C503.768 936.296 504.52 937.16 505.976 937.16C507.048 937.16 507.96 936.568 508.68 935.896L508.856 937H509.992ZM518.605 937V925.448L517.181 925.672V929.608C516.701 929.416 516.013 929.272 515.261 929.272C513.405 929.272 511.805 930.616 511.805 933.4C511.805 935.96 513.165 937.16 514.813 937.16C515.933 937.16 516.717 936.584 517.293 935.896L517.469 937H518.605ZM517.181 934.552C516.573 935.368 515.901 935.896 515.021 935.896C513.997 935.896 513.245 935.016 513.245 933.336C513.245 931.448 514.109 930.472 515.309 930.472C516.125 930.472 516.589 930.6 517.181 930.904V934.552ZM529.69 934.872C529.69 933.416 528.842 932.872 526.954 932.392C525.754 932.088 525.37 931.8 525.37 931.288C525.37 930.744 525.818 930.408 526.682 930.408C527.482 930.408 528.33 930.68 529.002 931.064L529.226 929.72C528.506 929.4 527.658 929.208 526.714 929.208C525.05 929.208 524.026 930.104 524.026 931.32C524.026 932.68 524.746 933.224 526.538 933.672C527.914 934.008 528.346 934.264 528.346 934.968C528.346 935.608 527.77 935.976 526.794 935.976C525.754 935.976 524.826 935.592 524.106 935.096L523.898 936.44C524.554 936.808 525.674 937.16 526.682 937.16C528.65 937.16 529.69 936.264 529.69 934.872ZM537.168 936.344L536.96 935.064C536.176 935.736 535.504 935.912 534.736 935.912C533.392 935.912 532.448 935.032 532.448 933.176C532.448 931.4 533.328 930.456 534.576 930.456C535.456 930.456 536.176 930.728 536.88 931.304L537.088 929.912C536.512 929.496 535.712 929.208 534.592 929.208C532.608 929.208 531.008 930.584 531.008 933.192C531.008 935.736 532.512 937.16 534.56 937.16C535.584 937.16 536.384 936.936 537.168 936.344ZM545.424 933.192C545.424 930.68 543.92 929.208 541.872 929.208C539.84 929.208 538.368 930.68 538.368 933.192C538.368 935.704 539.84 937.16 541.872 937.16C543.92 937.16 545.424 935.704 545.424 933.192ZM543.984 933.192C543.984 934.792 543.28 935.976 541.872 935.976C540.528 935.976 539.808 934.76 539.808 933.192C539.808 931.592 540.496 930.408 541.872 930.408C543.248 930.408 543.984 931.624 543.984 933.192ZM551.509 930.568L551.285 929.208C550.037 929.272 549.157 930.056 548.613 930.92L548.373 929.368H547.237V937H548.661V932.488C549.173 931.48 550.245 930.632 551.509 930.568ZM558.866 933.032C558.866 930.92 557.842 929.208 555.618 929.208C553.698 929.208 552.258 930.712 552.258 933.16C552.258 935.96 553.81 937.16 555.794 937.16C557.058 937.16 558.034 936.776 558.85 936.136L558.642 934.856C557.81 935.512 557.01 935.944 555.906 935.944C554.578 935.944 553.73 935.112 553.682 933.336H558.866C558.866 933.24 558.866 933.112 558.866 933.032ZM557.426 932.264H553.746C553.97 930.952 554.722 930.328 555.602 930.328C556.706 930.328 557.25 931.032 557.426 932.264Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M20.144 615.102C18.096 615.102 16.96 616.51 16.96 618.846L16.96 621.774L28 621.774L28 620.27L23.52 620.27L23.52 619.102C23.52 616.702 22.4 615.102 20.144 615.102ZM20.192 616.622C21.568 616.622 22.192 617.518 22.192 619.022L22.192 620.27L18.288 620.27L18.288 618.926C18.288 617.422 18.928 616.622 20.192 616.622ZM24.032 607.727C21.92 607.727 20.208 608.751 20.208 610.975C20.208 612.895 21.712 614.335 24.16 614.335C26.96 614.335 28.16 612.783 28.16 610.799C28.16 609.535 27.776 608.559 27.136 607.743L25.856 607.951C26.512 608.783 26.944 609.583 26.944 610.687C26.944 612.015 26.112 612.863 24.336 612.911L24.336 607.727C24.24 607.727 24.112 607.727 24.032 607.727ZM23.264 609.167L23.264 612.847C21.952 612.623 21.328 611.871 21.328 610.991C21.328 609.887 22.032 609.343 23.264 609.167ZM21.568 601.647L20.208 601.871C20.272 603.119 21.056 603.999 21.92 604.543L20.368 604.783L20.368 605.919L28 605.919L28 604.495L23.488 604.495C22.48 603.983 21.632 602.911 21.568 601.647ZM27.344 594.738L26.064 594.946C26.736 595.73 26.912 596.402 26.912 597.17C26.912 598.514 26.032 599.458 24.176 599.458C22.4 599.458 21.456 598.578 21.456 597.33C21.456 596.45 21.728 595.73 22.304 595.026L20.912 594.818C20.496 595.394 20.208 596.194 20.208 597.314C20.208 599.298 21.584 600.898 24.192 600.898C26.736 600.898 28.16 599.394 28.16 597.346C28.16 596.322 27.936 595.522 27.344 594.738ZM24.032 586.931C21.92 586.931 20.208 587.955 20.208 590.179C20.208 592.099 21.712 593.539 24.16 593.539C26.96 593.539 28.16 591.987 28.16 590.003C28.16 588.739 27.776 587.763 27.136 586.947L25.856 587.155C26.512 587.987 26.944 588.787 26.944 589.891C26.944 591.219 26.112 592.067 24.336 592.115L24.336 586.931C24.24 586.931 24.112 586.931 24.032 586.931ZM23.264 588.371L23.264 592.051C21.952 591.827 21.328 591.075 21.328 590.195C21.328 589.091 22.032 588.547 23.264 588.371ZM28 578.898L22.448 578.898C21.072 578.898 20.208 579.666 20.208 581.106C20.208 582.194 20.816 583.09 21.472 583.81L20.368 583.986L20.368 585.122L28 585.122L28 583.698L22.72 583.698C21.984 583.01 21.488 582.242 21.488 581.49C21.488 580.658 22.016 580.322 22.8 580.322L28 580.322L28 578.898ZM28.032 573.021L26.816 573.213C26.848 573.389 26.864 573.613 26.864 573.869C26.864 574.669 26.48 574.925 25.856 574.925L21.568 574.925L21.568 573.085L20.368 573.277L20.368 574.925L17.616 574.925L17.824 576.317L20.368 576.317L20.368 577.469L21.568 577.469L21.568 576.317L26.112 576.317C27.648 576.317 28.128 575.437 28.128 574.093C28.128 573.597 28.08 573.261 28.032 573.021ZM28 565.518L22.656 565.518C20.96 565.518 20.208 566.414 20.208 568.27C20.208 569.454 20.48 570.318 20.848 571.23L22.08 571.038C21.712 570.206 21.424 569.326 21.424 568.398C21.424 567.518 21.76 566.942 22.72 566.942L23.04 566.942C23.376 570.126 24.128 571.758 26.032 571.758C27.328 571.758 28.16 570.894 28.16 569.518C28.16 568.27 27.6 567.438 26.976 566.83L28 566.67L28 565.518ZM25.904 566.942C26.56 567.582 26.976 568.382 26.976 569.214C26.976 569.934 26.576 570.35 25.952 570.35C25.168 570.35 24.4 569.758 24.128 566.942L25.904 566.942ZM27.408 561.502C27.472 561.198 27.52 560.974 27.6 560.558L27.76 559.646C27.952 558.558 28.272 558.206 28.736 558.206C29.376 558.206 29.888 559.038 29.888 560.526C29.888 562.014 29.44 562.798 28.832 562.798C28.304 562.798 27.856 562.398 27.408 561.502ZM22.848 559.134C23.76 559.134 24.48 559.742 24.48 560.718C24.48 561.662 23.792 562.27 22.912 562.27C21.984 562.27 21.248 561.678 21.248 560.718C21.248 559.774 21.936 559.134 22.848 559.134ZM20.848 558.75C20.432 559.278 20.208 559.95 20.208 560.718C20.208 562.27 21.216 563.646 22.864 563.646C23.904 563.646 24.72 563.07 25.136 562.222C25.44 562.734 25.808 563.022 26.176 563.022C26.464 563.022 26.736 562.878 26.976 562.542C27.552 563.614 28.16 564.158 28.944 564.158C30.288 564.158 30.912 562.574 30.912 560.59C30.912 558.606 30.16 556.862 28.56 556.862C27.376 556.862 26.864 557.87 26.576 559.486L26.48 560.03C26.24 561.374 26.176 561.646 25.904 561.646C25.76 561.646 25.584 561.486 25.44 561.262C25.472 561.07 25.488 560.878 25.488 560.686C25.488 559.134 24.496 557.758 22.864 557.758C22.432 557.758 22.032 557.854 21.68 558.062L21.536 556.606L20.256 556.814L20.848 558.75ZM24.032 549.196C21.92 549.196 20.208 550.22 20.208 552.444C20.208 554.364 21.712 555.804 24.16 555.804C26.96 555.804 28.16 554.252 28.16 552.268C28.16 551.004 27.776 550.028 27.136 549.212L25.856 549.42C26.512 550.252 26.944 551.052 26.944 552.156C26.944 553.484 26.112 554.332 24.336 554.38L24.336 549.196C24.24 549.196 24.112 549.196 24.032 549.196ZM23.264 550.636L23.264 554.316C21.952 554.092 21.328 553.34 21.328 552.46C21.328 551.356 22.032 550.812 23.264 550.636ZM24.192 537.248C21.68 537.248 20.208 538.752 20.208 540.8C20.208 542.832 21.68 544.304 24.192 544.304C26.704 544.304 28.16 542.832 28.16 540.8C28.16 538.752 26.704 537.248 24.192 537.248ZM24.192 538.688C25.792 538.688 26.976 539.392 26.976 540.8C26.976 542.144 25.76 542.864 24.192 542.864C22.592 542.864 21.408 542.176 21.408 540.8C21.408 539.424 22.624 538.688 24.192 538.688ZM17.92 531.819L16.624 532.027C16.624 532.171 16.592 532.347 16.592 532.635C16.592 533.995 17.168 535.003 18.688 535.003L20.368 535.003L20.368 536.155L21.568 536.155L21.568 535.003L28 535.003L28 533.611L21.568 533.611L21.568 531.899L20.368 532.075L20.368 533.611L18.832 533.611C18.128 533.611 17.856 533.211 17.856 532.555C17.856 532.267 17.888 531.979 17.92 531.819ZM17.92 523.334L16.624 523.542C16.624 523.686 16.592 523.862 16.592 524.15C16.592 525.51 17.168 526.518 18.688 526.518L20.368 526.518L20.368 527.67L21.568 527.67L21.568 526.518L28 526.518L28 525.126L21.568 525.126L21.568 523.414L20.368 523.59L20.368 525.126L18.832 525.126C18.128 525.126 17.856 524.726 17.856 524.07C17.856 523.782 17.888 523.494 17.92 523.334ZM21.568 517.71L20.208 517.934C20.272 519.182 21.056 520.062 21.92 520.606L20.368 520.846L20.368 521.982L28 521.982L28 520.558L23.488 520.558C22.48 520.046 21.632 518.974 21.568 517.71ZM28 510.752L22.656 510.752C20.96 510.752 20.208 511.648 20.208 513.504C20.208 514.688 20.48 515.552 20.848 516.464L22.08 516.272C21.712 515.44 21.424 514.56 21.424 513.632C21.424 512.752 21.76 512.176 22.72 512.176L23.04 512.176C23.376 515.36 24.128 516.992 26.032 516.992C27.328 516.992 28.16 516.128 28.16 514.752C28.16 513.504 27.6 512.672 26.976 512.064L28 511.904L28 510.752ZM25.904 512.176C26.56 512.816 26.976 513.616 26.976 514.448C26.976 515.168 26.576 515.584 25.952 515.584C25.168 515.584 24.4 514.992 24.128 512.176L25.904 512.176ZM28 502.352L20.368 502.352L20.368 503.776L25.648 503.776C26.384 504.464 26.88 505.232 26.88 505.984C26.88 506.816 26.352 507.152 25.568 507.152L20.368 507.152L20.368 508.576L25.92 508.576C27.296 508.576 28.16 507.824 28.16 506.368C28.16 505.296 27.568 504.384 26.896 503.664L28 503.488L28 502.352ZM28 493.739L16.448 493.739L16.672 495.163L20.608 495.163C20.416 495.643 20.272 496.331 20.272 497.083C20.272 498.939 21.616 500.539 24.4 500.539C26.96 500.539 28.16 499.179 28.16 497.531C28.16 496.411 27.584 495.627 26.896 495.051L28 494.875L28 493.739ZM25.552 495.163C26.368 495.771 26.896 496.443 26.896 497.323C26.896 498.347 26.016 499.099 24.336 499.099C22.448 499.099 21.472 498.235 21.472 497.035C21.472 496.219 21.6 495.755 21.904 495.163L25.552 495.163ZM28 485.305L20.368 485.305L20.368 486.729L25.648 486.729C26.384 487.417 26.88 488.185 26.88 488.937C26.88 489.769 26.352 490.105 25.568 490.105L20.368 490.105L20.368 491.529L25.92 491.529C27.296 491.529 28.16 490.777 28.16 489.321C28.16 488.249 27.568 487.337 26.896 486.617L28 486.441L28 485.305ZM28 481.524L16.448 481.524L16.672 482.948L28 482.948L28 481.524ZM24.032 472.993C21.92 472.993 20.208 474.017 20.208 476.241C20.208 478.161 21.712 479.601 24.16 479.601C26.96 479.601 28.16 478.049 28.16 476.065C28.16 474.801 27.776 473.825 27.136 473.009L25.856 473.217C26.512 474.049 26.944 474.849 26.944 475.953C26.944 477.281 26.112 478.129 24.336 478.177L24.336 472.993C24.24 472.993 24.112 472.993 24.032 472.993ZM23.264 474.433L23.264 478.113C21.952 477.889 21.328 477.137 21.328 476.257C21.328 475.153 22.032 474.609 23.264 474.433ZM28 464.961L22.448 464.961C21.072 464.961 20.208 465.729 20.208 467.169C20.208 468.257 20.816 469.153 21.472 469.873L20.368 470.049L20.368 471.185L28 471.185L28 469.761L22.72 469.761C21.984 469.073 21.488 468.305 21.488 467.553C21.488 466.721 22.016 466.385 22.8 466.385L28 466.385L28 464.961ZM28.032 459.083L26.816 459.275C26.848 459.451 26.864 459.675 26.864 459.931C26.864 460.731 26.48 460.987 25.856 460.987L21.568 460.987L21.568 459.147L20.368 459.339L20.368 460.987L17.616 460.987L17.824 462.379L20.368 462.379L20.368 463.531L21.568 463.531L21.568 462.379L26.112 462.379C27.648 462.379 28.128 461.499 28.128 460.155C28.128 459.659 28.08 459.323 28.032 459.083ZM28.032 450.177L26.816 450.369C26.848 450.545 26.864 450.769 26.864 451.025C26.864 451.825 26.48 452.081 25.856 452.081L21.568 452.081L21.568 450.241L20.368 450.433L20.368 452.081L17.616 452.081L17.824 453.473L20.368 453.473L20.368 454.625L21.568 454.625L21.568 453.473L26.112 453.473C27.648 453.473 28.128 452.593 28.128 451.249C28.128 450.753 28.08 450.417 28.032 450.177ZM21.568 444.178L20.208 444.402C20.272 445.65 21.056 446.53 21.92 447.074L20.368 447.314L20.368 448.45L28 448.45L28 447.026L23.488 447.026C22.48 446.514 21.632 445.442 21.568 444.178ZM28 437.221L22.656 437.221C20.96 437.221 20.208 438.117 20.208 439.973C20.208 441.157 20.48 442.021 20.848 442.933L22.08 442.741C21.712 441.909 21.424 441.029 21.424 440.101C21.424 439.221 21.76 438.645 22.72 438.645L23.04 438.645C23.376 441.829 24.128 443.461 26.032 443.461C27.328 443.461 28.16 442.597 28.16 441.221C28.16 439.973 27.6 439.141 26.976 438.533L28 438.373L28 437.221ZM25.904 438.645C26.56 439.285 26.976 440.085 26.976 440.917C26.976 441.637 26.576 442.053 25.952 442.053C25.168 442.053 24.4 441.461 24.128 438.645L25.904 438.645ZM28 428.789L22.448 428.789C21.072 428.789 20.208 429.557 20.208 430.997C20.208 432.085 20.816 432.981 21.472 433.701L20.368 433.877L20.368 435.013L28 435.013L28 433.589L22.72 433.589C21.984 432.901 21.488 432.133 21.488 431.381C21.488 430.549 22.016 430.213 22.8 430.213L28 430.213L28 428.789ZM25.872 421.247C24.416 421.247 23.872 422.095 23.392 423.983C23.088 425.183 22.8 425.567 22.288 425.567C21.744 425.567 21.408 425.119 21.408 424.255C21.408 423.455 21.68 422.607 22.064 421.935L20.72 421.711C20.4 422.431 20.208 423.279 20.208 424.223C20.208 425.887 21.104 426.911 22.32 426.911C23.68 426.911 24.224 426.191 24.672 424.399C25.008 423.023 25.264 422.591 25.968 422.591C26.608 422.591 26.976 423.167 26.976 424.143C26.976 425.183 26.592 426.111 26.096 426.831L27.44 427.039C27.808 426.383 28.16 425.263 28.16 424.255C28.16 422.287 27.264 421.247 25.872 421.247ZM28 413.721L22.656 413.721C20.96 413.721 20.208 414.617 20.208 416.473C20.208 417.657 20.48 418.521 20.848 419.433L22.08 419.241C21.712 418.409 21.424 417.529 21.424 416.601C21.424 415.721 21.76 415.145 22.72 415.145L23.04 415.145C23.376 418.329 24.128 419.961 26.032 419.961C27.328 419.961 28.16 419.097 28.16 417.721C28.16 416.473 27.6 415.641 26.976 415.033L28 414.873L28 413.721ZM25.904 415.145C26.56 415.785 26.976 416.585 26.976 417.417C26.976 418.137 26.576 418.553 25.952 418.553C25.168 418.553 24.4 417.961 24.128 415.145L25.904 415.145ZM27.344 405.785L26.064 405.993C26.736 406.777 26.912 407.449 26.912 408.217C26.912 409.561 26.032 410.505 24.176 410.505C22.4 410.505 21.456 409.625 21.456 408.377C21.456 407.497 21.728 406.777 22.304 406.073L20.912 405.865C20.496 406.441 20.208 407.241 20.208 408.361C20.208 410.345 21.584 411.945 24.192 411.945C26.736 411.945 28.16 410.441 28.16 408.393C28.16 407.369 27.936 406.569 27.344 405.785ZM28.032 400.349L26.816 400.541C26.848 400.717 26.864 400.941 26.864 401.197C26.864 401.997 26.48 402.253 25.856 402.253L21.568 402.253L21.568 400.413L20.368 400.605L20.368 402.253L17.616 402.253L17.824 403.645L20.368 403.645L20.368 404.797L21.568 404.797L21.568 403.645L26.112 403.645C27.648 403.645 28.128 402.765 28.128 401.421C28.128 400.925 28.08 400.589 28.032 400.349ZM17.936 396.894C17.44 396.894 17.024 397.294 17.024 397.79C17.024 398.286 17.44 398.702 17.936 398.702C18.432 398.702 18.832 398.286 18.832 397.79C18.832 397.294 18.432 396.894 17.936 396.894ZM28 397.086L20.368 397.086L20.368 398.51L28 398.51L28 397.086ZM24.192 388.108C21.68 388.108 20.208 389.612 20.208 391.66C20.208 393.692 21.68 395.164 24.192 395.164C26.704 395.164 28.16 393.692 28.16 391.66C28.16 389.612 26.704 388.108 24.192 388.108ZM24.192 389.548C25.792 389.548 26.976 390.252 26.976 391.66C26.976 393.004 25.76 393.724 24.192 393.724C22.592 393.724 21.408 393.036 21.408 391.66C21.408 390.284 22.624 389.548 24.192 389.548ZM28 380.07L22.448 380.07C21.072 380.07 20.208 380.838 20.208 382.278C20.208 383.366 20.816 384.262 21.472 384.982L20.368 385.158L20.368 386.294L28 386.294L28 384.87L22.72 384.87C21.984 384.182 21.488 383.414 21.488 382.662C21.488 381.83 22.016 381.494 22.8 381.494L28 381.494L28 380.07ZM25.872 372.529C24.416 372.529 23.872 373.377 23.392 375.265C23.088 376.465 22.8 376.849 22.288 376.849C21.744 376.849 21.408 376.401 21.408 375.537C21.408 374.737 21.68 373.889 22.064 373.217L20.72 372.993C20.4 373.713 20.208 374.561 20.208 375.505C20.208 377.169 21.104 378.193 22.32 378.193C23.68 378.193 24.224 377.473 24.672 375.681C25.008 374.305 25.264 373.873 25.968 373.873C26.608 373.873 26.976 374.449 26.976 375.425C26.976 376.465 26.592 377.393 26.096 378.113L27.44 378.321C27.808 377.665 28.16 376.545 28.16 375.537C28.16 373.569 27.264 372.529 25.872 372.529Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M46.6608 113V102.152H45.4128L42.8208 103.352L42.9808 104.504L45.2368 103.656V113H46.6608ZM57.2755 107.592C57.2755 104.008 55.6115 101.976 53.1475 101.976C50.6675 101.976 49.0035 104.008 49.0035 107.592C49.0035 111.176 50.6675 113.208 53.1475 113.208C55.6115 113.208 57.2755 111.176 57.2755 107.592ZM55.8035 107.592C55.8035 110.408 54.8115 111.944 53.1475 111.944C51.4835 111.944 50.4755 110.408 50.4755 107.592C50.4755 104.776 51.4835 103.24 53.1475 103.24C54.8115 103.24 55.8035 104.776 55.8035 107.592ZM67.1818 107.592C67.1818 104.008 65.5178 101.976 63.0538 101.976C60.5738 101.976 58.9098 104.008 58.9098 107.592C58.9098 111.176 60.5738 113.208 63.0538 113.208C65.5178 113.208 67.1818 111.176 67.1818 107.592ZM65.7098 107.592C65.7098 110.408 64.7178 111.944 63.0538 111.944C61.3898 111.944 60.3818 110.408 60.3818 107.592C60.3818 104.776 61.3898 103.24 63.0538 103.24C64.7178 103.24 65.7098 104.776 65.7098 107.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M53.944 262.824C52.216 262.104 51.544 261.72 51.544 260.744C51.544 259.88 52.216 259.192 53.56 259.192C54.856 259.192 55.576 259.784 55.576 260.712C55.576 261.544 54.92 262.296 53.944 262.824ZM53.176 263.832C55.224 264.664 55.928 265.08 55.928 266.216C55.928 267.304 54.968 267.992 53.56 267.992C52.168 267.992 51.16 267.336 51.16 266.168C51.16 265.192 51.96 264.376 53.176 263.832ZM51.976 263.304C50.664 263.992 49.72 264.952 49.72 266.232C49.72 267.848 51.048 269.208 53.528 269.208C55.896 269.208 57.368 267.928 57.368 266.264C57.368 264.712 56.52 263.992 55.096 263.32C56.136 262.728 56.984 261.896 56.984 260.68C56.984 259.144 55.688 257.976 53.592 257.976C51.512 257.976 50.136 259.16 50.136 260.76C50.136 262.072 50.872 262.76 51.976 263.304ZM67.1818 263.592C67.1818 260.008 65.5178 257.976 63.0538 257.976C60.5738 257.976 58.9098 260.008 58.9098 263.592C58.9098 267.176 60.5738 269.208 63.0538 269.208C65.5178 269.208 67.1818 267.176 67.1818 263.592ZM65.7098 263.592C65.7098 266.408 64.7178 267.944 63.0538 267.944C61.3898 267.944 60.3818 266.408 60.3818 263.592C60.3818 260.776 61.3898 259.24 63.0538 259.24C64.7178 259.24 65.7098 260.776 65.7098 263.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M51.3825 419.224C51.8625 416.92 53.7025 415.816 55.9105 415.256L55.7185 413.976C52.2785 414.824 49.8625 416.888 49.8625 420.632C49.8625 423.624 51.4945 425.208 53.7505 425.208C55.8945 425.208 57.4785 423.736 57.4785 421.688C57.4785 419.656 56.1985 418.376 54.1185 418.376C53.0465 418.376 52.1505 418.712 51.3825 419.224ZM51.2545 420.584C51.9905 419.976 52.8385 419.64 53.7985 419.64C55.3505 419.64 56.0385 420.44 56.0385 421.752C56.0385 423.128 55.1105 423.944 53.7985 423.944C52.2465 423.944 51.2705 422.632 51.2545 420.584ZM67.1818 419.592C67.1818 416.008 65.5178 413.976 63.0538 413.976C60.5738 413.976 58.9098 416.008 58.9098 419.592C58.9098 423.176 60.5738 425.208 63.0538 425.208C65.5178 425.208 67.1818 423.176 67.1818 419.592ZM65.7098 419.592C65.7098 422.408 64.7178 423.944 63.0538 423.944C61.3898 423.944 60.3818 422.408 60.3818 419.592C60.3818 416.776 61.3898 415.24 63.0538 415.24C64.7178 415.24 65.7098 416.776 65.7098 419.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M57.6959 578.552V577.368H55.9679V570.152H54.2559L49.2319 577.496V578.552H54.6399V581H55.9679V578.552H57.6959ZM54.6399 577.368H50.7679L54.6399 571.768V577.368ZM67.1818 575.592C67.1818 572.008 65.5178 569.976 63.0538 569.976C60.5738 569.976 58.9098 572.008 58.9098 575.592C58.9098 579.176 60.5738 581.208 63.0538 581.208C65.5178 581.208 67.1818 579.176 67.1818 575.592ZM65.7098 575.592C65.7098 578.408 64.7178 579.944 63.0538 579.944C61.3898 579.944 60.3818 578.408 60.3818 575.592C60.3818 572.776 61.3898 571.24 63.0538 571.24C64.7178 571.24 65.7098 572.776 65.7098 575.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M57.3069 737L57.1149 735.72H52.1389L55.2269 732.584C56.5549 731.224 57.1469 730.344 57.1469 729.032C57.1469 727.176 55.8669 725.976 53.7709 725.976C52.4269 725.976 51.3389 726.504 50.5389 727.192L50.7469 728.584C51.5949 727.832 52.5709 727.304 53.6909 727.304C54.9549 727.304 55.6589 727.912 55.6589 729.128C55.6589 730.008 55.2269 730.696 54.2509 731.72L50.2509 735.896V737H57.3069ZM67.1818 731.592C67.1818 728.008 65.5178 725.976 63.0538 725.976C60.5738 725.976 58.9098 728.008 58.9098 731.592C58.9098 735.176 60.5738 737.208 63.0538 737.208C65.5178 737.208 67.1818 735.176 67.1818 731.592ZM65.7098 731.592C65.7098 734.408 64.7178 735.944 63.0538 735.944C61.3898 735.944 60.3818 734.408 60.3818 731.592C60.3818 728.776 61.3898 727.24 63.0538 727.24C64.7178 727.24 65.7098 728.776 65.7098 731.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M67.1818 887.592C67.1818 884.008 65.5178 881.976 63.0538 881.976C60.5738 881.976 58.9098 884.008 58.9098 887.592C58.9098 891.176 60.5738 893.208 63.0538 893.208C65.5178 893.208 67.1818 891.176 67.1818 887.592ZM65.7098 887.592C65.7098 890.408 64.7178 891.944 63.0538 891.944C61.3898 891.944 60.3818 890.408 60.3818 887.592C60.3818 884.776 61.3898 883.24 63.0538 883.24C64.7178 883.24 65.7098 884.776 65.7098 887.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M126.135 905.592C126.135 902.008 124.471 899.976 122.007 899.976C119.527 899.976 117.863 902.008 117.863 905.592C117.863 909.176 119.527 911.208 122.007 911.208C124.471 911.208 126.135 909.176 126.135 905.592ZM124.663 905.592C124.663 908.408 123.671 909.944 122.007 909.944C120.343 909.944 119.335 908.408 119.335 905.592C119.335 902.776 120.343 901.24 122.007 901.24C123.671 901.24 124.663 902.776 124.663 905.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M272.533 911L272.341 909.72H267.365L270.453 906.584C271.781 905.224 272.373 904.344 272.373 903.032C272.373 901.176 271.093 899.976 268.997 899.976C267.653 899.976 266.565 900.504 265.765 901.192L265.973 902.584C266.821 901.832 267.797 901.304 268.917 901.304C270.181 901.304 270.885 901.912 270.885 903.128C270.885 904.008 270.453 904.696 269.477 905.72L265.477 909.896V911H272.533ZM282.408 905.592C282.408 902.008 280.744 899.976 278.28 899.976C275.8 899.976 274.136 902.008 274.136 905.592C274.136 909.176 275.8 911.208 278.28 911.208C280.744 911.208 282.408 909.176 282.408 905.592ZM280.936 905.592C280.936 908.408 279.944 909.944 278.28 909.944C276.616 909.944 275.608 908.408 275.608 905.592C275.608 902.776 276.616 901.24 278.28 901.24C279.944 901.24 280.936 902.776 280.936 905.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M425.36 908.552V907.368H423.632V900.152H421.92L416.896 907.496V908.552H422.304V911H423.632V908.552H425.36ZM422.304 907.368H418.432L422.304 901.768V907.368ZM434.846 905.592C434.846 902.008 433.182 899.976 430.718 899.976C428.238 899.976 426.574 902.008 426.574 905.592C426.574 909.176 428.238 911.208 430.718 911.208C433.182 911.208 434.846 909.176 434.846 905.592ZM433.374 905.592C433.374 908.408 432.382 909.944 430.718 909.944C429.054 909.944 428.046 908.408 428.046 905.592C428.046 902.776 429.054 901.24 430.718 901.24C432.382 901.24 433.374 902.776 433.374 905.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M570.851 905.224C571.331 902.92 573.171 901.816 575.379 901.256L575.187 899.976C571.747 900.824 569.331 902.888 569.331 906.632C569.331 909.624 570.963 911.208 573.219 911.208C575.363 911.208 576.947 909.736 576.947 907.688C576.947 905.656 575.667 904.376 573.587 904.376C572.515 904.376 571.619 904.712 570.851 905.224ZM570.723 906.584C571.459 905.976 572.307 905.64 573.267 905.64C574.819 905.64 575.507 906.44 575.507 907.752C575.507 909.128 574.579 909.944 573.267 909.944C571.715 909.944 570.739 908.632 570.723 906.584ZM586.651 905.592C586.651 902.008 584.987 899.976 582.523 899.976C580.043 899.976 578.379 902.008 578.379 905.592C578.379 909.176 580.043 911.208 582.523 911.208C584.987 911.208 586.651 909.176 586.651 905.592ZM585.179 905.592C585.179 908.408 584.187 909.944 582.523 909.944C580.859 909.944 579.851 908.408 579.851 905.592C579.851 902.776 580.859 901.24 582.523 901.24C584.187 901.24 585.179 902.776 585.179 905.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M725.444 904.824C723.716 904.104 723.044 903.72 723.044 902.744C723.044 901.88 723.716 901.192 725.06 901.192C726.356 901.192 727.076 901.784 727.076 902.712C727.076 903.544 726.42 904.296 725.444 904.824ZM724.676 905.832C726.724 906.664 727.428 907.08 727.428 908.216C727.428 909.304 726.468 909.992 725.06 909.992C723.668 909.992 722.66 909.336 722.66 908.168C722.66 907.192 723.46 906.376 724.676 905.832ZM723.476 905.304C722.164 905.992 721.22 906.952 721.22 908.232C721.22 909.848 722.548 911.208 725.028 911.208C727.396 911.208 728.868 909.928 728.868 908.264C728.868 906.712 728.02 905.992 726.596 905.32C727.636 904.728 728.484 903.896 728.484 902.68C728.484 901.144 727.188 899.976 725.092 899.976C723.012 899.976 721.636 901.16 721.636 902.76C721.636 904.072 722.372 904.76 723.476 905.304ZM738.682 905.592C738.682 902.008 737.018 899.976 734.554 899.976C732.074 899.976 730.41 902.008 730.41 905.592C730.41 909.176 732.074 911.208 734.554 911.208C737.018 911.208 738.682 909.176 738.682 905.592ZM737.21 905.592C737.21 908.408 736.218 909.944 734.554 909.944C732.89 909.944 731.882 908.408 731.882 905.592C731.882 902.776 732.89 901.24 734.554 901.24C736.218 901.24 737.21 902.776 737.21 905.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M873.426 911V900.152H872.178L869.586 901.352L869.746 902.504L872.002 901.656V911H873.426ZM884.041 905.592C884.041 902.008 882.377 899.976 879.913 899.976C877.433 899.976 875.769 902.008 875.769 905.592C875.769 909.176 877.433 911.208 879.913 911.208C882.377 911.208 884.041 909.176 884.041 905.592ZM882.569 905.592C882.569 908.408 881.577 909.944 879.913 909.944C878.249 909.944 877.241 908.408 877.241 905.592C877.241 902.776 878.249 901.24 879.913 901.24C881.577 901.24 882.569 902.776 882.569 905.592ZM893.947 905.592C893.947 902.008 892.283 899.976 889.819 899.976C887.339 899.976 885.675 902.008 885.675 905.592C885.675 909.176 887.339 911.208 889.819 911.208C892.283 911.208 893.947 909.176 893.947 905.592ZM892.475 905.592C892.475 908.408 891.483 909.944 889.819 909.944C888.155 909.944 887.147 908.408 887.147 905.592C887.147 902.776 888.155 901.24 889.819 901.24C891.483 901.24 892.475 902.776 892.475 905.592Z",fill:"#354C55"}),Object(r.jsx)("path",{d:"M801.168 62.336L800.944 60.96H792.528V62.336H796.048V72H797.552V62.336H801.168ZM807.307 68.192C807.307 65.68 805.803 64.208 803.755 64.208C801.723 64.208 800.251 65.68 800.251 68.192C800.251 70.704 801.723 72.16 803.755 72.16C805.803 72.16 807.307 70.704 807.307 68.192ZM805.867 68.192C805.867 69.792 805.163 70.976 803.755 70.976C802.411 70.976 801.691 69.76 801.691 68.192C801.691 66.592 802.379 65.408 803.755 65.408C805.131 65.408 805.867 66.624 805.867 68.192ZM810.656 72V60.448L809.232 60.672V72H810.656ZM819.187 68.032C819.187 65.92 818.163 64.208 815.939 64.208C814.019 64.208 812.579 65.712 812.579 68.16C812.579 70.96 814.131 72.16 816.115 72.16C817.379 72.16 818.355 71.776 819.171 71.136L818.963 69.856C818.131 70.512 817.331 70.944 816.227 70.944C814.899 70.944 814.051 70.112 814.003 68.336H819.187C819.187 68.24 819.187 68.112 819.187 68.032ZM817.747 67.264H814.067C814.291 65.952 815.043 65.328 815.923 65.328C817.027 65.328 817.571 66.032 817.747 67.264ZM825.267 65.568L825.043 64.208C823.795 64.272 822.915 65.056 822.371 65.92L822.131 64.368H820.995V72H822.419V67.488C822.931 66.48 824.003 65.632 825.267 65.568ZM832.224 72V66.656C832.224 64.96 831.328 64.208 829.472 64.208C828.288 64.208 827.424 64.48 826.512 64.848L826.704 66.08C827.536 65.712 828.416 65.424 829.344 65.424C830.224 65.424 830.8 65.76 830.8 66.72V67.04C827.616 67.376 825.984 68.128 825.984 70.032C825.984 71.328 826.848 72.16 828.224 72.16C829.472 72.16 830.304 71.6 830.912 70.976L831.072 72H832.224ZM830.8 69.904C830.16 70.56 829.36 70.976 828.528 70.976C827.808 70.976 827.392 70.576 827.392 69.952C827.392 69.168 827.984 68.4 830.8 68.128V69.904ZM840.657 72V66.448C840.657 65.072 839.889 64.208 838.449 64.208C837.361 64.208 836.465 64.816 835.745 65.472L835.569 64.368H834.433V72H835.857V66.72C836.545 65.984 837.312 65.488 838.065 65.488C838.897 65.488 839.233 66.016 839.233 66.8V72H840.657ZM848.598 71.344L848.39 70.064C847.606 70.736 846.934 70.912 846.166 70.912C844.822 70.912 843.878 70.032 843.878 68.176C843.878 66.4 844.758 65.456 846.006 65.456C846.886 65.456 847.606 65.728 848.31 66.304L848.518 64.912C847.942 64.496 847.142 64.208 846.022 64.208C844.038 64.208 842.438 65.584 842.438 68.192C842.438 70.736 843.942 72.16 845.99 72.16C847.014 72.16 847.814 71.936 848.598 71.344ZM856.405 68.032C856.405 65.92 855.381 64.208 853.157 64.208C851.237 64.208 849.797 65.712 849.797 68.16C849.797 70.96 851.349 72.16 853.333 72.16C854.597 72.16 855.573 71.776 856.389 71.136L856.181 69.856C855.349 70.512 854.549 70.944 853.445 70.944C852.117 70.944 851.269 70.112 851.221 68.336H856.405C856.405 68.24 856.405 68.112 856.405 68.032ZM854.965 67.264H851.285C851.509 65.952 852.261 65.328 853.141 65.328C854.245 65.328 854.789 66.032 854.965 67.264ZM866.001 65.568L865.777 64.208C864.529 64.272 863.649 65.056 863.105 65.92L862.865 64.368H861.729V72H863.153V67.488C863.665 66.48 864.737 65.632 866.001 65.568ZM872.959 72V66.656C872.959 64.96 872.063 64.208 870.207 64.208C869.023 64.208 868.159 64.48 867.247 64.848L867.439 66.08C868.271 65.712 869.151 65.424 870.079 65.424C870.959 65.424 871.535 65.76 871.535 66.72V67.04C868.351 67.376 866.719 68.128 866.719 70.032C866.719 71.328 867.583 72.16 868.959 72.16C870.207 72.16 871.039 71.6 871.647 70.976L871.807 72H872.959ZM871.535 69.904C870.895 70.56 870.095 70.976 869.263 70.976C868.543 70.976 868.127 70.576 868.127 69.952C868.127 69.168 868.719 68.4 871.535 68.128V69.904ZM881.391 72V66.448C881.391 65.072 880.623 64.208 879.183 64.208C878.095 64.208 877.199 64.816 876.479 65.472L876.303 64.368H875.167V72H876.591V66.72C877.279 65.984 878.047 65.488 878.799 65.488C879.631 65.488 879.967 66.016 879.967 66.8V72H881.391ZM885.412 71.408C885.716 71.472 885.94 71.52 886.356 71.6L887.268 71.76C888.356 71.952 888.708 72.272 888.708 72.736C888.708 73.376 887.876 73.888 886.388 73.888C884.9 73.888 884.116 73.44 884.116 72.832C884.116 72.304 884.516 71.856 885.412 71.408ZM887.78 66.848C887.78 67.76 887.172 68.48 886.196 68.48C885.252 68.48 884.644 67.792 884.644 66.912C884.644 65.984 885.236 65.248 886.196 65.248C887.14 65.248 887.78 65.936 887.78 66.848ZM888.164 64.848C887.636 64.432 886.964 64.208 886.196 64.208C884.644 64.208 883.268 65.216 883.268 66.864C883.268 67.904 883.844 68.72 884.692 69.136C884.18 69.44 883.892 69.808 883.892 70.176C883.892 70.464 884.036 70.736 884.372 70.976C883.3 71.552 882.756 72.16 882.756 72.944C882.756 74.288 884.34 74.912 886.324 74.912C888.308 74.912 890.052 74.16 890.052 72.56C890.052 71.376 889.044 70.864 887.428 70.576L886.884 70.48C885.54 70.24 885.268 70.176 885.268 69.904C885.268 69.76 885.428 69.584 885.652 69.44C885.844 69.472 886.036 69.488 886.228 69.488C887.78 69.488 889.156 68.496 889.156 66.864C889.156 66.432 889.06 66.032 888.852 65.68L890.308 65.536L890.1 64.256L888.164 64.848ZM897.718 68.032C897.718 65.92 896.694 64.208 894.47 64.208C892.55 64.208 891.11 65.712 891.11 68.16C891.11 70.96 892.662 72.16 894.646 72.16C895.91 72.16 896.886 71.776 897.702 71.136L897.494 69.856C896.662 70.512 895.862 70.944 894.758 70.944C893.43 70.944 892.582 70.112 892.534 68.336H897.718C897.718 68.24 897.718 68.112 897.718 68.032ZM896.278 67.264H892.598C892.822 65.952 893.574 65.328 894.454 65.328C895.558 65.328 896.102 66.032 896.278 67.264Z",fill:"#354C55"})]});const x=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.TextHeadingTwo,{mb:3,id:"accuracy-ml-model",children:"3. How accurate are your machine learning model predictions?"}),Object(r.jsx)(s.a,{children:"When it comes to fraud detection in the payments space, there isn\u2019t much information out there, but we aim to be the most transparent machine learning model on the market. Our model predictions are calibrated, this means that the model does not overestimate or underestimate the probability of fraud. For example, for all transactions scored 40, roughly 40% of these transactions will indeed be fraudulent. In fact, we test and train our models frequently to make sure that our predictions are precise, reflecting reality."}),Object(r.jsx)(s.a,{children:"In the graph below in Figure 2, you can see what we call the \u201ccalibration curve\u201d. The y-axis represents the actual fraud ratio compared to the predicted fraud ratio by the model on the x-axis. For example, when looking at transactions with a score of 40, we would expect the actual fraud ratio to also be 40. The perfectly calibrated model would therefore follow the dotted line. In our case, our model is very well calibrated and does not go beyond the grey area around the dotted line, making sure the predictions are very close to the actual fraud rate."}),Object(r.jsx)(s.a,{children:"Figure 2 - The model Calibration Curve"}),Object(r.jsx)(s.a,{children:Object(r.jsx)(l.Box,{mr:2,children:Object(r.jsx)(y,{})})})]}),O=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.TextHeadingTwo,{mb:3,id:"set-thresholds-for-business",children:"6. How do I set the thresholds for my own business?"}),Object(r.jsx)(s.a,{children:"This really depends on your risk appetite and what you are trying to achieve: now that you learned the reason(s) why each transaction was scored the way it was scored, you can use this information to add friction (3DS), decline, or pass transactions based on your risk appetite. Let\u2019s analyse some real-world examples:"}),Object(r.jsxs)(l.UnorderedList,{pl:3,children:[Object(r.jsx)(l.ListItem,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(s.b,{children:"\u200b Business A "}),"\u200b has very tight profit margins since they are new to online sales. For this reason, Business A decided to lower the CKO Fraud Score threshold to make sure they avoid as much fraud as possible, as fraudulent chargebacks would be a huge hit to their business they cannot afford right now. Business A is aware that this means tolerating higher false positives, but they cannot do otherwise to kick-off their business."]})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(s.b,{children:"\u200bBusiness C"}),"\u200b is a well-known business with large profit margins with no real fraud issues. For this reason, Business B decided to keep the thresholds very high when declining transactions to avoid as many false-positives as possible that would lead to negative PR and discouraging genuine customers in placing orders with them."]})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(s.b,{children:"\u200bBusiness D"}),"\u200b is also a well-known business with large profit margins. However, they have their own internal fraud team and model and utilise the CKO Fraud Score to try and detect the frauds their own system doesn\u2019t capture. For this reason, business C only declines transactions scored very highly and adds 3DS friction to almost all the remaining ones."]})})]}),Object(r.jsx)(s.a,{children:"Finally, remember that the rules you create in Prism do not affect the CKO Fraud Score. You can only use rules you set in Prism, rely entirely on the CKO Fraud Score, or use both in tandem according to your risk appetite."})]}),_=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.TextHeadingTwo,{mb:3,id:"how-fast-is-model",children:"7. How fast is your model?"}),Object(r.jsx)(s.a,{children:"Prism receives back the score from our machine learning model in the blink of an eye... literally. Our model is in fact very fast and returns a score back to Prism within 200 milliseconds."})]});function C(){const e=Object(o.a)(["\n  color: ",";\n  text-decoration: none;\n"]);return C=function(){return e},e}const w=Object(d.default)(a.NavHashLink)(C(),(({theme:e})=>e.colors.success));var E=()=>Object(r.jsx)(u.b,{modalKey:i.a.ML_INFO_MODAL,title:"FAQs - Checkout\u2019s machine learning model",children:Object(r.jsx)("article",{children:Object(r.jsxs)(c.a,{children:[Object(r.jsx)(l.TextHeadingTwo,{mb:3,children:" Table of Contents: "}),Object(r.jsx)(f,{pl:3,color:"success",children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(l.ListItem,{children:Object(r.jsx)(w,{style:{backgroundColor:"white"},to:"/routing#cko-fraud-score",children:"What is the CKO Fraud Score?"})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsx)(w,{to:"/routing#how-score-works",children:"If I get a score of 70, for example, what does it mean to me?"})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsx)(w,{to:"/routing#accuracy-ml-model",children:"How accurate are your machine learning model predictions?"})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsx)(w,{to:"/routing#false-positives-predictions",children:"Should I expect any false-positives in your predictions?"})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsx)(w,{to:"/routing#how-much-fraud-stopped",children:"How much fraud can I stop by using your model?"})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsx)(w,{to:"/routing#set-thresholds-for-business",children:"How do I set the thresholds for my own business?"})}),Object(r.jsx)(l.ListItem,{children:Object(r.jsx)(w,{to:"/routing#how-fast-is-model",children:"How fast is your model?"})})]})}),Object(r.jsx)(b,{}),Object(r.jsx)(m,{}),Object(r.jsx)(x,{}),Object(r.jsx)(v,{}),Object(r.jsx)(j,{}),Object(r.jsx)(O,{}),Object(r.jsx)(_,{})]})})})}}]);
//# sourceMappingURL=Routing.6ef28461.chunk.js.map