{"version":3,"sources":["features/RulesBuilder/RulesHeaderContainer/RulesHeaderContainer.tsx","containers/DeleteRuleContainer/DeleteRuleContainer.tsx","features/RulesBuilder/RulesContainer/RulesContainer.tsx","views/Rules.tsx","types/enums/modals.ts","hooks/useModalManager/useModalManager.ts","contexts/ModalManagerContext/ModalManagerContext.tsx","hooks/api/common/usePutRequest/usePutRequest.ts","hooks/api/common/useAddUpdateMutation.ts","hooks/useAlerts/useAlerts.ts","components/Text/Strong.tsx","components/Text/ParagraphText.tsx","components/TooltipButtonWrapper/TooltipButtonWrapper.tsx","components/InfoModal/InfoModal.tsx","components/InfoModal/OpenInfoModalButton.tsx","utils/validator/createValidator.ts","utils/validator/validationRules.ts","features/RulesBuilder/RulesBuilderHelpContext/RulesBuilderHelpContext.tsx","hooks/api/rules/useAddRule.ts","hooks/api/rules/useUpdateRule.ts","hooks/api/rules/useDeleteRule.ts","hooks/api/rules/useAvailablePropertiesData.ts","hooks/api/common/useDeleteRequest/useDeleteRequest.ts","hooks/api/common/useDeleteMutation.ts","hooks/useTabs/useTabs.ts","features/RulesBuilder/RulesEditorContext/RulesEditorContext.tsx","features/RulesBuilder/RulesBuilderForm/useRuleValidator.ts","features/RulesBuilder/RulesBuilderContext/RulesBuilderContext.tsx","components/InlineAlert/InlineAlert.tsx","features/RulesBuilder/RuleBuilderContent/index.ts","features/RulesBuilder/RuleBuilderContent/example-combinations.ts","features/RulesBuilder/RuleBuilderContent/available-properties.ts","features/RulesBuilder/RuleBuilderContent/operators.ts","features/RulesBuilder/RuleBuilderContent/editor.ts","features/RulesBuilder/RuleBuilderContent/velocity-wizard.ts","components/PageHeader/PageHeader.tsx","components/SpacedButtonGroup/SpacedButtonGroup.tsx","hooks/useIntentHover/useIntentHover.ts","features/RulesBuilder/VelocityWizardContext/VelocityWizardContext.tsx","features/RulesBuilder/RulesBuilderContainer/useVelocityList.ts","features/RulesBuilder/rulesBuilderUtils/RulesMenuItemWrapper.tsx","features/RulesBuilder/RulesBuilderContainer/VelocityPropertyItem.tsx","features/RulesBuilder/VelocityMenuContainer/VelocityMenuContainer.tsx","features/RulesBuilder/VelocityWizard/velocityProperties.ts","components/FormikSegmentedControl/FormikSegmentedControl.tsx","features/RulesBuilder/VelocityWizard/VelocityFormHeader.tsx","features/RulesBuilder/VelocityWizard/SimpleVelocityForm/SimpleVelocityForm.tsx","features/RulesBuilder/VelocityDrawer/VelocityDrawer.tsx","features/RulesBuilder/VelocityWizard/RelativeVelocityForm/RelativeVelocityForm.tsx","features/RulesBuilder/VelocityWizardContainer/VelocityWizardContainer.tsx","features/RulesBuilder/RulesBuilderContainer/usePropertyList.ts","features/RulesBuilder/RulesBuilderContainer/RulesMenuItems/FilteredRulesPropertyListItem.tsx","features/RulesBuilder/RulesBuilderContainer/RulesMenuItems/RulesMenuTabPanel.tsx","features/RulesBuilder/RulesBuilderContainer/RulesMenuItems/RulesMenuItems.tsx","features/RulesBuilder/RulesEditor/EditorFallback.tsx","features/RulesBuilder/RulesBuilderForm/RulesBuilderForm.tsx","features/RulesBuilder/RulesNavigationMenu/ExampleRulesIcon.tsx","features/RulesBuilder/RulesNavigationMenu/PropertiesRulesIcon.tsx","features/RulesBuilder/RulesNavigationMenu/OperatorsIcon.tsx","features/RulesBuilder/rulesBuilderUtils/index.ts","features/RulesBuilder/RulesBuilderHelpContent/RulesBuilderHelpContent.tsx","features/RulesBuilder/RulesNavigationMenu/VelocitiesIcon.tsx","features/RulesBuilder/RulesBuilderHelpContent/VelocityWizardHelpContent.tsx","features/RulesBuilder/RulesBuilderHelpContainer/RulesBuilderHelpContainer.tsx","features/RulesBuilder/RulesNavigationMenu/RulesNavigationMenu.tsx","features/RulesBuilder/RulesBuilderModal/RulesBuilderModal.tsx","features/RulesBuilder/RulesBuilderPrompts/RulesBuilderPrompt.tsx","features/RulesBuilder/RulesBuilderPrompts/RulesBuilderNamePrompt.tsx","features/RulesBuilder/RulesBuilderPrompts/RulesBuilderRulePrompt.tsx","features/RulesBuilder/RulesBuilderPrompts/RulesBuilderSavePrompt.tsx","features/RulesBuilder/RulesBuilderContainer/RulesBuilderContainer.tsx","hooks/api/lists/useAddListEntry.ts","hooks/api/lists/useDeleteList.ts","hooks/api/lists/useDeleteListEntry.ts","hooks/api/lists/useListItemsData.ts","hooks/api/lists/useListsData.ts","hooks/api/lists/index.ts","components/TextField/TextField.tsx","hooks/useMlScoreEnabled/useMlScoreEnabled.ts","components/FieldValidationError/FieldValidationError.tsx","contexts/ModalManagerContext/index.ts","hooks/api/rules/useRulesData.ts","features/RulesBuilder/RulesEditor/RulesExample.tsx","components/SearchInput/SearchInput.tsx","components/MasterDetailsHeader/MasterDetailsSearchInput.tsx","components/MasterDetailsHeader/MasterDetailsHeaderLayout.tsx","components/Section/Section.tsx","hooks/api/common/usePostRequest/usePostRequest.ts","components/FormikSelectMenu/FormikSelectMenu.tsx","contexts/TabsContext/TabsContext.tsx","hooks/useScrollSpy/useScrollSpy.tsx","styles/UnorderedList.tsx","features/RulesBuilder/RulesEditor/SyntaxHighlightEditable.tsx","components/Highlighted/Highlighted.tsx","hooks/useSyntaxHighlighting/useSyntaxHighlighting.tsx","Prism.PredicateParser/PredicateLexer.ts","features/RulesBuilder/RulesEditor/antlrUtils.ts","components/DeleteButton/DeleteButton.tsx","components/DeleteConfirmationModal/DeleteConfirmationModal.tsx","components/IndexChildren/IndexChildren.tsx","components/Tabs/Tabs.tsx","components/Tabs/TabList.tsx","components/Tabs/BaseTab.tsx","components/Tabs/Tab.tsx","components/Tabs/TabPanels.tsx","components/Tabs/TabPanel.tsx","features/RulesBuilder/RulesInfoModalContainer/RulesInfoModalContainer.tsx","features/RulesBuilder/RulesBuilderModal/ModalHeader.tsx","features/RulesBuilder/RulesBuilderModal/ModalWithHeader.tsx","features/RulesBuilder/RulesBuilderContainer/index.ts","components/DataTable/DataTable.tsx"],"names":["AddIcon","styled","IconActionAdd","RulesHeader","openModal","useRulesBuilderModal","hasPermission","usePermissions","hideCreationButtons","useMemo","Flex","alignItems","justifyContent","flex","onClick","mode","FormMode","Add","modalId","data-cy","DeleteRuleContainer","useState","submissionErrorMessage","setSubmissionError","loading","setLoading","useModalManager","Modals","DELETE_SCORING_RULE","modalData","closeModal","closeRuleModal","showAlert","useAlerts","handleClose","useDeleteRule","queryCache","invalidateQueries","endpoints","rules","deleteRule","DeleteConfirmationModal","itemType","itemName","name","onCancel","onDelete","a","id","response","status","RulesContainer","useRulesData","data","error","height","fontSize","lineHeight","href","transformedData","summaries","map","x","tags","join","Grid","gridTemplateRows","py","px","RulesHeaderContainer","DataTable","onInteraction","item","EditDelete","tableHeaders","items","itemsToDisplay","cyTag","Container","div","Rules","PageHeader","title","modalKey","RULE_PROFILE_INFO","RulesInfoModalContainer","key","modals","useContext","ModalManagerStateContext","setModals","ModalManagerSetContext","useCallback","React","createContext","ModalManagerProvider","children","defaultModals","Provider","value","usePutRequest","url","defaultOptions","createHeaders","useHeaders","auth","useAuth","path","options","headers","maybePath","put","logout","requestMap","post","usePostRequest","useAddUpdateMutation","requestType","endpoint","mutationOptions","request","useRequest","useMutation","throwOnError","AlertContext","Strong","TextInline","attrs","$as","fontWeight","ParagraphText","Text","mb","TooltipButtonWrapper","text","enabled","defaultDirection","show","setShow","onMouseEnter","onMouseLeave","InfoModal","size","type","OpenInfoModalButton","buttonText","validateValue","validators","values","validator","result","validateValues","validatorOptions","errors","keys","Object","index","length","errorMessage","createValidator","required","msg","is","empty","not","existy","trim","integer","Number","requiredObject","val","maxLength","expectedCharacters","expression","test","regexMatch","duplicate","otherkey","RulesBuilderHelpContext","undefined","RulesBuilderHelpProvider","RulebuilderContent","exampleCombinations","default","helpKey","helpContentKey","setHelpContentKey","useRulesBuilderHelp","context","Error","useAddRule","onSuccess","onSettled","_","vars","useUpdateRule","useDeleteMutation","useAvailablePropertiesData","req","useGetRequest","useQuery","useDeleteRequest","baseUrl","del","useTabs","TabsContext","useTabsContext","setActiveTab","registerTab","handleKeyDown","isActiveTab","getTabRef","onKeyDown","event","keyCode","preventDefault","getTabProps","disabled","ref","tabIndex","role","getTabPanelProps","getTabListProps","removePlaceholderNodes","editor","nodes","Editor","at","match","n","HistoryEditor","withoutSaving","Transforms","removeNodes","RulesEditorContextProvider","selection","setSelection","fragment","setFragment","readOnly","setReadOnly","withReact","withHistory","createEditor","captureSelection","Node","restoreSelection","editorEnd","end","Point","isAfter","Range","select","removePlaceholder","insertFragment","insertPredicate","predicate","ReactEditor","focus","insertText","collapse","edge","insertPlaceholder","placeholderPredicate","repeat","insertNodes","useRulesEditor","errorCodeMap","1000","5000","6000","6001","6002","6003","6004","6005","7000","9000","useRuleEvaluator","get","rule","params","is_valid","errorCode","error_code","sourceText","source_context","offending_text","nameValidators","useRuleValidator","evaluateRule","isExpressionValid","mlScoreEnabled","useMlScoreEnabled","mlScoreEnabledValidation","mlScoreDisabledValidation","RulesBuilderContext","RulesBuilderProvider","initalFormValues","handleSubmit","rulesData","availablePropertiesStatus","enabledSelectedMerchantMlScore","useListsData","listsData","listsStatus","submissionError","ruleValidator","availableProperties","properties","availableLists","filter","availableProperty","Loader","RulesEditorContext","initialValues","onSubmit","actions","setSubmitting","validate","validateOnChange","useRulesBuilder","ErrorIcon","IconActionError","InlineAlert","bg","mt","borderRadius","data-testid","p","pl","color","content","amountAndCurrency","fraudScoreAndReference","addresses","cardDetails","cardholderDetails","verficationResults","velocity","operators","IN","CONTAINS","IS_MISSING","EXISTS","NOT","checkRule","velocityWizard","transactionCount","example","description","relative","pb","mr","SpacedButtonGroup","useIntentHover","timeoutRef","useRef","useEffect","current","clearTimeout","onEnter","onLeave","timeout","setTimeout","VelocityWizardFormType","VelocityWizardContext","VelocityWizardProvider","formType","setFormType","isDrawerOpen","setDrawerOpen","drawerRef","tempRef","handleEnd","addEventListener","removeEventListener","onFormTypeSelected","formTypeEnum","isOpen","useVelocityWizard","useVelocityList","getHoverProps","ItemWrapper","RulesMenuItemWrapper","borderBottom","borderLeft","borderRight","PredicateButton","ClickableElement","theme","isActive","colors","white","warningDark","base","warningLight","fontSizes","lighten","VelocityPropertyItem","showTooltip","setShowTooltip","flexDirection","textAlign","VelocityMenuContainer","velocityListProps","VelocityTransactionCount","VelocityRelative","simpleVelocityProperties","label","relativeVelocityOptions","transactionActionOptions","relativeVelocityTransactionActionOptions","velocityPeriodOptions","FormikSegmentedControl","props","useField","field","meta","setTouched","showError","useFormikContext","submitCount","onChange","e","target","selectedValue","FieldValidationError","TitleWrapper","VelocityFormHeader","velocityFormTitle","buildPropertyString","attribute","period","action","simpleVelocityValidator","fieldErrors","find","property","SimpleVelocityForm","validateOnMount","isValid","my","FormikSelectMenu","placeholder","Drawer","Box","velocityFormVisible","shadows","focusLight","VelocityDrawer","forwardRef","width","attributeOne","attributeTwo","relativeVelocityValidator","createRelativeVelocityPredicate","RelativeVelocityForm","firstError","VelocityForm","VelocityWizardContainer","isInView","useScrollSpy","getRoot","el","parentElement","usePropertyList","ruleProperties","RuleSidebarItem","memo","RulesExample","scorePredicateRegularExpression","RegExp","filterScorePredicate","exampleCombination","RulesPropertyListItem","ListItem","FilteredRulesPropertyListItems","getPropertyListProps","filteredRulesProperties","ruleProperty","RulesMenuTabPanel","MenuSubgroupHeader","ml","RulesMenuItems","style","overflow","FilteredRulesPropertyListItem","EditorFallback","textarea","css","baseLight","radii","defaultProps","IconCheckmarkIcon","IconActionCheckmark","RulesEditorContainer","lazy","DeleteIcon","IconActionDelete","EditorLabel","span","RulesBuilderForm","initialCount","Edit","testCount","setTestCount","getIntentProps","openDeleteModal","initial","isDisabled","risk_profiles","isSubmitting","validateForm","isValidating","submitAndTestCount","TextField","displayFieldError","fallback","initialValue","FeatureFlag","on","variant","c","ExampleRulesIcon","viewBox","fill","xmlns","y","rx","stroke","PropertiesRulesIcon","d","OperatorsIcon","rulesIconMap","rulesTypeTitleMap","StyledHelpContent","HelpContent","dangerouslySetInnerHTML","__html","RulesBuilderHelpContent","Icon","wordBreak","i","VelocitiesIcon","VelocityWizardHelpContent","exampleDesc","ToggleButton","OutlineButton","display","RulesBuilderHelpContainer","showHelpSection","onToggle","helpContent","rulesBuilderContent","pr","MenuItemWrapper","MenuItem","icon","mx","RulesNavigationMenu","IndexChildren","RulesBuilderModal","openRulesInfo","closeRuleBuilderModal","openRuleBuilderNamePrompt","RULE_BUILDER_NAME_PROMPT","openRuleBuilderRulePrompt","RULE_BUILDER_RULE_PROMPT","openRuleBuilderSavePrompt","RULE_BUILDER_SAVE_PROMPT","touched","ModalWithHeader","headerContent","maxWidth","closeOnClickOutside","closeOnEscape","RulesBuilderPrompt","closePrompt","closeRuleBuilder","message","RulesBuilderNamePrompt","RulesBuilderRulePrompt","formMode","setIsSubmitting","handleSave","ctaText","toLocaleLowerCase","ruleBuilderBreakpoints","ADD_SCORING_RULE","RulesBuilderContainer","setShowHelpSection","handleSuccess","onRequestSuccess","addRule","updateRule","initialFormValues","breakpoints","flexBasis","defaultIndex","direction","pt","overflowY","flexGrow","flexShrink","RulesBuilderSavePrompt","useAddListEntry","lists","useDeleteList","removeQueries","useDeleteListEntry","useListItemsData","variables","usePaginatedQuery","resource","limit","skip","searchQuery","refetchListsQueries","paginationVariables","exact","useMerchants","selectedMerchant","ml_score_enabled","RuleExample","useSyntaxHighlighting","getLeafRenderer","renderElement","renderLeaf","contentEditable","spellCheck","tokensToSkip","tokenize","RulesExampleContainer","SearchIcon","IconActionSearch","ClearButton","space","ClearPlaceHolder","SearchInput","searchTerm","setSearchTerm","prefix","suffix","VerticalLine","MasterDetailsSearchInput","totalCount","toLocaleString","singular","plural","count","MasterDetailsHeaderLayout","MasterDetailsHeaderLayoutLeft","MasterDetailsHeaderLayoutRight","Section","additionalPath","getItemLabel","getItemValue","setValue","handleOnChange","selected","isEqual","selectedItem","itemToString","hasErrors","KeyCodes","TabsProvider","activeTabIndex","tabs","prevArrow","LEFT_ARROW","UP_ARROW","nextArrow","RIGHT_ARROW","DOWN_ARROW","tab","some","t","createRef","nextTab","slice","reverse","ScrollSpyContext","ScrollSpyProvider","setIsInView","refs","reduce","acc","curr","observer","IntersectionObserver","entry","prev","isIntersecting","forEach","observe","disconnect","scrollTo","opts","root","window","obj","top","offsetTop","behavior","UnorderedList","StyledUnorderedList","SyntaxHighlightEditable","rest","decorate","node","ranges","isText","tokens","start","token","includes","push","anchor","offset","booleanTypes","booleanOperatorTypes","arithmeticOperatorTypes","tokenStyle","Output","isOperator","isBoolean","isRuntimeBoolean","isNumber","isRuntimeNumber","isString","isRuntimeString","successDark","successLight","isMetadata","dangerDark","dangerLight","isList","isPlaceholder","Highlighted","getRuntimeType","attributes","leaf","runtimeType","setRuntimeType","child","firstElementChild","attr","getNamedItem","padding","replace","PredicateLexer","Lexer","VOCABULARY","constructor","input","super","this","_interp","LexerATNSimulator","_ATN","ruleNames","_serializedATN","channelNames","modeNames","__ATN","ATNDeserializer","deserialize","Utils","Not","IsMissing","Exists","GreaterThan","GreaterThanEqual","LessThan","LessThanEqual","Equal","NotEqual","In","Or","And","True","False","String","OpenParen","CloseParen","OpenBracket","CloseBracket","Property","Metadata","DefinedList","Comma","WHITESPACE","OTHERS","_LITERAL_NAMES","_SYMBOLIC_NAMES","VocabularyImpl","chars","ANTLRInputStream","lexer","CommonTokenStream","getTokens","vocabulary","getSymbolicName","normaliseTokens","sizing","Button","variants","medium","large","DeleteButton","dataCy","as","childrenWithIndex","Children","isValidElement","cloneElement","Tabs","BaseTabList","TabList","BaseTab","borders","success","Tab","TabPanels","TabPanel","tabId","ModalHeader","closeButton","boxShadow","zIndex","position","MasterDetailsHeader","Overlay","modalBorderMap","alert","Content","borderColor","ModalContent","CloseButtonHitBox","CloseButton","Portal","ReactDOM","createPortal","document","body","stopPropagation","onKeyUp","aria-labelledby","aria-describedby","aria-modal","TableWrapper","EmptyTableCell","TableCell","onDeleteEntry","canDeleteEntry","tableContent","colSpan","k","cursor","tableHeaderContent","header"],"mappings":"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ACA,UA/BSZ,EAmCYa,UAAsB,CAAC,gBAnCnCb,EAqCYU,UAAsB,CAC3C,MACA,YACA,SACA,cACA,mBACA,WACA,gBACA,QACA,WACA,KACA,KACA,MACA,OACA,QACA,SACA,SACA,YACA,aACA,cACA,eACA,WACA,WACA,cACA,QACA,aACA,SACA,gBACA,QACA,KACA,UAnESV,EAsEa2C,eAA4C,MAClEvmB,OACAA,OACAA,OACAA,EACA,MACA,OACA,MACA,OACA,MACA,YACAA,OACAA,OACAA,OACAA,OACAA,OACAA,OACAA,EACA,MACA,MACA,MACA,WACAA,OACAA,OACAA,EACA,OA/FS4jB,EAiGa4C,gBAA6C,MACnExmB,EACA,MACA,YACA,SACA,cACA,mBACA,WACA,gBACA,QACA,WACA,KACA,KACA,MACA,OACA,QACA,SACA,SACA,YACA,aACA,cACA,eACA,WACA,WACA,cACA,QACA,aACA,UA5HS4jB,EA8HYE,WAAyB,IAAI2C,iBAClD7C,EAAe2C,eACf3C,EAAe4C,gBACf,IAjIS5C,EAyKYW,eACrB,6yQA1KSX,EAkSGc,W,EC9ShB,MAAMrI,EAAYlf,IAChB,MAAMupB,EAAQ,IAAIC,mBAAiBxpB,GAC7BypB,EAAQ,IAAIhD,EAAe8C,GAC3BpF,EAAS,IAAIuF,oBAAkBD,GAsBrC,IACEtF,EAAO3L,OACP,MAAOtG,IAET,MAxByBiS,KACvB,IAAKA,EACH,MAAO,GAeT,OAZUA,EACPwF,YACApuB,KACEwmB,IAAD,CAEIrnB,GAAIqnB,EAAEthB,KACNA,KAAMgpB,EAAMG,WAAWC,gBAAgB9H,EAAEthB,MACzC6L,QAASyV,EAAE/hB,SAGhBiL,QAAQ8W,IAAgB,IAAVA,EAAErnB,MASdovB,CAAgB3F,K,weCpBzB,MAAM4F,EACG,OADHA,EAEI,OAGJC,EAASryB,kBAAOoY,IAAPpY,CAAH,IACRygB,kBAAQ,CACR6R,SAAU,CACRC,OAAQ,CAAEjvB,OAAO,GAAD,OAAK8uB,GAAiBjW,MAAM,GAAD,OAAKiW,IAChDI,MAAO,CAAElvB,OAAO,GAAD,OAAK8uB,GAAgBjW,M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","file":"static/js/Rules.02a2978a.chunk.js","sourcesContent":["import React, { useMemo } from 'react';\nimport Flex from 'components/Flex';\nimport { Box, PrimaryButton, TextHeadingThree } from '@cko/primitives';\nimport { IconActionAdd } from '@cko/icons';\nimport styled from 'styled-components';\nimport usePermissions from 'hooks/usePermissions';\nimport { FormMode } from 'types/models';\nimport { useRulesBuilderModal } from 'features/RulesBuilder/RulesBuilderContainer/RulesBuilderContainer';\n\nconst AddIcon = styled(IconActionAdd)`\n  margin-right: 5px;\n  font-size: 16px;\n  vertical-align: text-bottom;\n  & > path {\n    fill: white;\n  }\n`;\n\nconst RulesHeader: React.FunctionComponent = () => {\n  const { openModal } = useRulesBuilderModal();\n\n  const { hasPermission } = usePermissions();\n\n  const hideCreationButtons = useMemo(() => {\n    return !hasPermission('prism:rule:write');\n  }, [hasPermission]);\n\n  return (\n    <Flex alignItems=\"center\" justifyContent=\"space-between\">\n      <Flex alignItems=\"center\" flex=\"1 0 auto\">\n        <Box>\n          <TextHeadingThree>Rules</TextHeadingThree>\n        </Box>\n      </Flex>\n      {!hideCreationButtons && (\n        <PrimaryButton\n          onClick={() => {\n            openModal({ mode: FormMode.Add, modalId: 'Rule:RulesContainer' });\n          }}\n          data-cy=\"create-rule-button\"\n        >\n          <AddIcon />\n          Create new rule\n        </PrimaryButton>\n      )}\n    </Flex>\n  );\n};\n\nexport default RulesHeader;\n","import React, { useState } from 'react';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\nimport useAlerts from 'hooks/useAlerts';\nimport DeleteConfirmationModal from 'components/DeleteConfirmationModal/DeleteConfirmationModal';\nimport { useDeleteRule } from 'hooks/api/rules';\nimport { queryCache } from 'react-query';\nimport endpoints from 'api/endpoints';\nimport { useRulesBuilderModal } from 'features/RulesBuilder/RulesBuilderContainer/RulesBuilderContainer';\n\ninterface ModalData {\n  name: string;\n  id: string;\n}\n\nconst DeleteRuleContainer = () => {\n  const [submissionErrorMessage, setSubmissionError] = useState<string | null>(\n    null\n  );\n  const [loading, setLoading] = useState(false);\n\n  const { modalData, closeModal } = useModalManager<ModalData>(\n    Modals.DELETE_SCORING_RULE\n  );\n\n  const { closeModal: closeRuleModal } = useRulesBuilderModal();\n\n  const { showAlert } = useAlerts();\n\n  const handleClose = () => {\n    setSubmissionError(null);\n    closeModal();\n    closeRuleModal();\n  };\n\n  const handleSuccess = () => {\n    showAlert('Rule successfully deleted');\n    handleClose();\n    queryCache.invalidateQueries(endpoints.rules);\n  };\n\n  const [deleteRule] = useDeleteRule(handleSuccess);\n\n  if (!modalData) {\n    return null;\n  }\n\n  return (\n    <DeleteConfirmationModal\n      itemType=\"rule\"\n      handleClose={handleClose}\n      submissionErrorMessage={submissionErrorMessage}\n      loading={loading}\n      itemName={modalData.name}\n      onCancel={handleClose}\n      onDelete={async () => {\n        setLoading(true);\n        try {\n          await deleteRule(`${modalData.id}`);\n          setLoading(false);\n        } catch (error) {\n          if (error.response?.status === 409) {\n            setSubmissionError(\n              `This rule is referenced in Routing and cannot be deleted.`\n            );\n          } else {\n            setSubmissionError('Technical error. Please try again later.');\n          }\n          setLoading(false);\n        }\n      }}\n    />\n  );\n};\n\nexport default DeleteRuleContainer;\n","import React from 'react';\nimport { Panel, Box, Flex, Text, Link } from '@cko/primitives';\nimport Grid from 'components/Grid';\nimport DataTable from 'components/DataTable';\nimport RulesHeaderContainer from '../RulesHeaderContainer';\nimport { ScoringRule, FormMode } from 'types/models';\nimport DeleteRuleContainer from 'containers/DeleteRuleContainer';\nimport { useRulesData } from 'hooks/api/rules';\nimport { ErrorPanel } from 'components/ErrorScreen/ErrorScreen';\nimport RulesBuilderContainer from 'features/RulesBuilder/RulesBuilderContainer';\nimport { useRulesBuilderModal } from 'features/RulesBuilder/RulesBuilderContainer/RulesBuilderContainer';\n\nexport const deserializeTags = (tags: string[]) => tags.join(', ');\n\nconst RulesContainer = () => {\n  const { data, error } = useRulesData();\n\n  const { openModal } = useRulesBuilderModal();\n\n  if (!data) {\n    return null;\n  }\n\n  if (error) {\n    return (\n      <Flex\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        height=\"calc(100vh - 120px)\"\n      >\n        <ErrorPanel>\n          <Text fontSize={1} lineHeight={1}>\n            Something went wrong. Please try again or you can get in touch with\n            the support team at:\n            <Link href=\"mailto:prism-support@checkout.com\">\n              prism-support@checkout.com\n            </Link>\n          </Text>\n        </ErrorPanel>\n      </Flex>\n    );\n  }\n\n  const transformedData = data.summaries.map((x) => ({\n    ...x,\n    tags: deserializeTags(x.tags),\n  }));\n\n  return (\n    <>\n      <Panel>\n        <Grid gridTemplateRows=\"50px 75vh 60px\">\n          <Box py={2} px={3}>\n            <RulesHeaderContainer />\n          </Box>\n          <DataTable<ScoringRule>\n            onInteraction={(item) =>\n              openModal({\n                ...item,\n                mode: FormMode.EditDelete,\n                modalId: 'Rule:RulesContainer',\n              })\n            }\n            tableHeaders={['Rule name', 'Tags']}\n            items={transformedData}\n            itemsToDisplay={['name', 'tags']}\n            cyTag=\"blacklists-master-details-values\"\n          />\n        </Grid>\n      </Panel>\n      <RulesBuilderContainer modalId=\"Rule:RulesContainer\" />\n      <DeleteRuleContainer />\n    </>\n  );\n};\n\nexport default RulesContainer;\n","import React from 'react';\nimport { RulesContainer } from 'features/RulesBuilder/RulesContainer';\nimport styled from 'styled-components';\nimport { ModalManagerProvider } from 'contexts/ModalManagerContext';\nimport { Modals } from 'types/enums/modals';\nimport RulesInfoModalContainer from 'features/RulesBuilder/RulesInfoModalContainer';\nimport PageHeader from 'components/PageHeader';\n\nconst Container = styled.div`\n  height: calc(100vh - 120px);\n`;\n\nconst Rules: React.FunctionComponent = () => {\n  return (\n    <ModalManagerProvider>\n      <Container>\n        <PageHeader title=\"Rules\" modalKey={Modals.RULE_PROFILE_INFO} />\n        <RulesContainer />\n        <RulesInfoModalContainer />\n      </Container>\n    </ModalManagerProvider>\n  );\n};\n\nexport default Rules;\n","export enum Modals {\n  ADD_BLACKLIST_ENTRY = 'ADD_BLACKLIST_ENTRY',\n  DELETE_BLACKLIST_ENTRY = 'DELETE_BLACKLIST_ENTRY',\n  IMPORT_BLACKLIST_ENTRY = 'IMPORT_BLACKLIST_ENTRY',\n  ADD_SCORING_RULE = 'ADD_SCORING_RULE',\n  DELETE_SCORING_RULE = 'DELETE_SCORING_RULE',\n  ADD_RISK_PROFILE_SCORING_RULE = 'ADD_RISK_PROFILE_SCORING_RULE',\n  ADD_LIST = 'ADD_LIST',\n  ADD_LISTS_ENTRY = 'ADD_LISTS_ENTRY',\n  DELETE_LIST_ENTRY = 'DELETE_LIST_ENTRY',\n  DELETE_CUSTOM_LIST = 'DELETE_CUSTOM_LIST',\n  ADD_ROUTING_TREE_NODE = 'ADD_ROUTING_TREE_NODE',\n  ROUTING_INFO = 'ROUTING_INFO',\n  ROUTING_INFO_BINARY = 'ROUTING_INFO_BINARY',\n  ROUTING_STEP_INFO = 'ROUTING_STEP_INFO',\n  RISK_PROFILE_INFO = 'RISK_PROFILE_INFO',\n  RULE_PROFILE_INFO = 'RULE_PROFILE_INFO',\n  LIST_INFO = 'LIST_INFO',\n  ADD_RISK_PROFILE = 'ADD_RISK_PROFILE',\n  ROUTING_RISK_PROFILE_FORM = 'ROUTING_RISK_PROFILE_FORM',\n  ROUTING_ML_MODULE_FORM = 'ROUTING_ML_MODULE_FORM',\n  DELETE_RISK_PROFILE = 'DELETE_RISK_PROFILE',\n  RENAME_RISK_PROFILE = 'RENAME_RISK_PROFILE',\n  COPY_RISK_PROFILE = 'COPY_RISK_PROFILE',\n  RESET_ROUTING_TREE_DATA = 'RESET_ROUTING_TREE_DATA',\n  SAVE_PRIMARY_ROUTING_TREE_DATA = 'SAVE_PRIMARY_ROUTING_TREE_DATA',\n  PROMOTE_DRAFT_ROUTING_TREE = 'PROMOTE_DRAFT_ROUTING_TREE',\n  RULES_EDITOR_INFO = 'RULES_EDITOR_INFO',\n  RULE_BUILDER_NAME_PROMPT = 'RULE_BUILDER_NAME_PROMPT',\n  RULE_BUILDER_RULE_PROMPT = 'RULE_BUILDER_RULE_PROMPT',\n  RULE_BUILDER_SAVE_PROMPT = 'RULE_BUILDER_SAVE_PROMPT',\n  DELETE_ROUTING_TREE_ELEMENT = 'DELETE_ROUTING_TREE_ELEMENT',\n  ROUTING_CREATE_RISK_PROFILE_FORM = 'ROUTING_CREATE_RISK_PROFILE_FORM',\n  ML_INFO_MODAL = 'ML_INFO_MODAL',\n}\n","import {\n  ModalManagerStateContext,\n  ModalManagerSetContext,\n} from 'contexts/ModalManagerContext/ModalManagerContext';\nimport { useContext, useCallback } from 'react';\n\nconst useModalManager = <T extends any>(key: string) => {\n  type ModalData = T | null | undefined;\n  const modals = useContext<Record<string, ModalData>>(\n    ModalManagerStateContext\n  );\n\n  const setModals = useContext(ModalManagerSetContext);\n\n  const openModal = useCallback(\n    (data: ModalData = {} as T) => {\n      setModals((modals) => ({ ...modals, [key]: data }));\n    },\n    [key, setModals]\n  );\n\n  const closeModal = useCallback(() => {\n    openModal(null);\n  }, [openModal]);\n\n  const modalData = modals[key];\n\n  return {\n    modalData: modalData as T,\n    openModal,\n    closeModal,\n  };\n};\n\nexport default useModalManager;\n","import React, { useState } from 'react';\n\nexport const ModalManagerStateContext = React.createContext({});\n\nexport const ModalManagerSetContext = React.createContext<\n  React.Dispatch<React.SetStateAction<{}>>\n>(() => {});\n\ninterface Props {\n  defaultModals?: Record<string, any>;\n}\n\nexport const ModalManagerProvider: React.FunctionComponent<Props> = ({\n  children,\n  defaultModals = {},\n}) => {\n  const [modals, setModals] = useState<Record<string, any>>(defaultModals);\n  return (\n    <ModalManagerStateContext.Provider value={modals}>\n      <ModalManagerSetContext.Provider value={setModals}>\n        {children}\n      </ModalManagerSetContext.Provider>\n    </ModalManagerStateContext.Provider>\n  );\n};\n","import useHeaders from '../useRequestHeaders';\nimport { put } from 'api/utils';\nimport useAuth from 'hooks/useAuth';\nimport { AxiosRequestConfig } from 'axios';\nimport { useCallback } from 'react';\n\nconst usePutRequest = <RequestType, ResponseType = {}>(\n  url: string,\n  defaultOptions: AxiosRequestConfig = {}\n) => {\n  const createHeaders = useHeaders();\n  const auth = useAuth();\n\n  const request = useCallback(\n    async (\n      data: RequestType,\n      path?: string,\n      options: AxiosRequestConfig = defaultOptions\n    ) => {\n      const headers = await createHeaders();\n\n      const maybePath = path ? `/${path}` : '';\n\n      try {\n        const response = await put<RequestType, ResponseType>(\n          `${url}${maybePath}`,\n          data,\n          {\n            ...options,\n            headers: {\n              ...headers,\n              ...(options && options.headers),\n            },\n          }\n        );\n\n        return response.data;\n      } catch (error) {\n        if (error.response.status === 401) {\n          auth.logout();\n        }\n        throw error;\n      }\n    },\n    [auth, createHeaders, defaultOptions, url]\n  );\n\n  return request;\n};\n\nexport default usePutRequest;\n","import usePutRequest from 'hooks/api/common/usePutRequest';\nimport { useMutation, MutateConfig } from 'react-query';\nimport usePostRequest from './usePostRequest';\nimport { AxiosError } from 'axios';\n\nconst requestMap = {\n  put: usePutRequest,\n  post: usePostRequest,\n};\n\nexport const useAddUpdateMutation = <RequestType, ResponseType = {}>(\n  requestType: 'post' | 'put',\n  endpoint: string,\n  mutationOptions: MutateConfig<\n    ResponseType,\n    AxiosError<ResponseType>,\n    { data: RequestType; path?: string }\n  > = {}\n) => {\n  const useRequest = requestMap[requestType];\n  const request = useRequest<RequestType, ResponseType>(endpoint);\n\n  return useMutation<\n    ResponseType,\n    AxiosError<ResponseType>,\n    { data: RequestType; path?: string }\n  >(({ data, path }) => request(data, path), {\n    ...mutationOptions,\n    throwOnError: true,\n  });\n};\n","import { AlertContext } from 'contexts/AlertProvider';\nimport { useContext } from 'react';\n\nconst useAlerts = () => {\n  return useContext(AlertContext);\n};\n\nexport default useAlerts;\n","import styled from 'styled-components';\nimport { TextInline } from '@cko/primitives';\n\n// This does not seem to work properly in the rules info modal\nconst Strong = styled(TextInline).attrs(() => ({\n  $as: 'strong',\n  fontWeight: 500,\n}))``;\n\nexport default Strong;\n","import styled from 'styled-components';\nimport { Text } from '@cko/primitives';\n\nconst ParagraphText = styled(Text).attrs(() => ({\n  lineHeight: '24px',\n  mb: 2,\n}))``;\n\nexport default ParagraphText;\n","import React, { useState } from 'react';\nimport { Tooltip } from '@cko/tooltip';\nimport { Placement } from '@popperjs/core';\nimport { Box } from '@cko/primitives';\nimport 'styled-components/macro';\n\ninterface Props {\n  text: string | undefined;\n  enabled: boolean;\n  defaultDirection?: Placement;\n}\n\nconst TooltipButtonWrapper: React.FunctionComponent<Props> = ({\n  text,\n  children,\n  enabled,\n  defaultDirection = 'top',\n}) => {\n  const [show, setShow] = useState(false);\n\n  if (!enabled || !text) return <>{children}</>;\n\n  return (\n    <Tooltip text={text} show={show} defaultDirection={defaultDirection}>\n      <Box\n        css={`\n          button {\n            pointer-events: ${enabled ? 'none' : 'auto'};\n          }\n        `}\n        onMouseEnter={() => setShow(true)}\n        onMouseLeave={() => setShow(false)}\n      >\n        {children}\n      </Box>\n    </Tooltip>\n  );\n};\n\nexport default TooltipButtonWrapper;\n","import React from 'react';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\nimport { Modal } from '@cko/primitives';\n\ninterface Props {\n  modalKey: Modals;\n  title: string;\n}\n\nconst InfoModal: React.FunctionComponent<Props> = ({\n  modalKey,\n  title,\n  children,\n}) => {\n  const { modalData, closeModal } = useModalManager(modalKey);\n\n  if (!modalData) {\n    return null;\n  }\n\n  return (\n    <Modal size=\"large\" type=\"success\" title={title} closeModal={closeModal}>\n      {children}\n    </Modal>\n  );\n};\n\nexport default InfoModal;\n","import React from 'react';\nimport { OutlineButton } from '@cko/primitives';\nimport { IconActionInfo } from '@cko/icons';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\nimport 'styled-components/macro';\n\ninterface Props {\n  modalKey: Modals;\n  buttonText?: string;\n}\n\nconst OpenInfoModalButton: React.FunctionComponent<Props> = ({\n  modalKey,\n  buttonText = 'Learn more',\n}) => {\n  const { openModal } = useModalManager(modalKey);\n\n  return (\n    <OutlineButton onClick={() => openModal()}>\n      <IconActionInfo\n        css={`\n          margin-right: 6px;\n        `}\n      />\n      {buttonText}\n    </OutlineButton>\n  );\n};\n\nexport default OpenInfoModalButton;\n","type Error = string | null;\ntype Errors<Values> = { [k in keyof Values]?: Error };\n\ntype Validator<Values> = (\n  value: string,\n  values: Values\n) => string | null | Promise<string | null>;\ntype ValidatorOptions<V> = Record<keyof V, Validator<V>[]>;\ntype ValidatorFunc<Values> = (\n  values: Values\n) => Record<string, Error> | Promise<Record<string, Error>>;\nexport type ValidatorObj<K extends string, V> = Record<K, ValidatorFunc<V>>;\n\nconst validateValue = async <Values>(\n  value: string,\n  validators: Validator<Values>[],\n  values: Values\n) => {\n  for (const validator of validators) {\n    const result = await validator(value, values);\n    if (result !== null) {\n      return result;\n    }\n  }\n\n  return null;\n};\n\nconst validateValues = async <Values extends Record<string, any>>(\n  values: Values,\n  validatorOptions: ValidatorOptions<Values>\n) => {\n  const errors: Errors<Values> = {};\n  const keys = Object.keys(validatorOptions) as (keyof Values)[];\n\n  for (let index = 0; index < keys.length; index++) {\n    const key = keys[index];\n    const validators = validatorOptions[key];\n    const errorMessage = await validateValue<Values>(\n      values[key],\n      validators,\n      values\n    );\n\n    if (errorMessage !== null) {\n      errors[key] = errorMessage;\n    }\n  }\n\n  return errors;\n};\n\nconst createValidator = <Values>(\n  validatorOptions: ValidatorOptions<Values>\n) => {\n  return async (values: Values) => {\n    return await validateValues<Values>(values, validatorOptions);\n  };\n};\n\nexport default createValidator;\n","import is from 'is_js';\n\nexport const required = (msg = 'This value is required') => {\n  return (value: string) => {\n    if (\n      is.empty(value) ||\n      is.not.existy(value) ||\n      (typeof value === 'string' && is.empty(value.trim()))\n    ) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const number = (msg = 'This value must be a number') => {\n  return (value: string) => {\n    if (is.not.number(Number(value))) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const integer = (msg = 'This value must be a integer') => {\n  return (value: string) => {\n    if (is.not.integer(Number(value))) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const characterCount = (\n  length: number,\n  msg = 'The value must be a certain length'\n) => {\n  return (value: string) => {\n    if (value.length !== length) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const email = (msg = 'The value must be a valid email address') => {\n  return (value: string) => {\n    if (is.not.email(value)) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const emailDomain = (msg = 'The value must be a valid email domain') => {\n  return (value: string) => {\n    if (is.not.email(`dummy@${value}`)) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const ipAddress = (msg = 'The value must be a valid ipv4 address') => {\n  return (value: string) => {\n    if (is.not.ipv4(value)) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const creditCard = (\n  msg = 'The value must be a valid credit card number'\n) => {\n  return (value: string) => {\n    if (is.not.creditCard(value)) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const requiredObject = (msg = 'This value is required') => {\n  return (value: any) => {\n    for (let val of Object.values(value)) {\n      if (is.empty(val) || is.not.existy(val)) {\n        return msg;\n      }\n    }\n\n    return null;\n  };\n};\n\nexport const maxLength = (\n  length: number,\n  msg = `The value exceeds the maximum length of ${length} characters`\n) => {\n  return (value: string) => {\n    if (value.length >= length) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const expectedCharacters = (\n  expression: RegExp,\n  msg = 'The value contains invalid characters'\n) => {\n  return (value: string) => {\n    if (!expression.test(value)) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const regexMatch = (\n  expression: RegExp,\n  msg = 'The value contains invalid characters'\n) => {\n  return (value: string) => {\n    if (expression.test(value)) {\n      return msg;\n    }\n    return null;\n  };\n};\n\nexport const duplicate = <Values>(\n  otherkey: keyof Values,\n  msg = 'The value must be a unique'\n) => {\n  return (value: Values[keyof Values], values: Values) => {\n    if (value === values[otherkey]) {\n      return msg;\n    }\n    return null;\n  };\n};\n","import React, { useContext, createContext, useMemo, useState } from 'react';\nimport RulebuilderContent from '../RuleBuilderContent';\n\nexport interface RulesBuilderContext {\n  helpContentKey: string;\n  setHelpContentKey: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport const RulesBuilderHelpContext = createContext<\n  RulesBuilderContext | undefined\n>(undefined);\n\nexport const RulesBuilderHelpProvider: React.FunctionComponent = ({\n  children,\n}) => {\n  const [helpContentKey, setHelpContentKey] = useState(\n    RulebuilderContent.exampleCombinations.default.helpKey\n  );\n\n  const value = useMemo(() => {\n    return {\n      helpContentKey,\n      setHelpContentKey,\n    };\n  }, [helpContentKey]);\n\n  return (\n    <RulesBuilderHelpContext.Provider value={value}>\n      {children}\n    </RulesBuilderHelpContext.Provider>\n  );\n};\n\nexport const useRulesBuilderHelp = () => {\n  const context = useContext(RulesBuilderHelpContext);\n\n  if (context === undefined) {\n    throw new Error(\n      'useRulesBuilderHelp must be used within a RulesBuilderHelpProvider'\n    );\n  }\n\n  return context;\n};\n","import endpoints from 'api/endpoints';\nimport { useAddUpdateMutation } from '../common/useAddUpdateMutation';\nimport { ScoringRuleFormData } from 'types/models';\n\nexport interface AddRuleResponse {\n  id: string;\n}\n\nexport const useAddRule = (\n  onSuccess: () => void,\n  onSettled: (values: ScoringRuleFormData & AddRuleResponse) => void\n) => {\n  return useAddUpdateMutation<ScoringRuleFormData, AddRuleResponse>(\n    'post',\n    endpoints.rules,\n    {\n      onSuccess,\n      onSettled: (data, _, vars) => {\n        data && onSettled({ ...data, ...vars.data });\n      },\n    }\n  );\n};\n","import endpoints from 'api/endpoints';\nimport { useAddUpdateMutation } from '../common/useAddUpdateMutation';\nimport { ScoringRuleFormData } from 'types/models';\nimport { AddRuleResponse } from '.';\n\nexport const useUpdateRule = (onSuccess: () => void) => {\n  return useAddUpdateMutation<ScoringRuleFormData, AddRuleResponse>(\n    'put',\n    endpoints.rules,\n    {\n      onSuccess,\n    }\n  );\n};\n","import endpoints from 'api/endpoints';\nimport { useDeleteMutation } from '../common/useDeleteMutation';\n\nexport const useDeleteRule = (onSuccess: () => void) => {\n  return useDeleteMutation(endpoints.rules, { onSuccess });\n};\n","import useGetRequest from 'hooks/api/common/useGetRequest';\nimport { useQuery } from 'react-query';\nimport endpoints from 'api/endpoints';\nimport { AvailableProperty } from 'types/models';\nimport { AxiosError } from 'axios';\n\nexport interface AvailablePropertiesResponse {\n  properties: AvailableProperty[];\n}\n\nexport const useAvailablePropertiesData = () => {\n  const req = useGetRequest<AvailablePropertiesResponse>();\n  return useQuery<\n    AvailablePropertiesResponse,\n    AxiosError<AvailablePropertiesResponse>\n  >([endpoints.rules, 'available-properties'], () =>\n    req(`${endpoints.rules}/available-properties`)\n  );\n};\n","import useHeaders from '../useRequestHeaders';\nimport { del } from 'api/utils';\nimport useAuth from 'hooks/useAuth';\nimport { useCallback } from 'react';\n\nconst useDeleteRequest = (baseUrl: string) => {\n  const createHeaders = useHeaders();\n  const auth = useAuth();\n\n  const request = useCallback(\n    async (path: string) => {\n      const headers = await createHeaders();\n\n      try {\n        const response = await del(`${baseUrl}/${path}`, {\n          headers,\n        });\n        return response.data;\n      } catch (error) {\n        if (error.response.status === 401) {\n          auth.logout();\n        }\n        throw error;\n      }\n    },\n    [auth, baseUrl, createHeaders]\n  );\n\n  return request;\n};\n\nexport default useDeleteRequest;\n","import { useMutation, MutateConfig } from 'react-query';\nimport useDeleteRequest from './useDeleteRequest';\nimport { AxiosError } from 'axios';\n\nexport const useDeleteMutation = <TResponse>(\n  endpoint: string,\n  mutationOptions: MutateConfig<TResponse, AxiosError, {}> = {}\n) => {\n  const request = useDeleteRequest(endpoint);\n\n  return useMutation<TResponse, AxiosError<TResponse>, string>(\n    (path) => request(path),\n    {\n      ...mutationOptions,\n      throwOnError: true,\n    }\n  );\n};\n","import { TabsContext } from 'contexts/TabsContext';\nimport { useCallback, useContext } from 'react';\n\nconst useTabsContext = () => {\n  const context = useContext(TabsContext);\n\n  if (context === undefined) {\n    throw new Error('useTabs must be used within a TabsContext');\n  }\n\n  return context;\n};\n\nconst useTabs = () => {\n  const {\n    setActiveTab,\n    registerTab,\n    handleKeyDown,\n    isActiveTab,\n    getTabRef,\n  } = useTabsContext();\n\n  const onKeyDown = useCallback(\n    (index: number) => (event: React.KeyboardEvent<HTMLButtonElement>) => {\n      const { keyCode } = event;\n      index !== undefined && handleKeyDown(index, keyCode);\n    },\n    [handleKeyDown]\n  );\n\n  const onClick = useCallback(\n    (index: number) => (\n      event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n    ) => {\n      event.preventDefault();\n      index !== undefined && setActiveTab(index);\n    },\n    [setActiveTab]\n  );\n\n  const getTabListProps = () => {\n    return {\n      id: 'tablist',\n      role: 'tablist',\n    };\n  };\n\n  const getTabPanelProps = ({ id }: { id: string }) => {\n    return {\n      id: `tabpanel-${id}`,\n      role: 'tabpanel',\n      'aria-labelledby': `tab-${id}`,\n    };\n  };\n\n  const getTabProps = useCallback(\n    ({\n      index,\n      disabled,\n      id,\n    }: {\n      index: number;\n      disabled?: boolean;\n      id: string;\n    }) => {\n      registerTab({ index, disabled, id });\n\n      return {\n        onKeyDown: onKeyDown(index),\n        onClick: onClick(index),\n        ref: getTabRef(id),\n        tabIndex: isActiveTab(index) ? 0 : -1,\n        disabled: disabled && !isActiveTab(index),\n        id: `tab-${id}`,\n        role: 'tab',\n        'aria-selected': isActiveTab(index),\n        'aria-controls': `tabpanel-${id}`,\n      };\n    },\n    [getTabRef, isActiveTab, onClick, onKeyDown, registerTab]\n  );\n\n  return {\n    getTabProps,\n    getTabPanelProps,\n    getTabListProps,\n    isActiveTab,\n    setActiveTab,\n  };\n};\n\nexport default useTabs;\n","import React, {\n  useContext,\n  createContext,\n  useMemo,\n  useCallback,\n  useState,\n} from 'react';\n\nimport {\n  createEditor,\n  Transforms,\n  Editor,\n  Range,\n  Node,\n  Descendant,\n  Point,\n} from 'slate';\nimport { withReact, ReactEditor } from 'slate-react';\nimport { withHistory, HistoryEditor } from 'slate-history';\n\nexport interface RulesEditorContext {\n  editor: Editor & ReactEditor;\n  insertPredicate: (predicate: string) => void;\n  insertPlaceholder: (length: number) => void;\n  removePlaceholder: () => void;\n  captureSelection: () => void;\n  readOnly: boolean;\n  setReadOnly: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nexport const RulesBuilderHelpContext = createContext<\n  RulesEditorContext | undefined\n>(undefined);\n\nconst removePlaceholderNodes = (\n  editor: Editor & HistoryEditor & ReactEditor\n) => {\n  const nodes = Editor.nodes(editor, {\n    at: [],\n    match: (n) => n.type === 'Placeholder',\n  });\n\n  for (const node of nodes) {\n    const at = node[1];\n    HistoryEditor.withoutSaving(editor, () => {\n      Transforms.removeNodes(editor, { at });\n    });\n  }\n};\n\nexport const RulesEditorContextProvider: React.FunctionComponent = ({\n  children,\n}) => {\n  const [selection, setSelection] = useState<Range | null>(null);\n  const [fragment, setFragment] = useState<Descendant[] | null>(null);\n  const [readOnly, setReadOnly] = useState(false);\n\n  const editor = useMemo(() => withReact(withHistory(createEditor())), []);\n\n  const captureSelection = useCallback(() => {\n    setSelection(editor.selection);\n    editor.selection && setFragment(Node.fragment(editor, editor.selection));\n  }, [editor]);\n\n  const restoreSelection = useCallback(() => {\n    const editorEnd = Editor.end(editor, []);\n\n    if (selection) {\n      const isOutsideEditorRange = Point.isAfter(\n        Range.end(selection),\n        editorEnd\n      );\n      if (isOutsideEditorRange) {\n        Transforms.select(editor, editorEnd);\n      } else {\n        Transforms.select(editor, selection);\n      }\n    } else {\n      Transforms.select(editor, editorEnd);\n    }\n  }, [editor, selection]);\n\n  const removePlaceholder = useCallback(() => {\n    removePlaceholderNodes(editor);\n    HistoryEditor.withoutSaving(editor, () => {\n      fragment && Transforms.insertFragment(editor, fragment);\n    });\n    restoreSelection();\n  }, [editor, fragment, restoreSelection]);\n\n  const insertPredicate = useCallback(\n    (predicate: string) => {\n      removePlaceholderNodes(editor);\n\n      HistoryEditor.withoutSaving(editor, () => {\n        fragment && Transforms.insertFragment(editor, fragment);\n      });\n\n      ReactEditor.focus(editor);\n\n      restoreSelection();\n\n      Transforms.insertText(editor, predicate);\n\n      Transforms.collapse(editor, { edge: 'end' });\n\n      captureSelection();\n\n      setFragment(null);\n    },\n    [captureSelection, editor, fragment, restoreSelection]\n  );\n\n  const insertPlaceholder = useCallback(\n    (length: number) => {\n      const placeholderPredicate = ' '.repeat(length);\n\n      ReactEditor.focus(editor);\n\n      HistoryEditor.withoutSaving(editor, () => {\n        Transforms.insertNodes(editor, {\n          type: 'Placeholder',\n          text: placeholderPredicate,\n        });\n      });\n    },\n    [editor]\n  );\n\n  const value = useMemo(() => {\n    return {\n      editor,\n      insertPredicate,\n      insertPlaceholder,\n      removePlaceholder,\n      captureSelection,\n      readOnly,\n      setReadOnly,\n    };\n  }, [\n    captureSelection,\n    editor,\n    insertPlaceholder,\n    insertPredicate,\n    readOnly,\n    removePlaceholder,\n  ]);\n\n  return (\n    <RulesBuilderHelpContext.Provider value={value}>\n      {children}\n    </RulesBuilderHelpContext.Provider>\n  );\n};\n\nexport const useRulesEditor = () => {\n  const context = useContext(RulesBuilderHelpContext);\n\n  if (context === undefined) {\n    throw new Error(\n      'useRulesEditor must be used within a RulesEditorContextProvider'\n    );\n  }\n\n  return context;\n};\n","import {\n  createValidator,\n  required,\n  maxLength,\n  regexMatch,\n} from 'utils/validator';\nimport endpoints from 'api/endpoints';\nimport useGetRequest from 'hooks/api/common/useGetRequest';\nimport useMlScoreEnabled from 'hooks/useMlScoreEnabled';\nimport { ValidateRuleResponse } from 'types/models';\n\nconst errorCodeMap: Record<number, string> = {\n  1000: 'Unexpected end of expression',\n  5000: 'Unknown token',\n  6000: 'Unexpected type',\n  6001: 'Type mismatch',\n  6002: 'Expected type of number',\n  6003: 'Expected type of string',\n  6004: 'Expected type of list',\n  6005: 'Expected type of boolean',\n  7000: 'Non-existent property',\n  9000: 'Invalid predicate',\n};\n\nconst getErrorMessage = (\n  errorCode: typeof errorCodeMap,\n  sourceText: string\n) => {\n  return `Error: ${errorCode},  The following text is invalid: ${sourceText}, please make sure that your rule is valid. `;\n};\n\nexport const useRuleEvaluator = () => {\n  const get = useGetRequest<ValidateRuleResponse>();\n\n  const evaluateRule = async (rule: string) => {\n    try {\n      const result = await get(`${endpoints.rules}/is-valid`, {\n        params: { predicate: rule },\n      });\n\n      const { is_valid, errors } = result;\n\n      if (is_valid) {\n        return null;\n      }\n\n      if (errors?.length) {\n        const errorMessage = getErrorMessage(\n          errorCodeMap[errors[0].error_code],\n          errors[0].source_context.offending_text\n        );\n\n        return errorMessage;\n      }\n\n      return 'Rule could not be validated';\n    } catch {\n      return 'Rule could not be validated';\n    }\n  };\n\n  return evaluateRule;\n};\n\nconst nameValidators = [required('Name is required'), maxLength(100)];\n\nconst useRuleValidator = () => {\n  const evaluateRule = useRuleEvaluator();\n\n  const isExpressionValid = () => {\n    return async (value: string) => {\n      const error = await evaluateRule(value);\n\n      return error;\n    };\n  };\n\n  const mlScoreEnabled = useMlScoreEnabled();\n\n  const mlScoreEnabledValidation = createValidator({\n    name: nameValidators,\n    predicate: [required('Rule is required'), isExpressionValid()],\n  });\n\n  const mlScoreDisabledValidation = createValidator({\n    name: nameValidators,\n    predicate: [\n      required('Rule is required'),\n      regexMatch(\n        /:score:/,\n        'CKO model score is not available to you at the moment. Please contact your customer support manager for details'\n      ),\n      isExpressionValid(),\n    ],\n  });\n\n  return mlScoreEnabled ? mlScoreEnabledValidation : mlScoreDisabledValidation;\n};\n\nexport default useRuleValidator;\n","import React, { useContext, createContext, useMemo, useState } from 'react';\nimport { useAvailablePropertiesData } from 'hooks/api/rules';\nimport { useListsData } from 'hooks/api/lists';\nimport {\n  AvailableProperty,\n  ListSummary,\n  ScoringRuleFormData,\n} from 'types/models';\nimport { Flex } from '@cko/primitives';\nimport Loader from 'components/Loader';\nimport useMlScoreEnabled from 'hooks/useMlScoreEnabled';\nimport { RulesBuilderHelpProvider } from '../RulesBuilderHelpContext';\nimport { RulesEditorContextProvider } from '../RulesEditorContext';\nimport { AddRuleResponse } from 'hooks/api/rules/useAddRule';\nimport { Formik } from 'formik';\nimport useRuleValidator from '../RulesBuilderForm/useRuleValidator';\nimport { ScrollSpyProvider } from 'hooks/useScrollSpy';\n\ninterface IRulesBuilderContext {\n  availableProperties: AvailableProperty[];\n  availableLists: ListSummary[];\n  submissionError: string | null;\n  setSubmissionError: React.Dispatch<React.SetStateAction<string | null>>;\n}\n\nexport const RulesBuilderContext = createContext<\n  IRulesBuilderContext | undefined\n>(undefined);\n\ninterface Props {\n  initalFormValues: {\n    name: string;\n    predicate: string;\n  };\n  handleSubmit: (\n    values: ScoringRuleFormData\n  ) => Promise<AddRuleResponse | undefined>;\n}\n\nexport const RulesBuilderProvider: React.FunctionComponent<Props> = ({\n  children,\n  initalFormValues,\n  handleSubmit,\n}) => {\n  const {\n    data: rulesData,\n    status: availablePropertiesStatus,\n  } = useAvailablePropertiesData();\n\n  const enabledSelectedMerchantMlScore = useMlScoreEnabled();\n\n  const { data: listsData, status: listsStatus } = useListsData();\n\n  const loading = useMemo(\n    () => availablePropertiesStatus === 'loading' || listsStatus === 'loading',\n    [availablePropertiesStatus, listsStatus]\n  );\n\n  const [submissionError, setSubmissionError] = useState<string | null>(null);\n\n  const ruleValidator = useRuleValidator();\n\n  const value = useMemo(() => {\n    const availableProperties = rulesData?.properties ?? [];\n    const availableLists = listsData?.summaries ?? [];\n    return {\n      availableProperties: enabledSelectedMerchantMlScore\n        ? availableProperties\n        : availableProperties.filter((availableProperty) => {\n            return availableProperty.name !== 'score';\n          }),\n      availableLists,\n      submissionError,\n      setSubmissionError,\n    };\n  }, [rulesData, listsData, submissionError, enabledSelectedMerchantMlScore]);\n\n  if (loading) {\n    return (\n      <Flex justifyContent=\"center\" height=\"70vh\">\n        <Loader size=\"large\" />\n      </Flex>\n    );\n  }\n\n  return (\n    <RulesBuilderContext.Provider value={value}>\n      <RulesBuilderHelpProvider>\n        <RulesEditorContextProvider>\n          <ScrollSpyProvider\n            keys={['examples', 'properties', 'operators', 'velocities']}\n          >\n            <Formik\n              initialValues={initalFormValues}\n              onSubmit={async (values, actions) => {\n                try {\n                  setSubmissionError(null);\n                  await handleSubmit(values);\n                } catch (e) {\n                  if (e.response?.status === 409) {\n                    setSubmissionError(\n                      ` A rule named \"${values.name}\" already exists.`\n                    );\n                  } else {\n                    setSubmissionError(\n                      'Technical error. Please try again later.'\n                    );\n                  }\n                } finally {\n                  actions.setSubmitting(false);\n                }\n              }}\n              validate={ruleValidator}\n              validateOnChange={false}\n            >\n              {children}\n            </Formik>\n          </ScrollSpyProvider>\n        </RulesEditorContextProvider>\n      </RulesBuilderHelpProvider>\n    </RulesBuilderContext.Provider>\n  );\n};\n\nexport const useRulesBuilder = () => {\n  const context = useContext(RulesBuilderContext);\n\n  if (context === undefined) {\n    throw new Error(\n      'useRuleBuilder must be used within a RulesBuilderProvider'\n    );\n  }\n\n  return context;\n};\n","import React from 'react';\nimport { Box, Text } from '@cko/primitives';\nimport Flex from 'components/Flex';\nimport { IconActionError } from '@cko/icons';\nimport styled from 'styled-components';\n\nconst ErrorIcon = styled(IconActionError)`\n  & > g {\n    fill: #cf5858;\n  }\n`;\n\nconst InlineAlert: React.FunctionComponent = ({ children }) => {\n  return (\n    <Box\n      bg=\"#F6E3E3\"\n      mt={3}\n      px={3}\n      py={2}\n      borderRadius={1}\n      data-testid=\"inline-alert\"\n    >\n      <Flex p={0}>\n        <Box>\n          <ErrorIcon />\n        </Box>\n        <Box pl={3}>\n          <Text color=\"#cf5858\" fontSize={0} lineHeight={0}>\n            {children}\n          </Text>\n        </Box>\n      </Flex>\n    </Box>\n  );\n};\n\nexport default InlineAlert;\n","import exampleCombinations from './example-combinations';\nimport availableProperties from './available-properties';\nimport operators from './operators';\nimport editor from './editor';\nimport velocityWizard from './velocity-wizard';\n\nconst content = {\n  exampleCombinations,\n  availableProperties,\n  operators,\n  editor,\n  velocityWizard,\n};\n\nexport default content;\n","const exampleCombinations = {\n  default: {\n    predicate: null,\n    content: [\n      'These are some common rules that many businesses have found useful to include in their routing.',\n      'Clicking on one will insert the whole combination, and you can then update anything you wish to personalise for your needs.',\n      'Rollover a combination to see a description of what the rule will do.',\n    ],\n    type: 'exampleCombinations',\n    helpKey: 'exampleCombinations.default',\n  },\n  amountAndCurrency: {\n    ':amount: > x': {\n      predicate: ':amount: > x',\n      content: ['Amount in transaction currency greater than X'],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.amountAndCurrency.:amount: > x',\n    },\n    ':amount: < x and :amount: > y': {\n      predicate: ':amount: < x and :amount: > y',\n      content: ['Amount in transaction currency between Y and X'],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.amountAndCurrency.:amount: < x and :amount: > y',\n    },\n    ':amount_in_usd:  > x': {\n      predicate: ':amount_in_usd:  > x',\n      content: ['Amount as converted in USD is greater than X'],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.amountAndCurrency.:amount_in_usd:  > x',\n    },\n    \":currency: in 'GBP','USD','EUR'\": {\n      predicate: \":currency: in ['GBP','USD','EUR']\",\n      content: [\n        'Transaction currency is in the following list : GBP, USD, EUR. ',\n        'Attention: currencies should always be defined by their 3 character ISO codes. E.g. GBP, USD, EUR ',\n        'Note: in most cases it is better to use Lists functionality as it allows you to reuse the same list in multiple rules without having to retype all the options. Refer to the Lists section to learn more about how lists work.',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.amountAndCurrency.:currency: in 'GBP','USD','EUR'\",\n    },\n  },\n  fraudScoreAndReference: {\n    ':score: < x and :score: > y': {\n      predicate: ':score: < x and :score: > y',\n      content: [\n        'The Checkout.com fraud score is between Y and X. This score is calculated by our machine learning model, trained on the payment data across customers, geographies and industries.',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.fraudScoreAndReference.:score: < x and :score: > y',\n    },\n    ':reference: in @default_references_list': {\n      predicate: ':reference: in @default_references_list',\n      content: [\n        \"A user-created list called 'Default references list' contains this payment's reference. Refer to the Lists section to learn more about how lists work.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.fraudScoreAndReference.:reference: in @default_references_list',\n    },\n    \":description: contains 'AAA'\": {\n      predicate: \":description: contains 'AAA'\",\n      content: ['Check payment description field for specific text'],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.fraudScoreAndReference.:description: contains 'AAA'\",\n    },\n  },\n  addresses: {\n    \":billing_address_city: = 'Default city'\": {\n      predicate: \":billing_address_city: = 'Default city'\",\n      content: [\n        \"The city in the billing address is 'Default city'. \\nAttention: this rule expects exact match in the way the city is filled in for the payment request. City 1 doesn't equal City1 or City One.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.addresses.:billing_address_city: = 'Default city'\",\n    },\n    \"not :billing_address_city: = 'Default city'\": {\n      predicate: \"not :billing_address_city: = 'Default city'\",\n      content: [\n        \"The city in the billing address is NOT 'Default city'. Attention: this rule expects exact match in the way the city is filled in for the payment request. City 1 doesn't equal City1 or City One.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.addresses.not :billing_address_city: = 'Default city'\",\n    },\n    ':billing_address_country: != :payment_ip_country:': {\n      predicate: ':billing_address_country: != :payment_ip_country:',\n      content: [\n        \"The billing address country is different from the customer's IP country.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.addresses.:billing_address_country: != :payment_ip_country:',\n    },\n    ':billing_address_country: != :phone_country:': {\n      predicate: ':billing_address_country: != :phone_country:',\n      content: [\n        \"The billing address country is different from the country code of the customer's mobile number.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.addresses.:billing_address_country: != :phone_country:',\n    },\n    'is_missing :billing_address_city: or is_missing :shipping_address_city:': {\n      predicate:\n        'is_missing :billing_address_city: or is_missing :shipping_address_city:',\n      content: [\n        'Either billing address city or shipping address city is missing',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.addresses.is_missing :billing_address_city: or is_missing :shipping_address_city:',\n    },\n    ':shipping_address_line1: = :billing_address_line1:': {\n      predicate: ':shipping_address_line1: = :billing_address_line1:',\n      content: [\n        'The address line 1 is the same in billing and shipping address',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.addresses.:shipping_address_line1: = :billing_address_line1:',\n    },\n    ':shipping_address_line1: = :billing_address_line1: and :billing_address_is_valid: and :shipping_address_is_valid:': {\n      predicate:\n        ':shipping_address_line1: = :billing_address_line1: and :billing_address_is_valid: and :shipping_address_is_valid:',\n      content: [\n        'The address line 1 is the same in billing and shipping address. And both of these addresses can be confirmed to be valid. ',\n        'Note: we use a catalogue of addresses to check entries against. That catalogue has the best address coverage for North America and Western Europe but might miss some valid addresses for other countries.',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.addresses.:shipping_address_line1: = :billing_address_line1: and :billing_address_is_valid: and :shipping_address_is_valid:',\n    },\n    ':billing_address_city: in @custom_list': {\n      predicate: ':billing_address_city: in @custom_list',\n      content: [\n        \"The billing address city is in the list called 'Custom list'. Refer to the Lists section to learn more about how lists work. \",\n        'Attention: the check performed against any list expects 100% match on spelling.',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.addresses.:billing_address_city: in @custom_list',\n    },\n    'not :billing_address_city: in @custom_list': {\n      predicate: 'not :billing_address_city: in @custom_list',\n      content: [\n        \"The billing address city can not be found in the 'Custom list'. Refer to the Lists section to learn more about how lists work.\",\n        'Attention: the check performed against any list expects 100% match on spelling.',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.addresses.not :billing_address_city: in @custom_list',\n    },\n    \":billing_address_country: = 'XX'\": {\n      predicate: \":billing_address_country: = 'XX'\",\n      content: [\n        'Billing Address country is XX.',\n        'Attention: countries in address fields are defined by 2 character ISO codes. E.g. GB, FR, US',\n      ],\n      type: 'exampleCombinations',\n      helpKey: \"exampleCombinations.addresses.:billing_address_country: = 'XX'\",\n    },\n    \":billing_address_postal_code: = '12345'\": {\n      predicate: \":billing_address_postal_code: = '12345'\",\n      content: ['Billing address postal code is 12345'],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.addresses.:billing_address_postal_code: = '12345'\",\n    },\n    \":billing_address_line1: = 'Avenue X'\": {\n      predicate: \":billing_address_line1: = 'Avenue X'\",\n      content: ['Line one of the billing address is Avenue X'],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.addresses.:billing_address_line1: = 'Avenue X'\",\n    },\n    \":billing_address_line2: contains 'XYZ'\": {\n      predicate: \":billing_address_line2: contains 'XYZ'\",\n      content: ['Second line of the billing address contains XYZ'],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.addresses.:billing_address_line2: contains 'XYZ'\",\n    },\n    ':payment_ip: = 1111111111': {\n      predicate: \":payment_ip: = '111.111.111.1'\",\n      content: ['Customer IP is \"111.111.111.1\"'],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.addresses.:payment_ip: = 1111111111',\n    },\n  },\n  cardDetails: {\n    \":bin: = '123456'\": {\n      predicate: \":bin: = '123456'\",\n      content: ['Card bin is 123456'],\n      type: 'exampleCombinations',\n      helpKey: \"exampleCombinations.:bin: = '123456'\",\n    },\n    ':bin: in @risky_bin_list': {\n      predicate: ':bin: in @risky_bin_list',\n      content: [\n        \"Card bin is in the list called 'risky bin list'. Refer to the Lists section to learn more about how lists work.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.cardDetails.:bin: in @risky_bin_list',\n    },\n    'not :bin: in @trusted_bin_list': {\n      predicate: 'not :bin: in @trusted_bin_list',\n      content: [\n        \"Card bin is NOT in the list called 'trusted bin list'.\\nRefer to the Lists section to learn more about how lists work.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.cardDetails.not :bin: in @trusted_bin_list',\n    },\n    \":card_brand: = 'VISA' or :card_brand: = 'MASTERCARD'\": {\n      predicate: \":card_brand: = 'VISA' or :card_brand: = 'MASTERCARD'\",\n      content: ['Card brand is either Visa or Mastercard'],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.cardDetails.:card_brand: = 'VISA' or :card_brand: = 'MASTERCARD'\",\n    },\n    \":card_brand: contains 'AME'\": {\n      predicate: \":card_brand: contains 'AME'\",\n      content: [\"Card brand contains 'AME'\"],\n      type: 'exampleCombinations',\n      helpKey: \"exampleCombinations.cardDetails.:card_brand: contains 'AME'\",\n    },\n    \":card_country: = 'XX'\": {\n      predicate: \":card_country: = 'XX'\",\n      content: [\n        'Card country is XX. Card country is derived from the bin. ',\n        'Attention: countries in address fields are defined by 2 character ISO codes. E.g. GB, FR, US',\n      ],\n      type: 'exampleCombinations',\n      helpKey: \"exampleCombinations.cardDetails.:card_country: = 'XX'\",\n    },\n    \":card_type: = 'Credit'\": {\n      predicate: \":card_type: = 'Credit'\",\n      content: [\"Card type is 'Credit'. As opposed to 'Debit'\"],\n      type: 'exampleCombinations',\n      helpKey: \"exampleCombinations.cardDetails.:card_type: = 'Credit'\",\n    },\n  },\n  cardholderDetails: {\n    \":cardholder_name: contains 'AAA'\": {\n      predicate: \":cardholder_name: contains 'AAA'\",\n      content: ['Cardholder name contains AAA'],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.cardholderDetails.:cardholder_name: contains 'AAA'\",\n    },\n    ':cardholder_name: in @trusted_customers': {\n      predicate: ':cardholder_name: in @trusted_customers',\n      content: [\n        \"Cardholder name is in the list called 'trusted customers'. Refer to the Lists section to learn more about how lists work.\",\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.cardholderDetails.:cardholder_name: in @trusted_customers',\n    },\n    'exists :cardholder_name:': {\n      predicate: 'exists :cardholder_name:',\n      content: [''],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.cardholderDetails.exists :cardholder_name:',\n    },\n    \":email: contains 'fraudster'\": {\n      predicate: \":email: contains 'fraudster'\",\n      content: [\"Email address contains 'fraudster'\"],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.cardholderDetails.:email: contains 'fraudster'\",\n    },\n    ':email_is_valid:': {\n      predicate: ':email_is_valid:',\n      content: [\n        'Email address is formatted correctly. Attention: the existence or age of the e-mail address are not verified.',\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.cardholderDetails.:email_is_valid:',\n    },\n    \":email_domain: = 'fraudsters.com'\": {\n      predicate: \":email_domain: = 'fraudsters.com'\",\n      content: ['Email domain is fraudsters.com'],\n      type: 'exampleCombinations',\n      helpKey:\n        \"exampleCombinations.cardholderDetails.:email_domain: = 'fraudsters.com'\",\n    },\n    ':phone: in @returning_customers': {\n      predicate: ':phone: in @returning_customers',\n      content: [\"The phone number is in the list called 'returning customers'\"],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.cardholderDetails.:phone: in @returning_customers',\n    },\n  },\n  verficationResults: {\n    ':is_3ds_authenticated:': {\n      predicate: ':is_3ds_authenticated:',\n      content: [\n        'The payment has been authenticated via 3DS. ',\n        'Attention: this rule will not be efficient if used at Pre3DS step, since this step by its very definition is applied before any 3DS check is performed.',\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.verficationResults.:is_3ds_authenticated:',\n    },\n    ':has_liability_shift:': {\n      predicate: ':has_liability_shift:',\n      content: [\n        'The payment is subject to the liability shift. ',\n        'Attention: this assessement does not account for potential penalties from card schemes that might result in suspension of liability shift protection. If you are subject to such penalties you might not be subject to the liability shift even if the payment has passed 3DS authentication.',\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.verficationResults.:has_liability_shift:',\n    },\n    \":avs_code: = 'A'\": {\n      predicate: \":avs_code: = 'A'\",\n      content: [\n        'AVS code response is A. ',\n        'Possible AVS code values:\\nA        AMEX, MC, Visa        Street address matches, ZIP code does not match.\\nB        Visa                            Street address matches. ZIP code not verified (incorrect format).\\nC        Visa                            Street address and ZIP code not verified (incorrect format).\\nD        Visa                            Street address and ZIP code match.\\nF        Visa                             Street address and ZIP code match. Applies to UK-issued cards.\\nG       Visa                             Not verified or not supported.\\nI         Visa                             Street address and ZIP code not verified.\\nM        Visa                            Street address and ZIP code match.\\nN        AMEX, MC, Visa.        Street address and ZIP code do not match.\\nP        Visa                             ZIP code matches. Street address not verified (incorrect format).\\nR        AMEX, MC, Visa        Service unavailable.\\nS        AMEX, MC                 Not supported.\\nU        AMEX, MC, Visa        Address not verified due to lack of issuer support or system malfunction.\\nW        MC                            ZIP code matches, street address does not match.\\nX         MC                            ZIP code and address match.\\nY        AMEX, MC, Visa        Cardholder street address and ZIP code match.\\nZ        AMEX, MC, Visa        ZIP code matches.\\nAE1        AMEX                   Cardholder name incorrect but ZIP code matches.\\nAE2        AMEX                   Cardholder name incorrect, but street and ZIP code match.\\nAE3        AMEX                   Cardholder name incorrect, but street matches.\\nAE4        AMEX                   Cardholder name matches.\\nAE5        AMEX                   Cardholder name and ZIP code match.\\nAE6        AMEX                   Cardholder name, street, and ZIP code match.\\nAE7        AMEX                   Cardholder name and street match.\\nAE8        AMEX                   Cardholder name, street and ZIP code do not match.',\n        '\\nAttention: this rule will only be efficient if used at the PostAUTH step, since AVS check results will never be available at the earlier steps.',\n      ],\n      type: 'exampleCombinations',\n      helpKey: \"exampleCombinations.verficationResults.:avs_code: = 'A'\",\n    },\n  },\n  velocity: {\n    ':nb_charge_approved_per_card_24h:  > X': {\n      predicate: ':nb_charge_approved_per_card_24h:  > X',\n      content: [\n        'Number of approved transactions for this card in the last 24 hours is greater than X',\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.:nb_charge_approved_per_card_24h:  > X',\n    },\n    ':nb_charge_attempted_per_billing_address_7days: > X': {\n      predicate: ':nb_charge_attempted_per_billing_address_7days: > X',\n      content: [\n        'Number of approved transactions for this billing address in the last 7 days  is greater than X',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.:nb_charge_attempted_per_billing_address_7days: > X',\n    },\n    ':nb_charge_approved_per_ip_24h: > X': {\n      predicate: ':nb_charge_approved_per_ip_24h: > X',\n      content: [\n        'Number of approved transactions for this billing address in the last 24 hours is greater than X',\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.:nb_charge_approved_per_ip_24h: > X',\n    },\n    ':nb_charge_attempted_per_ip_24h: > X': {\n      predicate: ':nb_charge_attempted_per_ip_24h: > X',\n      content: [\n        'Number of attempted (approved + declined) transactions for this billing address in the last 24 hours is greater than X',\n      ],\n      type: 'exampleCombinations',\n      helpKey: 'exampleCombinations.:nb_charge_attempted_per_ip_24h: > X',\n    },\n    ':nb_charge_approved_per_cardholder_name_30days: > X': {\n      predicate: ':nb_charge_approved_per_cardholder_name_30days: > X',\n      content: [\n        'Number of approved transactions for this cardholder name in the 30 days is greater than X',\n      ],\n      type: 'exampleCombinations',\n      helpKey:\n        'exampleCombinations.:nb_charge_approved_per_cardholder_name_30days: > X',\n    },\n  },\n};\n\nexport default exampleCombinations;\n","const availableProperties = {\n  default: {\n    predicate: null,\n    content: [\n      'Are predefined by us and allow you to reference parts of the transaction data in your rule.',\n      'Attributes can be used by surrounding a word with colons, such as :score:',\n      'Attributes can be either a number, string (text) or boolean (true or false).',\n      'Attention: not all attributes are mandatory in the payment request. Before creating a rule based on an attribute make sure you provide the relevant data when submitting a payment request to checkout.com.',\n    ],\n    type: 'availableProperties',\n    helpKey: 'availableProperties.default',\n  },\n  amountAndCurrency: {\n    ':amount:': {\n      predicate: ':amount:',\n      content: [\n        'The transaction amount in transaction currency',\n        'This attribute is mandatory and will always be present in an accepted payment request.',\n        'This is a numeric value and supports such operators as \" < \" and \" > \"',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.amountAndCurrency.:amount:',\n    },\n    ':amount_in_usd:': {\n      predicate: ':amount_in_usd:',\n      content: [\n        'The transaction amount as converted to USD.',\n        'This attribute is mandatory and will always be present in an accepted payment request.',\n        'This is a numeric value and supports such operators as \"<\" and \">\"',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.amountAndCurrency.:amount_in_usd:',\n    },\n    ':currency:': {\n      predicate: ':currency:',\n      content: [\n        'The currency used for the payment.',\n        'This attribute is mandatory and will always be present in an accepted payment request.',\n        'Attention: currencies are defined by their 3 character ISO codes. When creating rules referencing specific currencies use the format like \"GBP\", \"USD\", \"EUR\", etc',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.amountAndCurrency.:currency:',\n    },\n  },\n  fraudScoreAndReference: {\n    ':score:': {\n      predicate: ':score:',\n      content: [\n        \"Score assigned by checkout.com's machine learning model.\",\n        'This can range from 0-100.',\n        'Example: 25',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.fraudScoreAndReference.:score:',\n    },\n    ':reference:': {\n      predicate: ':reference:',\n      content: ['The payment reference provided.', 'Example: ORD-5023-4E89'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.fraudScoreAndReference.:reference:',\n    },\n    ':description:': {\n      predicate: ':description:',\n      content: [\n        'The description provided with the payment request.',\n        'Example: Set of 3 masks',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.fraudScoreAndReference.:description:',\n    },\n  },\n  addresses: {\n    ':billing_address_city:': {\n      predicate: ':billing_address_city:',\n      content: ['The billing address city provided.', 'Example: London'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:billing_address_city:',\n    },\n    ':billing_address_country:': {\n      predicate: ':billing_address_country:',\n      content: [\n        'Returns the billing address country.',\n        'Attention: countries in this field are defined by 2 character ISO codes. E.g. \"GB\", \"FR\", \"US\"',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:billing_address_country:',\n    },\n    ':billing_address_line1:': {\n      predicate: ':billing_address_line1:',\n      content: [\n        'The first line of the billing address.',\n        'Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.',\n        'Example: Flat 1, Checkout.com',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:billing_address_line1:',\n    },\n    ':billing_address_line2:': {\n      predicate: ':billing_address_line2:',\n      content: [\n        'The second line of the billing address.',\n        'Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.',\n        'Example: 90 Tottenham Court Road',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:billing_address_line2:',\n    },\n    ':billing_address_postal_code:': {\n      predicate: ':billing_address_postal_code:',\n      content: [\n        'The post code of the billing address.',\n        'Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.',\n        'Example: 90 Tottenham Court Road',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:billing_address_postal_code:',\n    },\n    ':billing_address_is_valid:': {\n      predicate: ':billing_address_is_valid:',\n      content: [\n        'The billing address is deemed to be a real existing address.',\n        'A check of the address provided is performed against a global list.',\n        'The reliability of this check depends on the region. This is a boolean value that can only be either TRUE or FALSE.',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:billing_address_is_valid:',\n    },\n    ':shipping_address_city:': {\n      predicate: ':shipping_address_city:',\n      content: ['The shipping address city provided.', 'Example: London'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:shipping_address_city:',\n    },\n    ':shipping_address_country:': {\n      predicate: ':shipping_address_country:',\n      content: [\n        'Returns the shipping address country',\n        'Attention: countries in this field are defined by 2 character ISO codes. E.g. \"GB\", \"FR\", \"US\"',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:shipping_address_country:',\n    },\n\n    ':shipping_address_line1:': {\n      predicate: ':shipping_address_line1:',\n      content: [\n        'The first line of the billing address.',\n        'Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.',\n        'Example: Flat 1, Checkout.com',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:shipping_address_line1:',\n    },\n    ':shipping_address_line2:': {\n      predicate: ':shipping_address_line2:',\n      content: [\n        'The second line of the billing address.',\n        'Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.',\n        'Example: 90 Tottenham Court Road',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:shipping_address_line2:',\n    },\n    ':shipping_address_postal_code:': {\n      predicate: ':shipping_address_postal_code:',\n      content: [\n        'The second line of the billing address.',\n        'Attention: The values are not validated and are taken as is from the payment request. When used in a rule the exact value match is expected for the rule to be triggered.',\n        'Example: 90 Tottenham Court Road',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:shipping_address_postal_code:',\n    },\n    ':shipping_address_is_valid:': {\n      predicate: ':shipping_address_is_valid:',\n      content: [\n        'The shipping address is deemed to be a real existing address.',\n        'A check of the address provided is performed against a global list.',\n        ' The reliability of this check depends on the region.',\n        'This is a boolean value that can only be either TRUE or FALSE.',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:shipping_address_is_valid:',\n    },\n    ':payment_ip:': {\n      predicate: ':payment_ip:',\n      content: [\n        'The IP address used to make the payment.',\n        'Example: 168.16.10.2',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:payment_ip:',\n    },\n    ':payment_ip_country:': {\n      predicate: ':payment_ip_country:',\n      content: [\n        \"The country as derived from payer's IP.\",\n        'Attention: countries in this field are defined by 2 character ISO codes. E.g. \"GB\", \"FR\", \"US\"',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.addresses.:payment_ip_country:',\n    },\n  },\n  cardDetails: {\n    ':card_country:': {\n      predicate: ':card_country:',\n      content: [\n        'Returns the country where the card was issued as derived from the card bin.',\n        'Attention: countries in this field are defined by 2 character ISO codes. E.g. \"GB\", \"FR\", \"US\"',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardDetails.:card_country:',\n    },\n    ':bin:': {\n      predicate: ':bin:',\n      content: [\n        'The bank identification number (BIN) represented by the first six numbers of the credit card.',\n        'Example: 454347',\n        'This attribute is mandatory and will always be present in an accepted payment request.',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardDetails.:bin:',\n    },\n    ':card_brand:': {\n      predicate: ':card_brand:',\n      content: [\n        'The brand of the credit card used.',\n        'Example: VISA, MASTERCARD',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardDetails.:card_brand:',\n    },\n    ':card_type:': {\n      predicate: ':card_type:',\n      content: [\n        'The type of the card used for payment',\n        'Example: Credit, Debit',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardDetails.:card_type:',\n    },\n  },\n  cardholderDetails: {\n    ':cardholder_name:': {\n      predicate: ':cardholder_name:',\n      content: ['The name of the cardholder.', 'Example: John Doe'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardholderDetails.:cardholder_name:',\n    },\n    ':email:': {\n      predicate: ':email:',\n      content: [\n        'The customer e-mail address provided.',\n        'Example: john.doe@example.com',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardholderDetails.:email:',\n    },\n    ':email_domain:': {\n      predicate: ':email_domain:',\n      content: [\n        'The e-mail domain derived from the customer e-mail address.',\n        'Example: domain.com',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardholderDetails.:email_domain:',\n    },\n    ':phone:': {\n      predicate: ':phone:',\n      content: [\n        'The phone number of the customer provided.',\n        'Example: +1415 555 2671',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardholderDetails.:phone:',\n    },\n    ':phone_country:': {\n      predicate: ':phone_country:',\n      content: [\n        \"The country of the customer's phone number. Derived from the first 2 digit of the number provided.\",\n        'Attention: countries in this field are defined by 2 character ISO codes. E.g. \"GB\", \"FR\", \"US\"',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.cardholderDetails.:phone_country:',\n    },\n  },\n  verficationResults: {\n    ':avs_code:': {\n      predicate: ':avs_code:',\n      content: [\n        'The result of the AVS check. Applicable to PostAUTH only as AVS check results are never available at the earlier steps.',\n        'Example: :avs_code: in [\"A\",\"B\",\"Z\"] will be triggered if AVS response code is either A, B or Z',\n        'Possible AVS response code values:',\n        'A        AMEX, MC, Visa        Street address matches, ZIP code does not match.',\n        'B        Visa                            Street address matches. ZIP code not verified (incorrect format).',\n        'C        Visa                            Street address and ZIP code not verified (incorrect format).',\n        'D        Visa                            Street address and ZIP code match.',\n        'F        Visa                             Street address and ZIP code match. Applies to UK-issued cards.',\n        'G       Visa                             Not verified or not supported.',\n        'I         Visa                             Street address and ZIP code not verified.',\n        'M        Visa                            Street address and ZIP code match.',\n        'N        AMEX, MC, Visa.        Street address and ZIP code do not match.',\n        'P        Visa                             ZIP code matches. Street address not verified (incorrect format).',\n        'R        AMEX, MC, Visa        Service unavailable.',\n        'S        AMEX, MC                 Not supported.',\n        'U        AMEX, MC, Visa        Address not verified due to lack of issuer support or system malfunction.',\n        'W        MC                            ZIP code matches, street address does not match.',\n        'X         MC                            ZIP code and address match.',\n        'Y        AMEX, MC, Visa        Cardholder street address and ZIP code match.',\n        'Z        AMEX, MC, Visa        ZIP code matches.',\n        'AE1        AMEX                   Cardholder name incorrect but ZIP code matches.',\n        'AE2        AMEX                   Cardholder name incorrect, but street and ZIP code match.',\n        'AE3        AMEX                   Cardholder name incorrect, but street matches.',\n        'AE4        AMEX                   Cardholder name matches.',\n        'AE5        AMEX                   Cardholder name and ZIP code match.',\n        'AE6        AMEX                   Cardholder name, street, and ZIP code match.',\n        'AE7        AMEX                   Cardholder name and street match.',\n        'AE8        AMEX                   Cardholder name, street and ZIP code do not match.',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.verficationResults.:avs_code:',\n    },\n    ':email_is_valid:': {\n      predicate: ':email_is_valid:',\n      content: [\n        'The information provided in the email address field corresponds to the format of e-mail addresses.',\n        'This rule does not require any operators or values.',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.verficationResults.:email_is_valid:',\n    },\n    ':has_liability_shift:': {\n      predicate: ':has_liability_shift:',\n      content: [\n        \"The transaction's liability has been shifted to the issuer as a result of the 3ds check.\",\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.verficationResults.:has_liability_shift:',\n    },\n  },\n  velocity: {\n    ':nb_charge_approved_per_billing_address_24h:': {\n      predicate: ':nb_charge_approved_per_billing_address_24h:',\n      content: [\n        'Billing address velocity in the last 24 hours for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_billing_address_24h:',\n    },\n    ':nb_charge_approved_per_billing_address_7days:': {\n      predicate: ':nb_charge_approved_per_billing_address_7days:',\n      content: [\n        'Billing address velocity in the last 7 days for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_billing_address_7days:',\n    },\n    ':nb_charge_approved_per_billing_address_30days:': {\n      predicate: ':nb_charge_approved_per_billing_address_30days:',\n      content: [\n        'Billing address velocity in the last 30 days for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_billing_address_30days:',\n    },\n    ':nb_charge_approved_per_shipping_address_24h:': {\n      predicate: ':nb_charge_approved_per_shipping_address_24h:',\n      content: [\n        'Shipping addres velocity in the last 24 hours for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_shipping_address_24h:',\n    },\n    ':nb_charge_approved_per_shipping_address_7days:': {\n      predicate: ':nb_charge_approved_per_shipping_address_7days:',\n      content: [\n        'Shipping addres velocity in the last 7 days for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_shipping_address_7days:',\n    },\n    ':nb_charge_approved_per_shipping_address_30days:': {\n      predicate: ':nb_charge_approved_per_shipping_address_30days:',\n      content: [\n        'Shipping addres velocity in the last 30 days for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_shipping_address_30days:',\n    },\n    ':nb_charge_approved_per_bin_24h:': {\n      predicate: ':nb_charge_approved_per_bin_24h:',\n      content: ['Bin velocity in the last 24 hours for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_bin_24h:',\n    },\n    ':nb_charge_approved_per_bin_7days:': {\n      predicate: ':nb_charge_approved_per_bin_7days:',\n      content: ['Bin velocity in the last 7 days for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_bin_7days:',\n    },\n    ':nb_charge_approved_per_bin_30days:': {\n      predicate: ':nb_charge_approved_per_bin_30days:',\n      content: ['Bin velocity in the last 30 days for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_bin_30days:',\n    },\n    ':nb_charge_approved_per_card_24h:': {\n      predicate: ':nb_charge_approved_per_card_24h:',\n      content: ['Card velocity in the last 24 hours for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_card_24h:',\n    },\n    ':nb_charge_approved_per_card_7days:': {\n      predicate: ':nb_charge_approved_per_card_7days:',\n      content: ['Card velocity in the last 7 days for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_card_7days:',\n    },\n    ':nb_charge_approved_per_card_30days:': {\n      predicate: ':nb_charge_approved_per_card_30days:',\n      content: ['Card velocity in the last 30 days for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_card_30days:',\n    },\n    ':nb_charge_approved_per_cardholder_name_24h:': {\n      predicate: ':nb_charge_approved_per_cardholder_name_24h:',\n      content: [\n        'Cardholder name velocity in the last 24 hours for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_cardholder_name_24h:',\n    },\n    ':nb_charge_approved_per_cardholder_name_7days:': {\n      predicate: ':nb_charge_approved_per_cardholder_name_7days:',\n      content: [\n        'Cardholder name velocity in the last 7 days for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_cardholder_name_7days:',\n    },\n    ':nb_charge_approved_per_cardholder_name_30days:': {\n      predicate: ':nb_charge_approved_per_cardholder_name_30days:',\n      content: [\n        'Cardholder name velocity in the last 30 days for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_approved_per_cardholder_name_30days:',\n    },\n    ':nb_charge_approved_per_email_24h:': {\n      predicate: ':nb_charge_approved_per_email_24h:',\n      content: [\n        'Email velocity in the last 24 hours for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_email_24h:',\n    },\n    ':nb_charge_approved_per_email_7days:': {\n      predicate: ':nb_charge_approved_per_email_7days:',\n      content: ['Email velocity in the last 7 days for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_email_7days:',\n    },\n    ':nb_charge_approved_per_email_30days:': {\n      predicate: ':nb_charge_approved_per_email_30days:',\n      content: ['Email velocity in the last 30 days for approved transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_email_30days:',\n    },\n    ':nb_charge_approved_per_ip_24h:': {\n      predicate: ':nb_charge_approved_per_ip_24h:',\n      content: [\n        'Payment ip velocity in the last 24 hours for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_approved_per_ip_24h:',\n    },\n    ':nb_charge_attempted_per_billing_address_7days:': {\n      predicate: ':nb_charge_attempted_per_billing_address_7days:',\n      content: [\n        'Payment ip velocity in the last 24 hours for approved transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_billing_address_7days:',\n    },\n    ':nb_charge_attempted_per_billing_address_30days:': {\n      predicate: ':nb_charge_attempted_per_billing_address_30days:',\n      content: [\n        'Billing address velocity in the last 30 days for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_billing_address_30days:',\n    },\n    ':nb_charge_attempted_per_shipping_address_24h:': {\n      predicate: ':nb_charge_attempted_per_shipping_address_24h:',\n      content: [\n        'Shipping addres velocity in the last 24 hours for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_shipping_address_24h:',\n    },\n    ':nb_charge_attempted_per_shipping_address_7days:': {\n      predicate: ':nb_charge_attempted_per_shipping_address_7days:',\n      content: [\n        'Shipping addres velocity in the last 7 days for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_shipping_address_7days:',\n    },\n    ':nb_charge_attempted_per_shipping_address_30days:': {\n      predicate: ':nb_charge_attempted_per_shipping_address_30days:',\n      content: [\n        'Shipping addres velocity in the last 30 days for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_shipping_address_30days:',\n    },\n    ':nb_charge_attempted_per_bin_24h:': {\n      predicate: ':nb_charge_attempted_per_bin_24h:',\n      content: ['Bin velocity in the last 24 hours for attempted transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_bin_24h:',\n    },\n    ':nb_charge_attempted_per_bin_7days:': {\n      predicate: ':nb_charge_attempted_per_bin_7days:',\n      content: ['Bin velocity in the last 7 days for attempted transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_bin_7days:',\n    },\n    ':nb_charge_attempted_per_bin_30days:': {\n      predicate: ':nb_charge_attempted_per_bin_30days:',\n      content: ['Bin velocity in the last 30 days for attempted transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_bin_30days:',\n    },\n    ':nb_charge_attempted_per_card_24h:': {\n      predicate: ':nb_charge_attempted_per_card_24h:',\n      content: [\n        'Card velocity in the last 24 hours for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_card_24h:',\n    },\n    ':nb_charge_attempted_per_card_7days:': {\n      predicate: ':nb_charge_attempted_per_card_7days:',\n      content: ['Card velocity in the last 7 days for attempted transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_card_7days:',\n    },\n    ':nb_charge_attempted_per_card_30days:': {\n      predicate: ':nb_charge_attempted_per_card_30days:',\n      content: ['Card velocity in the last 30 days for attempted transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_card_30days:',\n    },\n    ':nb_charge_attempted_per_cardholder_name_24h:': {\n      predicate: ':nb_charge_attempted_per_cardholder_name_24h:',\n      content: [\n        'Cardholder name velocity in the last 24 hours for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_cardholder_name_24h:',\n    },\n    ':nb_charge_attempted_per_cardholder_name_7days:': {\n      predicate: ':nb_charge_attempted_per_cardholder_name_7days:',\n      content: [\n        'Cardholder name velocity in the last 7 days for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_cardholder_name_7days:',\n    },\n    ':nb_charge_attempted_per_cardholder_name_30days:': {\n      predicate: ':nb_charge_attempted_per_cardholder_name_30days:',\n      content: [\n        'Cardholder name velocity in the last 30 days for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey:\n        'availableProperties.:nb_charge_attempted_per_cardholder_name_30days:',\n    },\n    ':nb_charge_attempted_per_email_24h:': {\n      predicate: ':nb_charge_attempted_per_email_24h:',\n      content: [\n        'Email velocity in the last 24 hours for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_email_24h:',\n    },\n    ':nb_charge_attempted_per_email_7days:': {\n      predicate: ':nb_charge_attempted_per_email_7days:',\n      content: ['Email velocity in the last 7 days for attempted transactions'],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_email_7days:',\n    },\n    ':nb_charge_attempted_per_email_30days:': {\n      predicate: ':nb_charge_attempted_per_email_30days:',\n      content: [\n        'Email velocity in the last 30 days for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_email_30days:',\n    },\n    ':nb_charge_attempted_per_ip_24h:': {\n      predicate: ':nb_charge_attempted_per_ip_24h:',\n      content: [\n        'Payment ip velocity in the last 24 hours for attempted transactions',\n      ],\n      type: 'availableProperties',\n      helpKey: 'availableProperties.:nb_charge_attempted_per_ip_24h:',\n    },\n  },\n};\n\nexport default availableProperties;\n","const operators = {\n  default: {\n    predicate: null,\n    content: [\n      'Operators help define the criteria against which payment attributes values will be tested. The list of available operators an attribute supports depends on the attribute tupe: Number, String or Boolean.',\n    ],\n    type: 'operators',\n    helpKey: 'operators.default',\n  },\n  '>': {\n    predicate: '>',\n    content: [\n      'Greater than. Applicable to number attributes only.',\n      'Example: :score: > 5',\n    ],\n    type: 'operators',\n    helpKey: 'operators.>',\n  },\n  '<': {\n    predicate: '<',\n    content: [\n      'Less than. Applicable to number attributes only.',\n      'Example: :score: < 5',\n    ],\n    type: 'operators',\n    helpKey: 'operators.<',\n  },\n  '>=': {\n    predicate: '>=',\n    content: [\n      'Greater than or equal. Applicable to number attributes only.',\n      'Example: :score: >= 1',\n    ],\n    type: 'operators',\n    helpKey: 'operators.>=',\n  },\n  '<=': {\n    predicate: '<=',\n    content: [\n      'Less than or equal. Applicable to number attributes only.',\n      'Example: :score: <= 2 ',\n    ],\n    type: 'operators',\n    helpKey: 'operators.<=',\n  },\n  '=': {\n    predicate: '=',\n    content: [\n      'Equal. All evaluated attributes must be of the same type: String, Number or Boolean.',\n      \"Example: :billing_address_country: = 'GB'\",\n    ],\n    type: 'operators',\n    helpKey: 'operators.=',\n  },\n  '!=': {\n    predicate: '!=',\n    content: [\n      'Not equal. All evaluated attributes must be of the same type: String, Number or Boolean.',\n      \"Example: :card_brand: != 'VISA'\",\n    ],\n    type: 'operators',\n    helpKey: 'operators.!=',\n  },\n  IN: {\n    predicate: 'IN',\n    content: [\n      'Contained in a given list. Refer to the Lists section to learn more about how lists work.',\n      'Example: :billing_address_country: IN @high_risk_counties',\n    ],\n    type: 'operators',\n    helpKey: 'operators.IN',\n  },\n  CONTAINS: {\n    predicate: 'CONTAINS',\n    content: [\n      'Contains a specific text value. Applicable to string attributes only.',\n      \"Example: $promo_code contains 'XMAS'\",\n    ],\n    type: 'operators',\n    helpKey: 'operators.CONTAINS',\n  },\n  IS_MISSING: {\n    predicate: 'IS_MISSING',\n    content: [\n      'Attribute is missing a value. Usually this happens if the value is not provided in the payment request. Note: most of the payment request fields are optional.',\n      'Example: is_missing $billing_address_city will return TRUE if no billing address is provided',\n    ],\n    type: 'operators',\n    helpKey: 'operators.IS_MISSING',\n  },\n  EXISTS: {\n    predicate: 'EXISTS',\n    content: [\n      'Attribute is present. Or, in other words, has a value.',\n      'Example: exists $billing_address_country will return TRUE if an address is provided',\n    ],\n    type: 'operators',\n    helpKey: 'operators.EXISTS',\n  },\n  NOT: {\n    predicate: 'NOT',\n    content: [\n      'This function can be used it reverse a statement.',\n      \"Example: not :billing_address_city: CONTAINS 'London' will return TRUE if billing address city does NOT contain 'London'\",\n    ],\n    type: 'operators',\n    helpKey: 'operators.NOT',\n  },\n};\n\nexport default operators;\n","const editor = {\n  checkRule: {\n    title: 'Check your rule',\n    content: [\n      'You just need to check that the <b>rule syntax is consistent</b> (so it can be used in live routing), and you have <b>given your rule a name</b> (how you will refer to it in live routing) before you can create.',\n    ],\n    helpKey: 'editor.checkRule',\n  },\n};\n\nexport default editor;\n","const velocityWizard = {\n  transactionCount: {\n    title: 'Velocity transaction count',\n    content: [\n      'Velocity element to identify high frequency transactions. Will return the frequency of a particular attribute in the transactions over a time period.',\n    ],\n    example: {\n      predicate: ':nb_charge_approved_per_billing_address_24h: > 10',\n      description:\n        'This will trigger when the number of approved requests (velocity) for a particular billing address goes above 10 in a 24 hour period.',\n    },\n    type: 'velocity',\n    helpKey: 'velocityWizard.transactionCount',\n  },\n  relative: {\n    title: 'Relative velocity',\n    content: [\n      'Velocity element to identify cases when the same attribute is reused in otherwise unrelated transactions. Returns of the occurrence of one attribute in relation to another over a time period.',\n    ],\n    example: {\n      predicate:\n        ':nb_relative_attempted_email_per_cardholder_name_30days: > 10',\n      description:\n        'This will trigger when the number of email addresses for a single cardholder goes above 10 in any 30 day period of attempted transactions.',\n    },\n    type: 'velocity',\n    helpKey: 'velocityWizard.relative',\n  },\n};\n\nexport default velocityWizard;\n","import React from 'react';\nimport { Box, TextHeadingOne, Flex } from '@cko/primitives';\nimport { OpenInfoModalButton } from 'components/InfoModal';\nimport { Modals } from 'types/enums/modals';\n\ninterface Props {\n  title: string;\n  modalKey?: Modals;\n}\n\nconst PageHeader: React.FunctionComponent<Props> = ({ title, modalKey }) => (\n  <Flex alignItems=\"center\" pb={2}>\n    <Box mr={2}>\n      <Box py={3}>\n        <TextHeadingOne>{title}</TextHeadingOne>\n      </Box>\n    </Box>\n    {modalKey && <OpenInfoModalButton modalKey={modalKey} />}\n  </Flex>\n);\n\nexport default PageHeader;\n","import styled from 'styled-components';\nimport { Flex } from '@cko/primitives';\n\nconst SpacedButtonGroup = styled(Flex)`\n  padding: 0;\n\n  button {\n    margin-left: 0;\n    margin-right: 16px;\n    :hover {\n      z-index: 10;\n    }\n  }\n\n  button:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport default SpacedButtonGroup;\n","import { useRef, useEffect, useCallback } from 'react';\n\nconst useIntentHover = () => {\n  const timeoutRef = useRef<number | undefined>();\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  const getIntentProps = useCallback(\n    ({ onEnter, onLeave }: any, timeout: number = 300) => {\n      const onMouseEnter = () => {\n        timeoutRef.current = setTimeout(() => {\n          if (onEnter) {\n            onEnter();\n          }\n        }, timeout);\n      };\n\n      const onMouseLeave = () => {\n        if (onLeave) {\n          onLeave();\n        }\n\n        if (timeoutRef.current) {\n          clearTimeout(timeoutRef.current);\n        }\n      };\n\n      return { onMouseEnter, onMouseLeave };\n    },\n    []\n  );\n\n  return getIntentProps;\n};\n\nexport default useIntentHover;\n","import React, {\n  useContext,\n  createContext,\n  useMemo,\n  useState,\n  useCallback,\n  useRef,\n  useEffect,\n} from 'react';\n\nexport enum VelocityWizardFormType {\n  VelocityTransactionCount = 'velocity_transaction_count',\n  VelocityRelative = 'velocity_relative',\n}\n\nexport interface VelocityWizardFormContext {\n  formType: VelocityWizardFormType | null;\n  onFormTypeSelected: (formType: VelocityWizardFormType) => void;\n  isDrawerOpen: boolean;\n  handleClose: () => void;\n  drawerRef: React.Ref<HTMLDivElement> | null;\n}\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nexport const VelocityWizardContext = createContext<\n  VelocityWizardFormContext | undefined\n>(undefined);\n\nexport const VelocityWizardProvider: React.FunctionComponent<Props> = ({\n  children,\n}) => {\n  const [formType, setFormType] = useState<VelocityWizardFormType | null>(null);\n  const [isDrawerOpen, setDrawerOpen] = useState(false);\n  const drawerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const tempRef = drawerRef.current;\n\n    const handleEnd = () => {\n      if (!isDrawerOpen) {\n        setFormType(null);\n      }\n    };\n    tempRef?.addEventListener('transitionend', handleEnd);\n    return () => {\n      tempRef?.removeEventListener('transitionend', handleEnd);\n    };\n  }, [isDrawerOpen]);\n\n  const onFormTypeSelected = useCallback(\n    (formTypeEnum: VelocityWizardFormType) => {\n      setFormType(formTypeEnum);\n      setDrawerOpen((isOpen) => {\n        if (!isOpen) {\n          return true;\n        } else if (isOpen && formTypeEnum === formType) {\n          return false;\n        }\n        return isOpen;\n      });\n    },\n    [formType]\n  );\n\n  const handleClose = useCallback(() => {\n    setDrawerOpen(false);\n  }, []);\n\n  const value = useMemo(() => {\n    return {\n      formType,\n      handleClose,\n      onFormTypeSelected,\n      isDrawerOpen,\n      drawerRef,\n    };\n  }, [formType, isDrawerOpen, onFormTypeSelected, handleClose]);\n\n  return (\n    <VelocityWizardContext.Provider value={value}>\n      {children}\n    </VelocityWizardContext.Provider>\n  );\n};\n\nexport const useVelocityWizard = () => {\n  const context = useContext(VelocityWizardContext);\n\n  if (context === undefined) {\n    throw new Error(\n      'useVelocityWizard must be used within a VelocityWizardProvider'\n    );\n  }\n\n  return context;\n};\n","import useIntentHover from 'hooks/useIntentHover';\nimport { useCallback } from 'react';\nimport { useRulesBuilderHelp } from '../RulesBuilderHelpContext';\nimport { useRulesEditor } from '../RulesEditorContext';\nimport { useVelocityWizard } from '../VelocityWizardContext';\n\nconst useVelocityList = () => {\n  const { captureSelection, setReadOnly } = useRulesEditor();\n  const { isDrawerOpen } = useVelocityWizard();\n  const { setHelpContentKey } = useRulesBuilderHelp();\n  const getHoverProps = useIntentHover();\n\n  return useCallback(\n    (helpKey: string) => {\n      const { onMouseEnter, onMouseLeave } = getHoverProps({\n        onEnter: () => {\n          setHelpContentKey(helpKey);\n        },\n      });\n      return {\n        onMouseEnter: () => {\n          captureSelection();\n          setReadOnly(true);\n          !isDrawerOpen && onMouseEnter();\n        },\n        onMouseLeave: () => {\n          setReadOnly(false);\n          !isDrawerOpen && onMouseLeave();\n        },\n      };\n    },\n    [\n      captureSelection,\n      getHoverProps,\n      isDrawerOpen,\n      setHelpContentKey,\n      setReadOnly,\n    ]\n  );\n};\n\nexport default useVelocityList;\n","import { Flex } from '@cko/primitives';\nimport React from 'react';\nimport styled from 'styled-components';\n\ninterface Props {\n  children: any;\n}\n\nconst ItemWrapper = styled(Flex)`\n  line-height: 32px;\n  text-align: left;\n  overflow-x: scroll;\n  &:hover {\n    background: #f5f6f7;\n  }\n`;\n\nconst RulesMenuItemWrapper: React.FunctionComponent<Props> = ({ children }) => {\n  return (\n    <ItemWrapper\n      p={3}\n      borderBottom=\"baseLight.1\"\n      borderLeft=\"baseLight.1\"\n      borderRight=\"baseLight.1\"\n      bg=\"offWhite\"\n    >\n      {children}\n    </ItemWrapper>\n  );\n};\n\nexport default RulesMenuItemWrapper;\n","import React, { useState } from 'react';\nimport { Flex, ClickableElement, Text } from '@cko/primitives';\nimport { Tooltip } from '@cko/tooltip';\nimport RulesMenuItemWrapper from '../rulesBuilderUtils/RulesMenuItemWrapper';\nimport { Strong } from 'components/Text';\nimport styled from 'styled-components';\nimport { lighten } from 'polished';\n\ninterface Props {\n  title: string;\n  description: string;\n  content: string;\n  onClick: () => void;\n  isActive: boolean;\n  onMouseEnter: () => void;\n  onMouseLeave: () => void;\n}\n\nconst PredicateButton = styled(ClickableElement)<{ isActive: boolean }>(\n  ({ theme, isActive }) => `\n  width: 100%;\n  text-align: start;\n  padding: 4px 8px;\n  border-radius: 6px;\n  color: ${isActive ? theme.colors.white : theme.colors.warningDark};\n  background-color:  ${\n    isActive ? theme.colors.base : theme.colors.warningLight\n  };\n  font-size:${theme.fontSizes[1]};\n  &:hover {\n    color: ${theme.colors.warningDark};\n    background-color:\n      ${lighten(0.03, theme.colors.warningLight)};\n  }\n`\n);\n\nconst VelocityPropertyItem: React.FunctionComponent<Props> = ({\n  title,\n  isActive,\n  description,\n  content,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n}) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  return (\n    <RulesMenuItemWrapper>\n      <Flex flexDirection=\"column\">\n        <Text textAlign=\"left\" fontSize={1} lineHeight={1}>\n          <Strong>{title} </Strong> {description}\n        </Text>\n        <Tooltip show={!isActive && showTooltip} text=\"Click to launch wizard\">\n          <PredicateButton\n            isActive={isActive}\n            onClick={onClick}\n            onMouseEnter={() => {\n              onMouseEnter();\n              setShowTooltip(true);\n            }}\n            onMouseLeave={() => {\n              onMouseLeave();\n              setShowTooltip(false);\n            }}\n          >\n            {content}\n          </PredicateButton>\n        </Tooltip>\n      </Flex>\n    </RulesMenuItemWrapper>\n  );\n};\n\nexport default VelocityPropertyItem;\n","import useTabs from 'hooks/useTabs';\nimport React from 'react';\nimport useVelocityList from '../RulesBuilderContainer/useVelocityList';\nimport VelocityPropertyItem from '../RulesBuilderContainer/VelocityPropertyItem';\nimport { useRulesBuilderHelp } from '../RulesBuilderHelpContext';\nimport {\n  useVelocityWizard,\n  VelocityWizardFormType,\n} from '../VelocityWizardContext';\n\nconst VelocityMenuContainer: React.FunctionComponent = () => {\n  const { onFormTypeSelected, formType } = useVelocityWizard();\n  const velocityListProps = useVelocityList();\n  const { setHelpContentKey } = useRulesBuilderHelp();\n  const { getTabPanelProps } = useTabs();\n\n  return (\n    <div {...getTabPanelProps({ id: 'velocities' })}>\n      <ul>\n        <VelocityPropertyItem\n          isActive={\n            formType === VelocityWizardFormType.VelocityTransactionCount\n          }\n          title=\"Transaction count\"\n          description=\"- check occurrence of a\n  single attribute over a time period \"\n          content=\"velocity_count, 1 attribute\"\n          onClick={() => {\n            onFormTypeSelected(VelocityWizardFormType.VelocityTransactionCount);\n            setHelpContentKey('velocityWizard.transactionCount');\n          }}\n          {...velocityListProps('velocityWizard.transactionCount')}\n        />\n        <VelocityPropertyItem\n          isActive={formType === VelocityWizardFormType.VelocityRelative}\n          title=\"Relative\"\n          description=\"- check the\noccurrence of one attribute in relation to another\"\n          content=\"velocity, 2 attributes\"\n          onClick={() => {\n            onFormTypeSelected(VelocityWizardFormType.VelocityRelative);\n            setHelpContentKey('velocityWizard.relative');\n          }}\n          {...velocityListProps('velocityWizard.relative')}\n        />\n      </ul>\n    </div>\n  );\n};\nexport default VelocityMenuContainer;\n","export const simpleVelocityProperties = [\n  { value: 'billing_address', label: 'Billing address' },\n  { value: 'bin', label: 'BIN' },\n  { value: 'card', label: 'Card number' },\n  { value: 'cardholder_name', label: 'Cardholder name' },\n  { value: 'email', label: 'Email address' },\n  { value: 'ip', label: 'IP address' },\n  { value: 'shipping_address', label: 'Shipping address' },\n];\n\nexport const relativeVelocityOptions = [\n  {\n    value: 'cardholder_name',\n    label: 'Cardholder name',\n  },\n  {\n    value: 'card_number',\n    label: 'Card number',\n  },\n  { value: 'email', label: 'Email address' },\n  { value: 'billing_address', label: 'Billing address' },\n];\n\nexport const transactionActionOptions = [\n  { value: 'attempted', label: 'Attempted' },\n  { value: 'approved', label: 'Approved' },\n  { value: 'declined', label: 'Declined' },\n];\n\nexport const relativeVelocityTransactionActionOptions = [\n  { value: 'attempted', label: 'Attempted' },\n];\n\nexport const velocityPeriodOptions = [\n  { value: '1h', label: '1 hour' },\n  { value: '3h', label: '3 hour' },\n  { value: '24h', label: '24 hour' },\n  { value: '7days', label: '7 days' },\n  { value: '30days', label: '30 days' },\n];\n","import { Box, FormLabel, SegmentedControl } from '@cko/primitives';\nimport FieldValidationError from 'components/FieldValidationError';\nimport { useField, useFormikContext } from 'formik';\nimport React from 'react';\n\ntype Props = Omit<React.ComponentProps<typeof SegmentedControl>, 'onChange'> & {\n  label?: string;\n  name: string;\n};\n\nconst FormikSegmentedControl: React.FC<Props> = ({ label, name, ...props }) => {\n  const [field, meta, { setTouched }] = useField<string>({\n    name,\n  });\n  const { error: errorMessage } = meta;\n\n  const { submitCount } = useFormikContext();\n  const showError = submitCount > 0 && errorMessage !== undefined;\n\n  return (\n    <>\n      {label && <FormLabel>{label}</FormLabel>}\n      <SegmentedControl\n        errors={showError}\n        {...props}\n        onChange={(e) => {\n          field.onChange(name)(e.target.value);\n          setTouched(true, false);\n        }}\n        selectedValue={field.value}\n      />\n      {showError && (\n        <Box mt={2}>\n          <FieldValidationError data-testid={`${name}-error-messsage`}>\n            {errorMessage}\n          </FieldValidationError>\n        </Box>\n      )}\n    </>\n  );\n};\n\nexport default FormikSegmentedControl;\n","import React from 'react';\nimport { Text, Flex, ClickableElement } from '@cko/primitives';\nimport styled from 'styled-components';\nimport { IconActionCross } from '@cko/icons';\n\ninterface Props {\n  handleClose: () => void;\n  velocityFormTitle: string;\n}\n\nexport const TitleWrapper = styled(Flex)`\n  align-items: center;\n  justify-content: space-between;\n  text-align: left;\n  background: white;\n`;\n\nconst VelocityFormHeader: React.FunctionComponent<Props> = ({\n  velocityFormTitle,\n  handleClose,\n}) => {\n  return (\n    <TitleWrapper p={3} borderBottom=\"baseLight.1\">\n      <Flex>\n        <Text fontSize=\"14px\" lineHeight=\"16px\">\n          {velocityFormTitle}\n        </Text>\n      </Flex>\n      <Flex>\n        <ClickableElement\n          onClick={(e) => {\n            e.preventDefault();\n            handleClose();\n          }}\n        >\n          <IconActionCross />\n        </ClickableElement>\n      </Flex>\n    </TitleWrapper>\n  );\n};\n\nexport default VelocityFormHeader;\n","import React from 'react';\nimport {\n  Box,\n  SpaceBetween,\n  Text,\n  FormLabel,\n  Flex,\n  PrimaryButton,\n} from '@cko/primitives';\nimport {\n  simpleVelocityProperties,\n  transactionActionOptions,\n  velocityPeriodOptions,\n} from '../velocityProperties';\nimport { Form, Formik } from 'formik';\nimport FormikSegmentedControl from 'components/FormikSegmentedControl';\nimport FormikSelectMenu from 'components/FormikSelectMenu';\nimport { createValidator, required } from 'utils/validator';\nimport VelocityFormHeader from '../VelocityFormHeader';\nimport TooltipButtonWrapper from 'components/TooltipButtonWrapper';\nimport { AvailableProperty } from 'types/models';\n\nconst buildPropertyString = (\n  attribute: string,\n  period: string,\n  action: string\n) => `nb_charge_${action}_per_${attribute}_${period}`;\n\nconst simpleVelocityValidator = (\n  availableProperties: AvailableProperty[]\n) => async (values: FormValues) => {\n  const fieldErrors = await createValidator({\n    attribute: [required()],\n    period: [required()],\n    action: [required()],\n  })(values);\n\n  if (Object.values(fieldErrors).find((e) => !!e)) {\n    return fieldErrors;\n  }\n\n  const { attribute, period, action } = values;\n  const property = buildPropertyString(attribute, period, action);\n\n  if (!availableProperties.find((x) => x.name === property)) {\n    return { property: 'This combination is currently unsupported' };\n  }\n};\n\ntype FormValues = {\n  attribute: string;\n  period: string;\n  action: string;\n  property: string;\n};\n\ninterface Props {\n  handleClose: () => void;\n  onSubmit: (property: string) => void;\n  availableProperties: AvailableProperty[];\n}\n\nconst SimpleVelocityForm: React.FunctionComponent<Props> = ({\n  handleClose,\n  onSubmit,\n  availableProperties,\n}) => {\n  return (\n    <Formik<FormValues>\n      initialValues={{\n        attribute: '',\n        period: velocityPeriodOptions[0].value,\n        action: transactionActionOptions[0].value,\n        property: '',\n      }}\n      onSubmit={({ attribute, period, action }) => {\n        const property = `:${buildPropertyString(attribute, period, action)}:`;\n\n        onSubmit(property);\n      }}\n      validate={simpleVelocityValidator(availableProperties)}\n      validateOnMount\n    >\n      {({ isValid, errors }) => {\n        return (\n          <Form>\n            <VelocityFormHeader\n              velocityFormTitle=\"Transaction count velocity\"\n              handleClose={handleClose}\n            />\n            <Flex flexDirection=\"column\" p={4}>\n              <Text mb={2}>Insert a velocity element to check:</Text>\n              <SpaceBetween my={3}>\n                <Box>\n                  <FormLabel fontSize={1}>The number of times a ...</FormLabel>\n                  <FormikSelectMenu\n                    name=\"attribute\"\n                    placeholder=\"Select an attribute\"\n                    options={simpleVelocityProperties}\n                  />\n                </Box>\n                <Box>\n                  <FormikSegmentedControl\n                    label=\"Appears over a period of ...\"\n                    name=\"period\"\n                    options={velocityPeriodOptions}\n                  />\n                </Box>\n                <Box>\n                  <FormikSegmentedControl\n                    label=\"in all transactions that were ...\"\n                    name=\"action\"\n                    options={transactionActionOptions}\n                  />\n                </Box>\n              </SpaceBetween>\n              <Box mt={5}>\n                <TooltipButtonWrapper enabled={!isValid} text={errors.property}>\n                  <PrimaryButton type=\"submit\" disabled={!isValid}>\n                    Insert velocity element\n                  </PrimaryButton>\n                </TooltipButtonWrapper>\n              </Box>\n            </Flex>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default SimpleVelocityForm;\n","import React from 'react';\nimport { Box } from '@cko/primitives';\nimport styled from 'styled-components';\n\nconst Drawer = styled(Box)<{ velocityFormVisible: boolean }>`\n  top: 0;\n  left: 360px;\n  height: 100%;\n  width: ${({ velocityFormVisible }) =>\n    velocityFormVisible ? '505px' : '0px'};\n  background-color: ${({ theme }) => theme.colors.white};\n  position: absolute;\n  box-shadow: ${({ theme }) => theme.shadows.focusLight[3]};\n  transition: width 250ms ease-in, left 250ms ease-in;\n  overflow: hidden;\n  z-index: 1000;\n`;\ninterface Props {\n  velocityFormVisible: boolean;\n}\n\nconst VelocityDrawer = React.forwardRef<\n  HTMLDivElement,\n  React.PropsWithChildren<Props>\n>(({ velocityFormVisible, children }, ref) => {\n  return (\n    <Drawer ref={ref} velocityFormVisible={velocityFormVisible}>\n      <Box width=\"505px\">{children}</Box>\n    </Drawer>\n  );\n});\nexport default VelocityDrawer;\n","import { Box, PrimaryButton, SpaceBetween, Text, Flex } from '@cko/primitives';\nimport { Formik, Form } from 'formik';\nimport React from 'react';\nimport FormikSelectMenu from 'components/FormikSelectMenu';\nimport { createValidator, required, duplicate } from 'utils/validator';\nimport VelocityFormHeader from '../VelocityFormHeader';\n\nimport {\n  relativeVelocityOptions,\n  velocityPeriodOptions,\n  relativeVelocityTransactionActionOptions,\n} from './../velocityProperties';\nimport FormikSegmentedControl from 'components/FormikSegmentedControl';\nimport { AvailableProperty } from 'types/models';\nimport TooltipButtonWrapper from 'components/TooltipButtonWrapper';\n\nexport interface RelativeVelocityFormData {\n  attributeOne: string;\n  attributeTwo: string;\n  period: string;\n  action: string;\n  property: string;\n}\n\nconst validator = createValidator({\n  attributeOne: [\n    required('Attribute one is required'),\n    duplicate('attributeTwo', 'The attributes must be different'),\n  ],\n  attributeTwo: [required('Attribute two is required')],\n  period: [required()],\n  action: [required()],\n});\n\nconst relativeVelocityValidator = (\n  availableProperties: AvailableProperty[]\n) => async (values: RelativeVelocityFormData) => {\n  const fieldErrors = await validator(values);\n\n  if (Object.values(fieldErrors).find((e) => !!e)) {\n    return fieldErrors;\n  }\n\n  const { attributeOne, attributeTwo, period, action } = values;\n  const property = createRelativeVelocityPredicate({\n    action,\n    period,\n    attributeOne,\n    attributeTwo,\n  });\n\n  if (!availableProperties.find((x) => x.name === property)) {\n    return { property: 'This combination is currently unsupported' };\n  }\n};\n\ninterface Props {\n  onSubmit: (velocityProperty: string) => void;\n  handleClose: () => void;\n  availableProperties: AvailableProperty[];\n}\n\ninterface Params {\n  action: string;\n  attributeOne: string;\n  attributeTwo: string;\n  period: string;\n}\n\nexport const createRelativeVelocityPredicate = ({\n  action,\n  attributeOne,\n  attributeTwo,\n  period,\n}: Params) => {\n  return `nb_relative_${action}_${attributeOne}_per_${attributeTwo}_${period}`;\n};\n\nconst RelativeVelocityForm: React.FunctionComponent<Props> = ({\n  onSubmit,\n  handleClose,\n  availableProperties,\n}) => {\n  return (\n    <Formik<RelativeVelocityFormData>\n      initialValues={{\n        attributeOne: '',\n        attributeTwo: '',\n        period: velocityPeriodOptions[0].value,\n        action: relativeVelocityTransactionActionOptions[0].value,\n        property: '',\n      }}\n      onSubmit={({ action, period, attributeOne, attributeTwo }) => {\n        onSubmit(\n          `:${createRelativeVelocityPredicate({\n            action,\n            period,\n            attributeOne,\n            attributeTwo,\n          })}:`\n        );\n      }}\n      validate={relativeVelocityValidator(availableProperties)}\n      validateOnMount\n    >\n      {({ errors, isValid }) => {\n        const [firstError] = Object.values(errors);\n\n        return (\n          <Form>\n            <VelocityFormHeader\n              velocityFormTitle=\"Relative velocity\"\n              handleClose={handleClose}\n            />\n            <Flex flexDirection=\"column\" p={4}>\n              <SpaceBetween my={3}>\n                <Text mb={2} color=\"focus\">\n                  Insert a velocity element to check:\n                </Text>\n                <Box>\n                  <FormikSelectMenu\n                    name=\"attributeOne\"\n                    options={relativeVelocityOptions}\n                    label=\"The number of unique ...\"\n                    placeholder=\"Select attribute 1\"\n                  />\n                </Box>\n\n                <Box>\n                  <FormikSelectMenu\n                    name=\"attributeTwo\"\n                    options={relativeVelocityOptions}\n                    label=\"sharing ...\"\n                    placeholder=\"Select attribute 2\"\n                  />\n                </Box>\n\n                <Box>\n                  <FormikSegmentedControl\n                    label=\"Appears over a period of ...\"\n                    name=\"period\"\n                    options={velocityPeriodOptions}\n                  />\n                </Box>\n                <Box>\n                  <FormikSegmentedControl\n                    label=\"in all transactions that were ...\"\n                    name=\"action\"\n                    options={relativeVelocityTransactionActionOptions}\n                  />\n                </Box>\n              </SpaceBetween>\n\n              <Box mt={5}>\n                <TooltipButtonWrapper enabled={!isValid} text={firstError}>\n                  <PrimaryButton type=\"submit\" disabled={!isValid}>\n                    Insert velocity element\n                  </PrimaryButton>\n                </TooltipButtonWrapper>\n              </Box>\n            </Flex>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default RelativeVelocityForm;\n","import React, { useCallback, useEffect } from 'react';\nimport {\n  useVelocityWizard,\n  VelocityWizardFormType,\n} from '../VelocityWizardContext';\nimport SimpleVelocityForm from '../VelocityWizard/SimpleVelocityForm/SimpleVelocityForm';\nimport VelocityDrawer from '../VelocityDrawer/VelocityDrawer';\nimport RelativeVelocityForm from '../VelocityWizard/RelativeVelocityForm/RelativeVelocityForm';\nimport { useRulesEditor } from '../RulesEditorContext';\nimport { useRulesBuilder } from '../RulesBuilderContext';\nimport { AvailableProperty } from 'types/models';\nimport { useScrollSpy } from 'hooks/useScrollSpy';\n\ninterface Props {\n  formType: VelocityWizardFormType | null;\n  handleClose: () => void;\n  availableProperties: AvailableProperty[];\n  onSubmit: (predicate: string) => void;\n}\n\nconst VelocityForm: React.FunctionComponent<Props> = ({\n  formType,\n  handleClose,\n  availableProperties,\n  onSubmit,\n}) => {\n  switch (formType) {\n    case VelocityWizardFormType.VelocityTransactionCount:\n      return (\n        <SimpleVelocityForm\n          handleClose={handleClose}\n          availableProperties={availableProperties}\n          onSubmit={onSubmit}\n        />\n      );\n    case VelocityWizardFormType.VelocityRelative:\n      return (\n        <RelativeVelocityForm\n          handleClose={handleClose}\n          availableProperties={availableProperties}\n          onSubmit={onSubmit}\n        />\n      );\n    default:\n      return null;\n  }\n};\n\nconst VelocityWizardContainer: React.FunctionComponent = () => {\n  const {\n    formType,\n    handleClose,\n    isDrawerOpen,\n    drawerRef,\n  } = useVelocityWizard();\n  const { insertPredicate } = useRulesEditor();\n  const { availableProperties } = useRulesBuilder();\n  const { isInView } = useScrollSpy({\n    getRoot: (el: Element) => el.parentElement?.parentElement,\n  });\n\n  useEffect(() => {\n    if (!isInView('velocities')) {\n      handleClose();\n    }\n  }, [handleClose, isInView]);\n\n  const handleSubmit = useCallback(\n    (property: string): void => {\n      insertPredicate(property);\n      handleClose();\n    },\n    [handleClose, insertPredicate]\n  );\n\n  return (\n    <VelocityDrawer velocityFormVisible={isDrawerOpen} ref={drawerRef}>\n      <VelocityForm\n        availableProperties={availableProperties}\n        onSubmit={handleSubmit}\n        formType={formType}\n        handleClose={handleClose}\n      />\n    </VelocityDrawer>\n  );\n};\n\nexport default VelocityWizardContainer;\n","import useIntentHover from 'hooks/useIntentHover';\nimport { useRulesBuilderHelp } from '../RulesBuilderHelpContext';\nimport { useRulesEditor } from '../RulesEditorContext';\nimport { useCallback } from 'react';\nimport { RuleProperties } from 'types/models';\nimport { useVelocityWizard } from '../VelocityWizardContext';\n\nconst usePropertyList = () => {\n  const getHoverProps = useIntentHover();\n  const { setHelpContentKey } = useRulesBuilderHelp();\n  const {\n    captureSelection,\n    removePlaceholder,\n    insertPlaceholder,\n    insertPredicate,\n    setReadOnly,\n  } = useRulesEditor();\n  const { isDrawerOpen } = useVelocityWizard();\n\n  return useCallback(\n    (ruleProperties: RuleProperties) => {\n      const { onMouseEnter, onMouseLeave } = getHoverProps({\n        onEnter: () => {\n          setHelpContentKey(ruleProperties.helpKey);\n          ruleProperties.predicate &&\n            insertPlaceholder(ruleProperties.predicate.length);\n        },\n        onLeave: () => {\n          removePlaceholder();\n        },\n      });\n\n      return {\n        onMouseEnter: () => {\n          captureSelection();\n          setReadOnly(true);\n          !isDrawerOpen && onMouseEnter();\n        },\n        onMouseLeave: () => {\n          setReadOnly(false);\n          !isDrawerOpen && onMouseLeave();\n        },\n        onClick: () => {\n          !isDrawerOpen &&\n            ruleProperties.predicate &&\n            insertPredicate(ruleProperties.predicate);\n        },\n      };\n    },\n    [\n      captureSelection,\n      getHoverProps,\n      insertPlaceholder,\n      insertPredicate,\n      isDrawerOpen,\n      removePlaceholder,\n      setHelpContentKey,\n      setReadOnly,\n    ]\n  );\n};\n\nexport default usePropertyList;\n","import React, { useMemo } from 'react';\nimport { ListItem } from '@cko/primitives';\nimport styled from 'styled-components';\nimport RulesExample from '../../RulesEditor/RulesExample';\nimport useMlScoreEnabled from 'hooks/useMlScoreEnabled';\nimport usePropertyList from '../usePropertyList';\nimport { RuleProperties } from 'types/models';\nimport RulesMenuItemWrapper from '../../rulesBuilderUtils/RulesMenuItemWrapper';\n\ninterface RuleSidebarItemProps {\n  predicate: string;\n}\n\nconst RuleSidebarItem = React.memo(({ predicate }: RuleSidebarItemProps) => {\n  return (\n    <RulesMenuItemWrapper>\n      <RulesExample predicate={predicate} />\n    </RulesMenuItemWrapper>\n  );\n});\n\nconst scorePredicateRegularExpression = RegExp(':score:', 'g');\n\nconst filterScorePredicate = (exampleCombination: RuleProperties) => {\n  return (\n    exampleCombination.predicate &&\n    !scorePredicateRegularExpression.test(exampleCombination.predicate)\n  );\n};\n\ninterface Props {\n  data: Record<string, RuleProperties> | {};\n}\n\nconst RulesPropertyListItem = styled(ListItem)`\n  cursor: pointer;\n  word-break: break-word;\n`;\n\nconst FilteredRulesPropertyListItems: React.FunctionComponent<Props> = ({\n  data,\n}) => {\n  const getPropertyListProps = usePropertyList();\n\n  const enabledSelectedMerchantMlScore = useMlScoreEnabled();\n\n  const filteredRulesProperties = useMemo(() => {\n    return enabledSelectedMerchantMlScore\n      ? Object.values(data)\n      : Object.values(data).filter(filterScorePredicate);\n  }, [data, enabledSelectedMerchantMlScore]);\n\n  return (\n    <ul>\n      {filteredRulesProperties.map((ruleProperty) => {\n        return (\n          ruleProperty.predicate && (\n            <RulesPropertyListItem\n              key={ruleProperty.predicate}\n              {...getPropertyListProps(ruleProperty)}\n              data-cy={`property-list:${ruleProperty.predicate}`}\n            >\n              <RuleSidebarItem predicate={ruleProperty.predicate} />\n            </RulesPropertyListItem>\n          )\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default FilteredRulesPropertyListItems;\n","import useTabs from 'hooks/useTabs';\nimport React from 'react';\n\ntype Props = {\n  id: string;\n};\n\nconst RulesMenuTabPanel: React.FC<Props> = ({ children, id }) => {\n  const { getTabPanelProps } = useTabs();\n\n  return <div {...getTabPanelProps({ id })}>{children}</div>;\n};\n\nexport default RulesMenuTabPanel;\n","import { Box, Flex, Text } from '@cko/primitives';\nimport { TabPanels } from 'components/Tabs';\nimport VelocityMenuContainer from 'features/RulesBuilder/VelocityMenuContainer';\nimport VelocityWizardContainer from 'features/RulesBuilder/VelocityWizardContainer/VelocityWizardContainer';\nimport React from 'react';\nimport FilteredRulesPropertyListItems from './FilteredRulesPropertyListItem';\nimport RulesMenuTabPanel from './RulesMenuTabPanel';\nimport content from '../../RuleBuilderContent';\nimport styled from 'styled-components';\n\nconst ItemWrapper = styled(Flex).attrs(() => ({\n  bg: 'offWhite',\n  borderBottom: 'baseLight.1',\n  borderRight: 'baseLight.3',\n  height: '60px',\n}))`\n  line-height: 32px;\n  text-align: left;\n\n  &:before {\n    border-left: 4px solid ${({ theme }) => theme.colors.base};\n    content: '';\n  }\n`;\n\nconst MenuSubgroupHeader = styled(Text).attrs(() => ({\n  ml: 3,\n  my: 'auto',\n  fontSize: '14px',\n  color: 'focusLight',\n  fontWeight: '500',\n}))``;\n\nconst RulesMenuItems: React.FC = () => {\n  const { exampleCombinations, availableProperties, operators } = content;\n\n  return (\n    <Box\n      width=\"100%\"\n      bg=\"#F8F9FA\"\n      p={0}\n      style={{\n        overflow: 'scroll',\n      }}\n    >\n      <TabPanels>\n        <RulesMenuTabPanel id=\"example-rules\">\n          <ItemWrapper>\n            <MenuSubgroupHeader>Amount and currency</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={exampleCombinations.amountAndCurrency}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Fraud score and reference</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={exampleCombinations.fraudScoreAndReference}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Addresses</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={exampleCombinations.addresses}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Card details</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={exampleCombinations.cardDetails}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Cardholder details</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={exampleCombinations.cardholderDetails}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Verification results</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={exampleCombinations.verficationResults}\n          />\n        </RulesMenuTabPanel>\n        <RulesMenuTabPanel id=\"properties\">\n          <ItemWrapper>\n            <MenuSubgroupHeader>Amount and currency</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={availableProperties.amountAndCurrency}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Fraud score and reference</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={availableProperties.fraudScoreAndReference}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Addresses</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={availableProperties.addresses}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Card details</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={availableProperties.cardDetails}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Cardholder details</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={availableProperties.cardholderDetails}\n          />\n          <ItemWrapper>\n            <MenuSubgroupHeader>Verification results</MenuSubgroupHeader>\n          </ItemWrapper>\n          <FilteredRulesPropertyListItems\n            data={availableProperties.verficationResults}\n          />\n        </RulesMenuTabPanel>\n        <RulesMenuTabPanel id=\"operators\">\n          <FilteredRulesPropertyListItems data={operators} />\n        </RulesMenuTabPanel>\n        <VelocityMenuContainer />\n      </TabPanels>\n      <VelocityWizardContainer />\n    </Box>\n  );\n};\n\nexport default RulesMenuItems;\n","import styled, { css } from 'styled-components';\n\nconst EditorFallback = styled.textarea(\n  ({ theme, disabled }) => css`\n    resize: none;\n    width: 100%;\n    min-height: 200px;\n    padding: 8px 12px;\n    border: 1px solid ${theme.colors.baseLight};\n    border-radius: ${theme.radii[1]};\n    box-shadow: ${theme.shadows.focusLight[0]};\n    background-color: ${disabled ? '#f7f9fa' : '#fff'};\n  `\n);\n\nEditorFallback.defaultProps = { disabled: true };\n\nexport default EditorFallback;\n","import React, { useState, lazy, Suspense, useMemo } from 'react';\nimport { Form, useFormikContext } from 'formik';\nimport {\n  Flex,\n  PrimaryButton,\n  Box,\n  DangerButton,\n  InlineNotification,\n} from '@cko/primitives';\nimport TextField from 'components/TextField';\nimport {\n  FormMode,\n  ScoringRuleFormData,\n  ScoringRuleModalData,\n} from 'types/models';\n\nimport EditorFallback from '../RulesEditor/EditorFallback';\nimport styled from 'styled-components';\nimport { IconActionDelete, IconActionCheckmark } from '@cko/icons';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\nimport TooltipButtonWrapper from 'components/TooltipButtonWrapper';\nimport SpacedButtonGroup from 'components/SpacedButtonGroup';\nimport FeatureFlag from 'components/FeatureFlag';\nimport useIntentHover from 'hooks/useIntentHover';\nimport { useRulesBuilderHelp } from '../RulesBuilderHelpContext';\nimport RulebuilderContent from '../RuleBuilderContent';\nimport 'styled-components/macro';\nimport { useRulesBuilder } from '../RulesBuilderContext';\n\nconst IconCheckmarkIcon = styled(IconActionCheckmark)`\n  & > g {\n    fill: #017c63;\n  }\n`;\n\nconst RulesEditorContainer = lazy(\n  () => import(/* webpackChunkName: \"RulesEditor\" */ '../RulesEditorContainer')\n);\n\nconst DeleteIcon = styled(IconActionDelete)`\n  margin-right: 8px;\n  vertical-align: text-bottom;\n`;\n\nconst EditorLabel = styled.span`\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  margin: 4px 0;\n  margin-top: 0;\n`;\n\ninterface Props {\n  data: ScoringRuleModalData;\n}\n\nconst RulesBuilderForm: React.FunctionComponent<Props> = ({ data }) => {\n  const initialCount = data.mode === FormMode.Edit ? 1 : 0;\n  const [testCount, setTestCount] = useState(initialCount);\n  const getIntentProps = useIntentHover();\n  const { setHelpContentKey } = useRulesBuilderHelp();\n  const { submissionError, setSubmissionError } = useRulesBuilder();\n\n  const { openModal: openDeleteModal } = useModalManager<ScoringRuleModalData>(\n    Modals.DELETE_SCORING_RULE\n  );\n\n  const initial = {\n    name: data.name || '',\n    predicate: data.predicate || '',\n  };\n\n  const isDisabled = useMemo(\n    () => !!(data.risk_profiles && data.risk_profiles.length > 0),\n    [data.risk_profiles]\n  );\n\n  const buttonText =\n    data.mode === FormMode.Edit || data.mode === FormMode.EditDelete\n      ? 'Update rule'\n      : 'Create rule';\n\n  const {\n    isSubmitting,\n    submitCount,\n    errors,\n    validateForm,\n    isValid,\n    isValidating,\n  } = useFormikContext<ScoringRuleFormData>();\n\n  const submitAndTestCount = submitCount + testCount;\n  const [firstError] = Object.values(errors);\n\n  return (\n    <Box width={1}>\n      <Form data-testid=\"add-rule-form\">\n        <Box mb={4}>\n          <TextField\n            label=\"Rule name\"\n            name=\"name\"\n            submitCount={submitAndTestCount}\n            displayFieldError={false}\n          />\n        </Box>\n        <Box mb={3}>\n          <EditorLabel>Rule</EditorLabel>\n          <Suspense fallback={<EditorFallback />}>\n            <RulesEditorContainer\n              name=\"predicate\"\n              initialValue={initial.predicate}\n              submitAndTestCount={submitAndTestCount}\n            />\n          </Suspense>\n        </Box>\n\n        <FeatureFlag\n          on={\n            firstError !== undefined &&\n            submitAndTestCount > initialCount &&\n            !isValidating &&\n            submissionError === null\n          }\n        >\n          <Box width={[2 / 3]} mb={3}>\n            <InlineNotification type=\"alert\">{firstError}</InlineNotification>\n          </Box>\n        </FeatureFlag>\n\n        <FeatureFlag\n          on={\n            submitAndTestCount > initialCount &&\n            firstError === undefined &&\n            !isValidating &&\n            submissionError === null\n          }\n        >\n          <Box width={[2 / 3]} mb={3}>\n            <Flex p={0}>\n              <InlineNotification type=\"success\">\n                <Flex>\n                  <Box mr={2}>\n                    <IconCheckmarkIcon />\n                  </Box>\n                  Rule syntax is consistent\n                </Flex>\n              </InlineNotification>\n            </Flex>\n          </Box>\n        </FeatureFlag>\n\n        <FeatureFlag on={submissionError !== null}>\n          <Box width={[2 / 3]} mb={3}>\n            <InlineNotification type=\"alert\">\n              {submissionError}\n            </InlineNotification>\n          </Box>\n        </FeatureFlag>\n\n        <Flex justifyContent=\"space-between\">\n          <PrimaryButton\n            variant=\"large\"\n            onClick={async (e) => {\n              e.preventDefault();\n              setTestCount((c) => c + 1);\n              setSubmissionError(null);\n              validateForm();\n            }}\n            {...getIntentProps(() => {\n              setHelpContentKey(RulebuilderContent.editor.checkRule.helpKey);\n            })}\n          >\n            {isValidating ? 'Checking rule' : 'Check rule'}\n          </PrimaryButton>\n\n          <SpacedButtonGroup>\n            <FeatureFlag on={errors.predicate === undefined && isValid}>\n              <PrimaryButton variant=\"large\" type=\"submit\">\n                {isSubmitting ? 'Submitting' : buttonText}\n              </PrimaryButton>\n            </FeatureFlag>\n\n            {data.mode === FormMode.EditDelete && (\n              <TooltipButtonWrapper\n                enabled={isDisabled}\n                text=\"This rule cannot be deleted as it is currently being used in one or more Risk Profiles.\"\n              >\n                <DangerButton\n                  variant=\"large\"\n                  disabled={isDisabled}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    openDeleteModal({ ...data });\n                  }}\n                >\n                  <DeleteIcon />\n                  Delete Rule\n                </DangerButton>\n              </TooltipButtonWrapper>\n            )}\n          </SpacedButtonGroup>\n        </Flex>\n      </Form>\n    </Box>\n  );\n};\n\nexport default RulesBuilderForm;\n","import React from 'react';\n\nconst ExampleRulesIcon = () => {\n  return (\n    <svg\n      width=\"40\"\n      height=\"23\"\n      viewBox=\"0 0 40 23\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"1\"\n        y=\"0.5\"\n        width=\"25\"\n        height=\"22\"\n        rx=\"6.5\"\n        fill=\"#CAE6FB\"\n        stroke=\"white\"\n      />\n      <rect\n        x=\"14\"\n        y=\"0.5\"\n        width=\"25\"\n        height=\"22\"\n        rx=\"6.5\"\n        fill=\"#F6DEDF\"\n        stroke=\"white\"\n      />\n    </svg>\n  );\n};\n\nexport default ExampleRulesIcon;\n","import React from 'react';\n\nconst PropertiesRulesIcon = () => {\n  return (\n    <svg\n      width=\"30\"\n      height=\"23\"\n      viewBox=\"0 0 30 23\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"2.5\"\n        y=\"0.5\"\n        width=\"25\"\n        height=\"22\"\n        rx=\"6.5\"\n        fill=\"#ECF8F5\"\n        stroke=\"white\"\n      />\n      <path\n        d=\"M13.4058 9.84C13.4058 9.536 13.4978 9.292 13.6818 9.108C13.8738 8.916 14.1058 8.82 14.3778 8.82C14.6498 8.82 14.8778 8.916 15.0618 9.108C15.2538 9.292 15.3498 9.536 15.3498 9.84C15.3498 10.144 15.2538 10.388 15.0618 10.572C14.8778 10.756 14.6498 10.848 14.3778 10.848C14.1058 10.848 13.8738 10.756 13.6818 10.572C13.4978 10.388 13.4058 10.144 13.4058 9.84ZM13.4058 14.136C13.4058 13.832 13.4978 13.588 13.6818 13.404C13.8738 13.212 14.1058 13.116 14.3778 13.116C14.6498 13.116 14.8778 13.212 15.0618 13.404C15.2538 13.588 15.3498 13.832 15.3498 14.136C15.3498 14.44 15.2538 14.684 15.0618 14.868C14.8778 15.052 14.6498 15.144 14.3778 15.144C14.1058 15.144 13.8738 15.052 13.6818 14.868C13.4978 14.684 13.4058 14.44 13.4058 14.136Z\"\n        fill=\"#017C63\"\n      />\n    </svg>\n  );\n};\n\nexport default PropertiesRulesIcon;\n","import React from 'react';\n\nconst OperatorsIcon = () => {\n  return (\n    <svg\n      width=\"30\"\n      height=\"23\"\n      viewBox=\"0 0 30 23\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"0.5\"\n        y=\"0.5\"\n        width=\"29\"\n        height=\"22\"\n        rx=\"6.5\"\n        fill=\"#E1E8EA\"\n        stroke=\"white\"\n      />\n      <path\n        d=\"M13.4423 15.424L8.96631 12.388V11.644L13.4423 8.608V9.556L9.83031 11.992V12.04L13.4423 14.476V15.424ZM16.0056 15.424V14.476L19.6176 12.04V11.992L16.0056 9.556V8.608L20.4816 11.644V12.388L16.0056 15.424Z\"\n        fill=\"#1B2F37\"\n      />\n    </svg>\n  );\n};\n\nexport default OperatorsIcon;\n","import get from 'lodash/get';\nimport ExampleRulesIcon from '../RulesNavigationMenu/ExampleRulesIcon';\nimport PropertiesRulesIcon from '../RulesNavigationMenu/PropertiesRulesIcon';\nimport rulesBuilderContent from './../RuleBuilderContent';\nimport OperatorsIcon from '../RulesNavigationMenu/OperatorsIcon';\n\nexport const rulesIconMap: Record<string, () => JSX.Element> = {\n  exampleCombinations: ExampleRulesIcon,\n  availableProperties: PropertiesRulesIcon,\n  operators: OperatorsIcon,\n};\n\nexport const rulesTypeTitleMap: Record<string, string> = {\n  exampleCombinations: 'Example combinations',\n  availableProperties: 'Properties',\n  operators: 'Operators',\n};\n\nexport const findHelpContent = (key: string) => {\n  return get(rulesBuilderContent, key, null);\n};\n","import React from 'react';\nimport { rulesIconMap, rulesTypeTitleMap } from './../rulesBuilderUtils';\nimport { Flex, Box, Text } from '@cko/primitives';\nimport RulesExample from './../RulesEditor/RulesExample';\nimport styled from 'styled-components';\n\ninterface Props {\n  type: string;\n  predicate?: string;\n  content: string[];\n  title?: string;\n}\n\nconst StyledHelpContent = styled(Text)(\n  ({ theme }) => `\n  line-height: 22px;\n  color: ${theme.colors.focusLight};\n\n  b {\n    font-weight: 500;\n    color: black;\n  }\n\n  i {\n    font-style: italic;\n  }\n  `\n);\n\nexport const HelpContent: React.FunctionComponent = ({ children }) => {\n  return (\n    <StyledHelpContent\n      dangerouslySetInnerHTML={{ __html: children as string }}\n    />\n  );\n};\n\nconst RulesBuilderHelpContent: React.FunctionComponent<Props> = ({\n  type,\n  predicate,\n  content,\n  title,\n}) => {\n  const Icon = rulesIconMap[type];\n\n  return (\n    <>\n      <Flex alignItems=\"center\" mb={predicate ? 4 : 3}>\n        {Icon && (\n          <Box mr={2} style={{ lineHeight: 0 }}>\n            <Icon />\n          </Box>\n        )}\n        <Text lineHeight={0} color=\"focus\" fontWeight=\"500\">\n          {title || rulesTypeTitleMap[type]}\n        </Text>\n      </Flex>\n\n      {predicate && (\n        <Box mb={3} style={{ wordBreak: 'break-all' }}>\n          <RulesExample predicate={predicate} />\n        </Box>\n      )}\n\n      {content.map((text, i) => {\n        return (\n          <Box mb={3} key={`content-${i}`}>\n            <HelpContent>{text}</HelpContent>\n          </Box>\n        );\n      })}\n    </>\n  );\n};\n\nexport default RulesBuilderHelpContent;\n","import React from 'react';\n\nconst VelocitiesIcon = () => {\n  return (\n    <svg\n      width=\"30\"\n      height=\"23\"\n      viewBox=\"0 0 30 23\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect\n        x=\"2.5\"\n        y=\"0.5\"\n        width=\"25\"\n        height=\"22\"\n        rx=\"6.5\"\n        fill=\"#FFE7B5\"\n        stroke=\"white\"\n      />\n      <path\n        d=\"M14.3778 10.848C14.1058 10.848 13.8738 10.756 13.6818 10.572C13.4978 10.388 13.4058 10.144 13.4058 9.84C13.4058 9.536 13.4978 9.292 13.6818 9.108C13.8738 8.916 14.1058 8.82 14.3778 8.82C14.6498 8.82 14.8778 8.916 15.0618 9.108C15.2538 9.292 15.3498 9.536 15.3498 9.84C15.3498 10.144 15.2538 10.388 15.0618 10.572C14.8778 10.756 14.6498 10.848 14.3778 10.848ZM14.3778 15.144C14.1058 15.144 13.8738 15.052 13.6818 14.868C13.4978 14.684 13.4058 14.44 13.4058 14.136C13.4058 13.832 13.4978 13.588 13.6818 13.404C13.8738 13.212 14.1058 13.116 14.3778 13.116C14.6498 13.116 14.8778 13.212 15.0618 13.404C15.2538 13.588 15.3498 13.832 15.3498 14.136C15.3498 14.44 15.2538 14.684 15.0618 14.868C14.8778 15.052 14.6498 15.144 14.3778 15.144Z\"\n        fill=\"#79560D\"\n      />\n    </svg>\n  );\n};\n\nexport default VelocitiesIcon;\n","import React from 'react';\nimport { Flex, Box, Text } from '@cko/primitives';\nimport RulesExample from '../RulesEditor/RulesExample';\nimport { HelpContent } from './RulesBuilderHelpContent';\nimport VelocitiesIcon from '../RulesNavigationMenu/VelocitiesIcon';\n\ninterface Props {\n  content: string[];\n  title: string;\n  predicate: string;\n  exampleDesc: string;\n}\n\nconst VelocityWizardHelpContent: React.FunctionComponent<Props> = ({\n  content,\n  title,\n  predicate,\n  exampleDesc,\n}) => {\n  return (\n    <>\n      <Flex alignItems=\"center\" mb={predicate ? 4 : 3}>\n        <Box mr={2} style={{ lineHeight: 0 }}>\n          <VelocitiesIcon />\n        </Box>\n\n        <Text lineHeight={0} color=\"focus\" fontWeight=\"500\">\n          {title}\n        </Text>\n      </Flex>\n\n      {content.map((text, i) => {\n        return (\n          <Box mb={3} key={`content-${i}`}>\n            <HelpContent>{text}</HelpContent>\n          </Box>\n        );\n      })}\n\n      <Box mb={3} style={{ wordBreak: 'break-all' }}>\n        <RulesExample predicate={predicate} />\n      </Box>\n\n      <Box mb={3}>\n        <Text>{exampleDesc}</Text>\n      </Box>\n    </>\n  );\n};\n\nexport default VelocityWizardHelpContent;\n","import React, { useMemo } from 'react';\nimport { Flex, OutlineButton, Box, TextHeadingOne } from '@cko/primitives';\nimport FeatureFlag from 'components/FeatureFlag';\nimport RulesBuilderHelpContent from './../RulesBuilderHelpContent';\nimport VelocityWizardHelpContent from './../RulesBuilderHelpContent/VelocityWizardHelpContent';\nimport { findHelpContent } from '../rulesBuilderUtils';\nimport { useRulesBuilderHelp } from '../RulesBuilderHelpContext';\nimport styled from 'styled-components';\nimport { display, DisplayProps } from 'styled-system';\n\ninterface Props {\n  showHelpSection: boolean;\n  onToggle: () => void;\n}\n\nconst ToggleButton = styled(OutlineButton)<DisplayProps>`\n  ${display}\n`;\n\nconst RulesBuilderHelpContainer: React.FunctionComponent<Props> = ({\n  showHelpSection,\n  onToggle,\n}) => {\n  const { helpContentKey } = useRulesBuilderHelp();\n\n  const helpContent = useMemo(() => {\n    return findHelpContent(helpContentKey);\n  }, [helpContentKey]);\n\n  return (\n    <>\n      <Flex justifyContent=\"space-between\" pr={3}>\n        <FeatureFlag on={showHelpSection}>\n          <TextHeadingOne>Help</TextHeadingOne>\n        </FeatureFlag>\n        <ToggleButton\n          onClick={onToggle}\n          display={['none', 'none', 'none', 'unset']}\n        >\n          {showHelpSection ? <>{'>'}</> : <>{'<'}</>}\n        </ToggleButton>\n      </Flex>\n\n      {helpContent && (\n        <FeatureFlag on={showHelpSection}>\n          <Box mt={3} pr={3}>\n            {helpContent.type === 'velocity' ? (\n              <VelocityWizardHelpContent\n                title={helpContent.title}\n                content={helpContent.content}\n                predicate={helpContent.example.predicate}\n                exampleDesc={helpContent.example.description}\n              />\n            ) : (\n              <RulesBuilderHelpContent\n                type={helpContent.type}\n                predicate={helpContent.predicate}\n                content={helpContent.content}\n                title={helpContent.title}\n              />\n            )}\n          </Box>\n        </FeatureFlag>\n      )}\n    </>\n  );\n};\n\nexport default RulesBuilderHelpContainer;\n","import React from 'react';\nimport { Box, Text, ClickableElement } from '@cko/primitives';\nimport ExampleRulesIcon from './ExampleRulesIcon';\nimport PropertiesRulesIcon from './PropertiesRulesIcon';\nimport styled from 'styled-components';\nimport 'styled-components/macro';\nimport OperatorsIcon from './OperatorsIcon';\nimport VelocitiesIcon from './VelocitiesIcon';\nimport useTabs from 'hooks/useTabs';\nimport IndexChildren from 'components/IndexChildren';\n\nconst MenuItemWrapper = styled(ClickableElement)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 90px;\n  width: 90px;\n  &[aria-selected='true'] {\n    background: #e4e9eb;\n  }\n`;\n\ninterface Props {\n  children: React.ReactNode;\n  icon: JSX.Element;\n  index?: number;\n  id: string;\n}\n\nconst MenuItem: React.FunctionComponent<Props> = ({\n  children,\n  icon,\n  index,\n  id,\n}) => {\n  const { getTabProps } = useTabs();\n\n  if (index === undefined) {\n    return null;\n  }\n\n  return (\n    <li>\n      <MenuItemWrapper {...getTabProps({ id, index: index! })}>\n        <Box mx=\"auto\" mb={2}>\n          {icon}\n        </Box>\n        <Text\n          mx={2}\n          color=\"focusLight\"\n          fontSize={1}\n          style={{ textAlign: 'center' }}\n        >\n          {children}\n        </Text>\n      </MenuItemWrapper>\n    </li>\n  );\n};\n\nconst RulesNavigationMenu = () => {\n  return (\n    <Box bg=\"#F9F8FA\" borderRight=\"baseLight.1\">\n      <ul role=\"tablist\">\n        <IndexChildren>\n          <MenuItem id=\"example-rules\" icon={<ExampleRulesIcon />}>\n            Example rules\n          </MenuItem>\n\n          <MenuItem id=\"properties\" icon={<PropertiesRulesIcon />}>\n            Properties\n          </MenuItem>\n\n          <MenuItem id=\"operators\" icon={<OperatorsIcon />}>\n            Operators\n          </MenuItem>\n\n          <MenuItem id=\"velocities\" icon={<VelocitiesIcon />}>\n            Velocities\n          </MenuItem>\n        </IndexChildren>\n      </ul>\n    </Box>\n  );\n};\n\nexport default RulesNavigationMenu;\n","import React from 'react';\nimport { OutlineButton, Box } from '@cko/primitives';\nimport { IconActionInfo } from '@cko/icons';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\nimport ModalWithHeader from './ModalWithHeader';\nimport { ScoringRuleFormData } from 'types/models';\nimport { useFormikContext } from 'formik';\nimport { useRulesBuilderModal } from '../RulesBuilderContainer/RulesBuilderContainer';\n\nconst RulesBuilderModal: React.FC = ({ children }) => {\n  const { openModal: openRulesInfo } = useModalManager<string>(\n    Modals.RULE_PROFILE_INFO\n  );\n\n  const { closeModal: closeRuleBuilderModal } = useRulesBuilderModal();\n\n  const { openModal: openRuleBuilderNamePrompt } = useModalManager<boolean>(\n    Modals.RULE_BUILDER_NAME_PROMPT\n  );\n\n  const { openModal: openRuleBuilderRulePrompt } = useModalManager<boolean>(\n    Modals.RULE_BUILDER_RULE_PROMPT\n  );\n\n  const { openModal: openRuleBuilderSavePrompt } = useModalManager<boolean>(\n    Modals.RULE_BUILDER_SAVE_PROMPT\n  );\n\n  const { errors, touched } = useFormikContext<ScoringRuleFormData>();\n\n  const closeModal = () => {\n    const formHasNotBeenTouched = Object.keys(touched).length === 0;\n    if (formHasNotBeenTouched) {\n      closeRuleBuilderModal();\n      return;\n    }\n\n    if (errors.name) {\n      openRuleBuilderNamePrompt();\n    } else if (errors.predicate) {\n      openRuleBuilderRulePrompt();\n    } else {\n      openRuleBuilderSavePrompt();\n    }\n  };\n\n  return (\n    <ModalWithHeader\n      type=\"success\"\n      title=\"Create a new rule\"\n      headerContent={\n        // 77px is to align the learn more button with the content of the modal\n        <Box ml=\"77px\">\n          <OutlineButton onClick={() => openRulesInfo()}>\n            <IconActionInfo /> Learn more\n          </OutlineButton>\n        </Box>\n      }\n      closeModal={closeModal}\n      maxWidth=\"90vw\"\n      closeOnClickOutside={false}\n      closeOnEscape={false}\n    >\n      {children}\n    </ModalWithHeader>\n  );\n};\n\nexport default RulesBuilderModal;\n","import React from 'react';\n\nimport {\n  Modal,\n  Box,\n  Text,\n  Flex,\n  SecondaryButton,\n  AlertButton,\n  TextInline,\n} from '@cko/primitives';\n\ninterface Props {\n  closePrompt: () => void;\n  closeRuleBuilder: () => void;\n  message: string;\n}\n\nconst RulesBuilderPrompt: React.FC<Props> = ({\n  closePrompt,\n  closeRuleBuilder,\n  message,\n}) => {\n  return (\n    <Modal\n      type=\"alert\"\n      title={'You’re leaving the rule builder'}\n      closeModal={closePrompt}\n    >\n      <Box pb={2}>\n        <Text fontSize={1} lineHeight={1}>\n          {message}\n        </Text>\n      </Box>\n      <Box pb={4}>\n        <Text fontSize={1} lineHeight={1}>\n          Would you like to{' '}\n          <TextInline fontWeight=\"500\">Return and finish</TextInline> your rule,\n          or click <TextInline fontWeight=\"500\">Exit rule builder</TextInline>{' '}\n          to discard your changes?\n        </Text>\n      </Box>\n      <Flex alignItems=\"center\" p={0}>\n        <Box>\n          <SecondaryButton onClick={closePrompt} data-testid=\"delete-button\">\n            Return and finish\n          </SecondaryButton>\n        </Box>\n        <Box pl={3}>\n          <AlertButton\n            onClick={() => {\n              closePrompt();\n              closeRuleBuilder();\n            }}\n          >\n            Exit rule builder\n          </AlertButton>\n        </Box>\n      </Flex>\n    </Modal>\n  );\n};\n\nexport default RulesBuilderPrompt;\n","import React from 'react';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\n\nimport RulesBuilderPrompt from './RulesBuilderPrompt';\nimport { useRulesBuilderModal } from '../RulesBuilderContainer/RulesBuilderContainer';\n\nconst RulesBuilderNamePrompt = () => {\n  const { modalData, closeModal } = useModalManager<boolean>(\n    Modals.RULE_BUILDER_NAME_PROMPT\n  );\n\n  const { closeModal: closeRuleBuilderModal } = useRulesBuilderModal();\n\n  if (!modalData) {\n    return null;\n  }\n\n  return (\n    <RulesBuilderPrompt\n      closePrompt={closeModal}\n      closeRuleBuilder={closeRuleBuilderModal}\n      message=\"Your rule is incomplete, you haven’t named it, if you exit now your progress will be lost.\"\n    />\n  );\n};\n\nexport default RulesBuilderNamePrompt;\n","import React from 'react';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\n\nimport RulesBuilderPrompt from './RulesBuilderPrompt';\nimport { useRulesBuilderModal } from '../RulesBuilderContainer/RulesBuilderContainer';\n\nconst RulesBuilderRulePrompt = () => {\n  const { modalData, closeModal } = useModalManager<boolean>(\n    Modals.RULE_BUILDER_RULE_PROMPT\n  );\n\n  const { closeModal: closeRuleBuilderModal } = useRulesBuilderModal();\n\n  if (!modalData) {\n    return null;\n  }\n\n  return (\n    <RulesBuilderPrompt\n      closePrompt={closeModal}\n      closeRuleBuilder={closeRuleBuilderModal}\n      message=\"Your rule is incomplete, the rule is not set or there are errors in the syntax, if you exit now your progress will be lost.\"\n    />\n  );\n};\n\nexport default RulesBuilderRulePrompt;\n","import React, { useState } from 'react';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\nimport { ScoringRuleFormData, FormMode } from 'types/models';\nimport {\n  Modal,\n  Box,\n  Text,\n  Flex,\n  SecondaryButton,\n  AlertButton,\n  TextInline,\n} from '@cko/primitives';\nimport { useFormikContext } from 'formik';\nimport InlineAlert from 'components/InlineAlert';\nimport { useRulesBuilderModal } from '../RulesBuilderContainer/RulesBuilderContainer';\n\ninterface Props {\n  handleSubmit: (values: ScoringRuleFormData) => void;\n  formMode: FormMode;\n}\n\nconst RulesBuilderPrompt: React.FC<Props> = ({ handleSubmit, formMode }) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submissionError, setSubmissionError] = useState<string | null>(null);\n\n  const { modalData, closeModal: closePrompt } = useModalManager<boolean>(\n    Modals.RULE_BUILDER_SAVE_PROMPT\n  );\n\n  const { closeModal: closeRuleBuilder } = useRulesBuilderModal();\n\n  const { values } = useFormikContext<ScoringRuleFormData>();\n\n  if (!modalData) {\n    return null;\n  }\n\n  const handleSave = async () => {\n    try {\n      setSubmissionError(null);\n      await handleSubmit(values);\n      closePrompt();\n      closeRuleBuilder();\n    } catch (e) {\n      if (e.response?.status === 409) {\n        setSubmissionError(` A rule named \"${values.name}\" already exists.`);\n      } else {\n        setSubmissionError('Technical error. Please try again later.');\n      }\n      setIsSubmitting(false);\n    }\n  };\n\n  const ctaText = formMode === 'Add' ? 'Create' : 'Update';\n\n  return (\n    <Modal\n      type=\"alert\"\n      title={'You’re leaving the rule builder'}\n      closeModal={closePrompt}\n    >\n      <Box pb={2}>\n        <Text fontSize={1} lineHeight={1}>\n          Your rule is complete, however you haven’t saved and{' '}\n          {`${ctaText.toLocaleLowerCase()}d`} it. If you exit now your progress\n          will be lost.\n        </Text>\n      </Box>\n      <Box pb={4}>\n        <Text fontSize={1} lineHeight={1}>\n          Would you like to{' '}\n          <TextInline fontWeight=\"500\">{ctaText} your rule</TextInline> , or\n          click <TextInline fontWeight=\"500\">Exit rule builder</TextInline> to\n          discard your changes?\n        </Text>\n      </Box>\n      <Flex alignItems=\"center\" p={0}>\n        <Box>\n          <SecondaryButton onClick={handleSave} data-testid=\"delete-button\">\n            {isSubmitting ? 'Submitting' : `${ctaText} your rule`}\n          </SecondaryButton>\n        </Box>\n        <Box pl={3}>\n          <AlertButton\n            onClick={() => {\n              closePrompt();\n              closeRuleBuilder();\n            }}\n          >\n            Exit rule builder\n          </AlertButton>\n        </Box>\n      </Flex>\n\n      {submissionError && <InlineAlert>{submissionError}</InlineAlert>}\n    </Modal>\n  );\n};\n\nexport default RulesBuilderPrompt;\n","import RulesMenuItems from './RulesMenuItems';\nimport React, { useState } from 'react';\nimport useModalManager from 'hooks/useModalManager';\nimport { Modals } from 'types/enums/modals';\nimport useAlerts from 'hooks/useAlerts';\nimport RulesBuilderForm from 'features/RulesBuilder/RulesBuilderForm';\nimport { ScoringRuleFormData, ScoringRuleModalData } from 'types/models';\nimport { useAddRule } from 'hooks/api/rules';\nimport { useUpdateRule } from 'hooks/api/rules';\nimport { queryCache } from 'react-query';\nimport endpoints from 'api/endpoints';\nimport { Flex, Box, TTheme } from '@cko/primitives';\nimport RulesInfoModalContainer from '../RulesInfoModalContainer';\nimport RulesBuilderHelpContainer from '../RulesBuilderHelpContainer';\nimport RulesNavigationMenu from '../RulesNavigationMenu';\nimport { RulesBuilderProvider } from './../RulesBuilderContext';\nimport { ThemeProvider } from 'styled-components';\nimport RulesBuilderModal from '../RulesBuilderModal';\nimport {\n  RulesBuilderNamePrompt,\n  RulesBuilderRulePrompt,\n  RulesBuilderSavePrompt,\n} from '../RulesBuilderPrompts';\nimport { VelocityWizardProvider } from '../VelocityWizardContext';\nimport { TabsProvider } from 'contexts/TabsContext';\n\nconst ruleBuilderBreakpoints = ['640px', '832PX', '1260px'];\n\ninterface Props {\n  modalId: string;\n}\n\nexport const useRulesBuilderModal = () => {\n  return useModalManager<ScoringRuleModalData>(Modals.ADD_SCORING_RULE);\n};\n\nconst RulesBuilderContainer: React.FunctionComponent<Props> = ({ modalId }) => {\n  const { modalData, closeModal } = useRulesBuilderModal();\n  const [showHelpSection, setShowHelpSection] = useState(true);\n\n  const { showAlert } = useAlerts();\n\n  const handleSuccess = () => {\n    showAlert(modalData.mode === 'Add' ? 'Rule added' : 'Rule updated');\n    closeModal();\n    queryCache.invalidateQueries(endpoints.rules);\n  };\n\n  const [addRule] = useAddRule(handleSuccess, (values) => {\n    modalData.onRequestSuccess &&\n      modalData.onRequestSuccess(values, modalData.meta);\n  });\n\n  const [updateRule] = useUpdateRule(handleSuccess);\n\n  if (!modalData || modalData.modalId !== modalId) {\n    return null;\n  }\n\n  const handleSubmit = (values: ScoringRuleFormData) => {\n    return modalData.mode === 'Add'\n      ? addRule({ data: values })\n      : updateRule({ data: values, path: modalData.id });\n  };\n\n  const initialFormValues = {\n    name: modalData.name || '',\n    predicate: modalData.predicate || '',\n  };\n\n  return (\n    <ThemeProvider\n      theme={(theme: TTheme) => ({\n        ...theme,\n        breakpoints: ruleBuilderBreakpoints,\n      })}\n    >\n      <RulesBuilderProvider\n        initalFormValues={initialFormValues}\n        handleSubmit={handleSubmit}\n      >\n        <VelocityWizardProvider>\n          <>\n            <RulesBuilderModal>\n              <Flex height=\"85vh\">\n                <Flex flexBasis=\"360px\" maxWidth=\"360px\" mr=\"24px\">\n                  <TabsProvider defaultIndex={0} direction=\"vertical\">\n                    <RulesNavigationMenu />\n                    <RulesMenuItems />\n                  </TabsProvider>\n                </Flex>\n                <Flex\n                  pt={3}\n                  pb={4}\n                  pr={['24px', '24px', '24px', 0]}\n                  flex={1}\n                  flexDirection={['column', 'column', 'column', 'row']}\n                  style={{ overflowY: 'scroll' }}\n                >\n                  <Flex flexGrow={1} flexDirection=\"column\">\n                    <Box pt={3} pb={4} pl={1}>\n                      <RulesBuilderForm data={modalData} />\n                    </Box>\n                  </Flex>\n                  <Flex\n                    ml={[0, 0, 0, '24px']}\n                    flexBasis={showHelpSection ? '360px' : '50px'}\n                    flexDirection=\"column\"\n                    flexShrink={0}\n                  >\n                    <RulesBuilderHelpContainer\n                      onToggle={() => setShowHelpSection(!showHelpSection)}\n                      showHelpSection={showHelpSection}\n                    />\n                  </Flex>\n                </Flex>\n              </Flex>\n            </RulesBuilderModal>\n            <RulesInfoModalContainer />\n            <RulesBuilderNamePrompt />\n            <RulesBuilderRulePrompt />\n            <RulesBuilderSavePrompt\n              handleSubmit={handleSubmit}\n              formMode={modalData.mode}\n            />\n          </>\n        </VelocityWizardProvider>\n      </RulesBuilderProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default RulesBuilderContainer;\n","import endpoints from 'api/endpoints';\nimport { AddListEntryFormData } from 'forms/AddListEntryForm/AddListEntryForm';\nimport { useAddUpdateMutation } from '../common/useAddUpdateMutation';\n\nexport const useAddListEntry = (onSuccess: () => void) => {\n  return useAddUpdateMutation<AddListEntryFormData, {}>(\n    'post',\n    endpoints.lists,\n    { onSuccess }\n  );\n};\n","import endpoints from 'api/endpoints';\nimport { queryCache } from 'react-query';\nimport { useDeleteMutation } from '../common/useDeleteMutation';\n\nexport const useDeleteList = (onSuccess: () => void) => {\n  return useDeleteMutation(endpoints.lists, {\n    onSuccess: () => {\n      queryCache.removeQueries(endpoints.lists);\n      onSuccess();\n    },\n  });\n};\n","import endpoints from 'api/endpoints';\nimport { useDeleteMutation } from '../common/useDeleteMutation';\n\nexport const useDeleteListEntry = (onSuccess: () => void) => {\n  return useDeleteMutation(endpoints.lists, { onSuccess });\n};\n","import { usePaginatedQuery } from 'react-query';\nimport endpoints from 'api/endpoints';\nimport { ListItem, PaginationVariables } from 'types/models';\nimport useGetRequest from 'hooks/api/common/useGetRequest';\n\ninterface ListItemsResponse {\n  alias: string;\n  name: string;\n  description: string;\n  created_at: string;\n  total_count: number;\n  items: ListItem[];\n}\n\nexport const useListItemsData = (variables: PaginationVariables) => {\n  const req = useGetRequest();\n\n  return usePaginatedQuery<ListItemsResponse, [string, PaginationVariables]>(\n    [endpoints.lists, variables],\n    (_, { resource, limit, skip, searchQuery }) => {\n      return req(\n        `${endpoints.lists}/${resource}?limit=${limit}&skip=${skip}&search=${searchQuery}`\n      );\n    }\n  );\n};\n","import { useQuery } from 'react-query';\nimport { ListSummary } from 'types/models';\nimport endpoints from 'api/endpoints';\nimport useGetRequest from 'hooks/api/common/useGetRequest';\nimport { AxiosError } from 'axios';\n\nexport interface ListSummariesResponse {\n  summaries: ListSummary[];\n}\n\nexport const useListsData = () => {\n  const req = useGetRequest<ListSummariesResponse>();\n  return useQuery<ListSummariesResponse, AxiosError<ListSummariesResponse>>(\n    endpoints.lists,\n    () => req(endpoints.lists)\n  );\n};\n","import { queryCache } from 'react-query';\nimport endpoints from 'api/endpoints';\nimport { PaginationVariables } from 'types/models';\n\nexport * from './useAddListEntry';\nexport * from './useDeleteList';\nexport * from './useDeleteListEntry';\nexport * from './useListItemsData';\nexport * from './useListsData';\n\nexport const refetchListsQueries = (\n  paginationVariables: PaginationVariables\n) => {\n  queryCache.invalidateQueries(endpoints.lists, { exact: true });\n  queryCache.invalidateQueries([endpoints.lists, paginationVariables], {\n    exact: true,\n  });\n};\n","import React from 'react';\nimport { useField } from 'formik';\nimport { TextFieldWithLabel, Box } from '@cko/primitives';\nimport FieldValidationError from 'components/FieldValidationError';\n\ninterface Props {\n  label: string;\n  mb?: number;\n  placeholder?: string;\n  name: string;\n  type?: 'text' | 'number';\n  submitCount: number;\n  displayFieldError?: boolean;\n  disabled?: boolean;\n  onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst TextField: React.FunctionComponent<Props> = ({\n  label,\n  mb = 2,\n  name,\n  type = 'text',\n  submitCount,\n  displayFieldError = true,\n  ...props\n}) => {\n  const [field, meta] = useField(name);\n  const { error: errorMessage } = meta;\n  const showError = submitCount > 0 && errorMessage !== undefined;\n\n  return (\n    <Box mb={mb}>\n      <TextFieldWithLabel\n        style={{ fontSize: '13px' }}\n        title={label}\n        type={type}\n        error={showError}\n        {...field}\n        {...props}\n      />\n      {displayFieldError && showError && (\n        <FieldValidationError data-testid={`${field.name}-error-messsage`}>\n          {errorMessage}\n        </FieldValidationError>\n      )}\n    </Box>\n  );\n};\n\nexport default TextField;\n","import useMerchants from 'hooks/useMerchants';\n\nconst useMlScoreEnabled = () => {\n  const [{ selectedMerchant }] = useMerchants();\n  return selectedMerchant?.ml_score_enabled;\n};\n\nexport default useMlScoreEnabled;\n","import { Text } from '@cko/primitives';\nimport styled from 'styled-components';\n\nconst FieldValidationError = styled(Text)``;\n\nFieldValidationError.defaultProps = {\n  fontWeight: 400,\n  color: '#BE4343',\n};\n\nexport default FieldValidationError;\n","export {\n  ModalManagerProvider,\n  ModalManagerStateContext,\n  ModalManagerSetContext,\n} from './ModalManagerContext';\n","import { useQuery } from 'react-query';\nimport { ScoringRuleResponse } from 'types/models';\nimport endpoints from 'api/endpoints';\nimport useGetRequest from 'hooks/api/common/useGetRequest';\nimport { AxiosError } from 'axios';\n\nexport const useRulesData = () => {\n  const req = useGetRequest<ScoringRuleResponse>();\n\n  return useQuery<ScoringRuleResponse, AxiosError<ScoringRuleResponse>>(\n    endpoints.rules,\n    () => req(endpoints.rules)\n  );\n};\n","import React, { useMemo } from 'react';\nimport { withReact, Slate } from 'slate-react';\nimport { createEditor } from 'slate';\nimport useSyntaxHighlighting from 'hooks/useSyntaxHighlighting';\nimport SyntaxHighlightEditable from './SyntaxHighlightEditable';\nimport { tokenize } from './antlrUtils';\nimport { useRulesBuilder } from '../RulesBuilderContext';\nimport { AvailableProperty } from 'types/models';\n\ninterface Props {\n  predicate: string;\n}\n\nexport const RuleExample: React.FunctionComponent<\n  Props & { availableProperties: AvailableProperty[] }\n> = ({ predicate, availableProperties }) => {\n  const { getLeafRenderer, renderElement } = useSyntaxHighlighting();\n  const editor = useMemo(() => withReact(createEditor()), []);\n\n  const renderLeaf = useMemo(() => getLeafRenderer(availableProperties), [\n    availableProperties,\n    getLeafRenderer,\n  ]);\n\n  return (\n    <Slate\n      onChange={() => {}}\n      editor={editor}\n      value={[\n        {\n          children: [{ text: predicate }],\n        },\n      ]}\n    >\n      <SyntaxHighlightEditable\n        tabIndex={-1}\n        contentEditable={false}\n        spellCheck=\"false\"\n        tokensToSkip={['OTHERS', 'WHITESPACE']}\n        tokenize={tokenize}\n        renderElement={renderElement}\n        renderLeaf={renderLeaf}\n      />\n    </Slate>\n  );\n};\n\nconst RulesExampleContainer: React.FunctionComponent<Props> = ({\n  predicate,\n}) => {\n  const { availableProperties } = useRulesBuilder();\n\n  return (\n    <RuleExample\n      predicate={predicate}\n      availableProperties={availableProperties}\n    />\n  );\n};\n\nexport default React.memo(RulesExampleContainer);\n","import React from 'react';\nimport { TextField, ClickableElement } from '@cko/primitives';\nimport { IconActionSearch } from '@cko/icons';\nimport styled from 'styled-components';\nimport { space, SpaceProps } from 'styled-system';\n\nconst SearchIcon = styled(IconActionSearch)`\n  align-self: center;\n  margin: 0 8px 0 4px !important;\n`;\n\nconst ClearButton = styled(ClickableElement)<SpaceProps>`\n  font-size: 13px;\n  color: #1da177;\n  ${space}\n`;\n\nconst ClearPlaceHolder = styled.div`\n  width: 35px;\n`;\n\ninterface Props {\n  searchTerm: string | null;\n  setSearchTerm: React.Dispatch<React.SetStateAction<string | null>>;\n}\n\nconst SearchInput: React.FunctionComponent<Props> = ({\n  searchTerm,\n  setSearchTerm,\n}) => {\n  const prefix =\n    searchTerm && searchTerm.length > 0 ? (\n      <ClearButton\n        data-cy=\"searchClearButton\"\n        px={1}\n        onClick={() => {\n          setSearchTerm('');\n        }}\n      >\n        clear\n      </ClearButton>\n    ) : (\n      <ClearPlaceHolder />\n    );\n\n  return (\n    <TextField\n      style={{ fontSize: '13px' }}\n      prefix={(<SearchIcon />) as any}\n      suffix={prefix}\n      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n        setSearchTerm(e.target.value);\n      }}\n      value={searchTerm || ''}\n      data-cy=\"searchInput\"\n      placeholder=\"Search\"\n    />\n  );\n};\n\nexport default SearchInput;\n","import React from 'react';\nimport { Flex, Box, Text } from '@cko/primitives';\nimport SearchInput from 'components/SearchInput';\nimport styled from 'styled-components';\n\nconst pluralise = (singular: string, plural: string, count: number) =>\n  count === 1 ? singular : plural;\n\nconst VerticalLine = styled(Box)`\n  margin: 0 12px;\n  height: 24px;\n  width: 1px;\n  background-color: ${(props) => props.theme.colors.baseLight};\n`;\n\ninterface Props {\n  searchTerm: string | null;\n  setSearchTerm: React.Dispatch<React.SetStateAction<string | null>>;\n  totalCount: number;\n}\n\nconst MasterDetailsSearchInput: React.FunctionComponent<Props> = ({\n  searchTerm,\n  setSearchTerm,\n  totalCount,\n}) => {\n  return (\n    <>\n      <Flex flexBasis=\"290px\">\n        <SearchInput searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n      </Flex>\n      <VerticalLine></VerticalLine>\n      <Box style={{ lineHeight: '20px' }}>\n        <Text color=\"#7b8d93\" fontSize={0}>{`${Number(\n          totalCount\n        ).toLocaleString()} ${pluralise(\n          'result',\n          'results',\n          totalCount\n        )}`}</Text>\n      </Box>\n    </>\n  );\n};\n\nexport default MasterDetailsSearchInput;\n","import styled from 'styled-components';\nimport Grid from 'components/Grid';\nimport { Flex } from '@cko/primitives';\n\nconst MasterDetailsHeaderLayout = styled(Grid)`\n  grid-template-columns: auto auto;\n  padding: 8px 16px;\n  align-items: center;\n`;\n\nconst MasterDetailsHeaderLayoutLeft = styled(Flex)`\n  align-items: center;\n`;\nconst MasterDetailsHeaderLayoutRight = styled(Flex)`\n  align-items: center;\n  justify-self: end;\n`;\n\nexport {\n  MasterDetailsHeaderLayout,\n  MasterDetailsHeaderLayoutLeft,\n  MasterDetailsHeaderLayoutRight,\n};\n","import styled from 'styled-components';\nimport { Box } from '@cko/primitives';\n\nconst Section = styled(Box).attrs(() => ({\n  mb: 4,\n}))``;\n\nexport default Section;\n","import useHeaders from '../useRequestHeaders';\nimport { post } from 'api/utils';\nimport useAuth from 'hooks/useAuth';\nimport { AxiosRequestConfig } from 'axios';\nimport { useCallback } from 'react';\n\nconst usePostRequest = <RequestType, ResponseType = {}>(\n  url: string,\n  defaultOptions: AxiosRequestConfig = {}\n) => {\n  const createHeaders = useHeaders();\n  const auth = useAuth();\n\n  const request = useCallback(\n    async (\n      data: RequestType,\n      path?: string,\n      options: AxiosRequestConfig = defaultOptions\n    ) => {\n      const headers = await createHeaders();\n\n      const additionalPath = path ? `/${path}` : '';\n\n      try {\n        const response = await post<RequestType, ResponseType>(\n          `${url}${additionalPath}`,\n          data,\n          {\n            ...options,\n            headers: {\n              ...headers,\n              ...(options && options.headers),\n            },\n          }\n        );\n\n        return response.data;\n      } catch (error) {\n        if (error.response.status === 401) {\n          auth.logout();\n        }\n        throw error;\n      }\n    },\n    [auth, createHeaders, defaultOptions, url]\n  );\n\n  return request;\n};\n\nexport default usePostRequest;\n","import React, { useCallback, useMemo, ReactNode } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport isEqual from 'lodash/isEqual';\nimport {\n  SelectMenu,\n  SelectMenuButton,\n  SelectMenuList,\n  SelectMenuItem,\n  FormLabel,\n  Box,\n} from '@cko/primitives';\n\nimport FieldValidationError from 'components/FieldValidationError';\n\ntype Option<Value> = { label: string; value: Value };\n\ninterface Props<Value = unknown> {\n  options: Option<Value>[];\n  label?: string;\n  name: string;\n  placeholder: string;\n  getItemLabel?: (item: Option<Value>) => string;\n  getItemValue?: (item: Option<Value>) => Value | Option<Value>;\n}\n\nconst FormikSelectMenu = <V extends any = string>({\n  options,\n  label,\n  name,\n  placeholder,\n  getItemLabel = (item) => (item ? item.label : ''),\n  getItemValue = (item) => item?.value ?? item,\n}: Props<V> & { children?: ReactNode }) => {\n  const [, meta, { setValue, setTouched }] = useField(name);\n  const { error: errorMessage } = meta;\n  const { submitCount, values } = useFormikContext<any>();\n  const showError = submitCount > 0 && errorMessage !== undefined;\n\n  const handleOnChange = useCallback(\n    async (item) => {\n      await setValue(getItemValue(item));\n      setTouched(true);\n    },\n    [getItemValue, setTouched, setValue]\n  );\n\n  const selected = useMemo(\n    () => options.find((x) => isEqual(getItemValue(x), values[name])) ?? null,\n    [getItemValue, name, options, values]\n  );\n\n  return (\n    <>\n      {label && <FormLabel>{label}</FormLabel>}\n      <SelectMenu\n        placeholder={placeholder}\n        onChange={handleOnChange}\n        selectedItem={selected}\n        itemToString={getItemLabel}\n      >\n        <SelectMenuButton hasErrors={showError} />\n        <SelectMenuList>\n          {options.map((item, i: number) => (\n            <SelectMenuItem item={item} index={i} key={`formik-select-${i}`} />\n          ))}\n        </SelectMenuList>\n      </SelectMenu>\n      {showError && (\n        <Box mt={2}>\n          <FieldValidationError data-testid={`${name}-error-messsage`}>\n            {errorMessage}\n          </FieldValidationError>\n        </Box>\n      )}\n    </>\n  );\n};\n\nexport default FormikSelectMenu;\n","import React, { useMemo, useRef, useState } from 'react';\n\ntype Tab = {\n  id: string;\n  index: number;\n  disabled?: boolean;\n};\n\ninterface TabWithRef extends Tab {\n  ref: React.RefObject<HTMLButtonElement>;\n}\n\ninterface ITabsContext {\n  setActiveTab: React.Dispatch<React.SetStateAction<number>>;\n  registerTab: (tab: Tab) => void;\n  handleKeyDown: (index: number, keyCode: number) => void;\n  isActiveTab: (index: number | undefined) => boolean;\n  getTabRef: (id: string) => React.RefObject<HTMLButtonElement> | undefined;\n}\n\nexport const TabsContext = React.createContext<ITabsContext | undefined>(\n  undefined\n);\n\ninterface Props {\n  defaultIndex: number;\n  direction?: 'horizontal' | 'vertical';\n}\n\nenum KeyCodes {\n  LEFT_ARROW = 37,\n  RIGHT_ARROW = 39,\n  UP_ARROW = 38,\n  DOWN_ARROW = 40,\n}\n\nexport const TabsProvider: React.FunctionComponent<Props> = ({\n  children,\n  defaultIndex = 0,\n  direction = 'horizontal',\n}) => {\n  const [activeTabIndex, setActiveTab] = useState(defaultIndex);\n  const tabs = useRef<TabWithRef[]>([]);\n\n  const prevArrow =\n    direction === 'horizontal' ? KeyCodes.LEFT_ARROW : KeyCodes.UP_ARROW;\n  const nextArrow =\n    direction === 'horizontal' ? KeyCodes.RIGHT_ARROW : KeyCodes.DOWN_ARROW;\n\n  const value = useMemo(() => {\n    const registerTab = (tab: Tab) => {\n      if (!tabs.current.some((t) => t.id === tab.id)) {\n        tabs.current = [...tabs.current, { ...tab, ref: React.createRef() }];\n      }\n    };\n\n    const handleKeyDown = (index: number, keyCode: number) => {\n      if (keyCode === prevArrow || keyCode === nextArrow) {\n        const remainingTabs =\n          keyCode === nextArrow\n            ? tabs.current.slice(index + 1)\n            : tabs.current.slice(0, index).reverse();\n\n        const nextTab = remainingTabs.find((tab) => !tab.disabled);\n\n        if (nextTab) {\n          setActiveTab(nextTab.index);\n          nextTab.ref.current?.focus();\n        }\n      }\n    };\n\n    const isActiveTab = (index: number | undefined) => activeTabIndex === index;\n\n    const getTabRef = (id: string) =>\n      tabs.current.find((x) => x.id === id)?.ref;\n\n    return {\n      setActiveTab,\n      registerTab,\n      handleKeyDown,\n      isActiveTab,\n      getTabRef,\n    };\n  }, [activeTabIndex, nextArrow, prevArrow, tabs]);\n\n  return <TabsContext.Provider value={value}>{children}</TabsContext.Provider>;\n};\n","import { useContext, useMemo, useState, useEffect } from 'react';\nimport React from 'react';\n\nconst ScrollSpyContext = React.createContext<\n  | {\n      refs: Record<string, { ref: React.RefObject<HTMLDivElement> }>;\n      scrollTo: (key: string, opts: { root: Window | Element }) => void;\n      isInView: (key: string) => boolean;\n    }\n  | undefined\n>(undefined);\n\nexport const ScrollSpyProvider: React.FC<{ keys: string[] }> = ({\n  keys,\n  children,\n}) => {\n  const [isInView, setIsInView] = useState<Record<string, boolean>>({});\n\n  const refs = useMemo(\n    () =>\n      keys.reduce((acc, curr) => {\n        const ref = React.createRef<HTMLDivElement>();\n\n        acc[curr] = {\n          ref,\n          observer: new IntersectionObserver(([entry]) => {\n            setIsInView((prev) => ({\n              ...prev,\n              [curr]: entry.isIntersecting,\n            }));\n          }),\n        };\n        return acc;\n      }, {} as Record<string, { ref: React.RefObject<HTMLDivElement>; observer: IntersectionObserver }>),\n    [keys]\n  );\n\n  useEffect(() => {\n    Object.values(refs).forEach(({ ref, observer }) => {\n      if (ref.current) {\n        observer.observe(ref.current);\n      }\n    });\n\n    return () => {\n      Object.values(refs).forEach(({ observer }) => {\n        observer.disconnect();\n      });\n    };\n  }, [refs]);\n\n  const scrollTo = (\n    key: keyof typeof refs,\n    opts: { root: any } = { root: window }\n  ) => {\n    const obj = refs[key];\n    if (obj?.ref.current) {\n      opts.root.scrollTo({\n        top: obj.ref.current.offsetTop + 1,\n        behavior: 'smooth',\n      });\n    }\n  };\n\n  return (\n    <ScrollSpyContext.Provider\n      value={{\n        refs,\n        scrollTo,\n        isInView: (key: string) => isInView[key],\n      }}\n    >\n      {children}\n    </ScrollSpyContext.Provider>\n  );\n};\n\nexport const useScrollSpy = (\n  {\n    getRoot,\n  }: { getRoot: (el: Element) => Window | Element | null | undefined } = {\n    getRoot: () => window,\n  }\n) => {\n  const context = useContext(ScrollSpyContext);\n\n  if (context === undefined) {\n    throw new Error('useScrollTo must be used within a ScrollSpyProvider');\n  }\n\n  return {\n    ...context,\n    scrollTo: (type: string) => {\n      const obj = context.refs[type];\n      if (obj?.ref.current) {\n        context.scrollTo(type, { root: getRoot(obj?.ref.current) ?? window });\n      }\n    },\n  };\n};\n","import styled from 'styled-components';\nimport { UnorderedList as StyledUnorderedList } from '@cko/primitives';\n\nconst UnorderedList = styled(StyledUnorderedList)`\n  list-style: disc;\n`;\n\nexport default UnorderedList;\n","import React, { useCallback } from 'react';\nimport { Editable } from 'slate-react';\nimport { EditableProps } from 'slate-react/dist/components/editable';\nimport { NodeEntry, Node, Text, Range } from 'slate';\n\nexport interface NormalizedToken {\n  id: number;\n  type: string;\n  content: string;\n}\n\ntype Props = EditableProps & {\n  tokenize: (text: string) => NormalizedToken[];\n  tokensToSkip?: string[];\n};\n\nconst SyntaxHighlightEditable: React.FunctionComponent<Props> = ({\n  tokenize,\n  tokensToSkip,\n  ...rest\n}) => {\n  const decorate = useCallback(\n    ([node, path]: NodeEntry<Node>) => {\n      const ranges: Range[] = [];\n\n      if (!Text.isText(node)) {\n        return ranges;\n      }\n\n      if (!node.text.length) {\n        return ranges;\n      }\n\n      const tokens = tokenize(node.text);\n\n      let start = 0;\n\n      for (const token of tokens) {\n        const length = token.content.length;\n        const end = start + length;\n\n        if (\n          !tokensToSkip ||\n          (tokensToSkip && !tokensToSkip.includes(token.type))\n        ) {\n          ranges.push({\n            type: token.type,\n            value: token.content,\n            anchor: { path, offset: start },\n            focus: { path, offset: end },\n          });\n        }\n\n        start = end;\n      }\n\n      return ranges;\n    },\n    [tokenize, tokensToSkip]\n  );\n\n  return <Editable decorate={decorate} {...rest} />;\n};\n\nexport default SyntaxHighlightEditable;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { RenderLeafProps } from 'slate-react';\nimport { TTheme } from '@cko/primitives';\nimport styled, { css } from 'styled-components';\nimport { Text } from 'slate';\n\nconst booleanTypes = ['True', 'False'] as const;\n\nconst booleanOperatorTypes = ['And', 'Not', 'Or'] as const;\n\nconst arithmeticOperatorTypes = [\n  'LessThan',\n  'LessThanEqual',\n  'GreaterThan',\n  'GreaterThanEqual',\n  'Equal',\n  'NotEqual',\n  'In',\n] as const;\n\ntype StringType = 'String';\ntype NumberType = 'Number';\ntype BooleanType = typeof booleanTypes[number];\n\nexport type LiteralTypes = StringType | NumberType | BooleanType;\nexport type BooleanOperatorType = typeof booleanOperatorTypes[number];\nexport type ArithmeticOperatorType = typeof arithmeticOperatorTypes[number];\n\ntype TokenType =\n  | BooleanType\n  | BooleanOperatorType\n  | ArithmeticOperatorType\n  | StringType\n  | NumberType\n  | 'Property'\n  | 'Metadata'\n  | 'DefinedList'\n  | 'Placeholder';\n\nexport type RuntimeType = 'boolean' | 'string' | 'number';\n\nconst isOperator = (type: BooleanOperatorType | ArithmeticOperatorType) =>\n  [...arithmeticOperatorTypes, ...booleanOperatorTypes].includes(type);\nconst isBoolean = (type: BooleanType) => booleanTypes.includes(type);\nconst isNumber = (type: RuntimeType | TokenType) => type === 'Number';\nconst isString = (type: RuntimeType | TokenType) => type === 'String';\nconst isMetadata = (type: RuntimeType | TokenType) => type === 'Metadata';\nconst isList = (type: RuntimeType | TokenType) => type === 'DefinedList';\nconst isRuntimeBoolean = (type: RuntimeType | TokenType) => type === 'boolean';\nconst isRuntimeString = (type: RuntimeType | TokenType) => type === 'string';\nconst isRuntimeNumber = (type: RuntimeType | TokenType) => type === 'number';\nconst isPlaceholder = (type: RuntimeType | TokenType) => type === 'Placeholder';\n\nexport type CustomLeaf = Text & {\n  type: TokenType | RuntimeType;\n  content: string;\n  value: string;\n};\n\nconst tokenStyle = css`\n  padding: 4px 8px;\n  border-radius: 6px;\n`;\n\nconst getStyle = ({\n  type,\n  theme,\n}: {\n  type: TokenType | RuntimeType;\n  theme: TTheme;\n}) => {\n  switch (true) {\n    case isOperator(type as BooleanOperatorType | ArithmeticOperatorType):\n      return css`\n        color: #5fa1d6;\n      `;\n    case isBoolean(type as BooleanType):\n    case isRuntimeBoolean(type):\n      return css`\n        ${tokenStyle}\n        color: ${theme.colors.base};\n        background-color: ${theme.colors.baseLight};\n      `;\n    case isNumber(type):\n    case isRuntimeNumber(type):\n      return css`\n        ${tokenStyle}\n        color: ${theme.colors.warningDark};\n        background-color: ${theme.colors.warningLight};\n      `;\n    case isString(type):\n    case isRuntimeString(type):\n      return css`\n        ${tokenStyle}\n        color: ${theme.colors.successDark};\n        background-color: ${theme.colors.successLight};\n      `;\n    case isMetadata(type):\n      return css`\n        ${tokenStyle}\n        color: ${theme.colors.dangerDark};\n        background-color: ${theme.colors.dangerLight};\n      `;\n    case isList(type):\n      return css`\n        ${tokenStyle}\n        color: #004495;\n        background-color: #cae6fb;\n      `;\n    case isPlaceholder(type):\n      return css`\n        ${tokenStyle}\n        color: #E4E9EB;\n        background-color: #e4e9eb;\n      `;\n    default:\n      return css`\n        color: ${theme.colors.base};\n      `;\n  }\n};\n\nconst Output = styled.span<{\n  type: TokenType;\n}>`\n  font-family: Source Code Pro;\n  font-size: 14px;\n  ${getStyle}\n`;\n\ntype Props = RenderLeafProps & {\n  getRuntimeType?: (leaf: CustomLeaf) => RuntimeType | null;\n};\n\nconst Highlighted: React.FunctionComponent<Props> = ({\n  getRuntimeType,\n  attributes,\n  children,\n  leaf,\n}) => {\n  const [runtimeType, setRuntimeType] = useState<RuntimeType | null>(null);\n\n  const ref = useRef<HTMLSpanElement | null>(null);\n\n  useEffect(() => {\n    if (getRuntimeType) {\n      const type = getRuntimeType(leaf as CustomLeaf);\n      setRuntimeType(type);\n    }\n  }, [getRuntimeType, leaf]);\n\n  useEffect(() => {\n    if (ref.current) {\n      const child = ref.current.firstElementChild;\n\n      if (child) {\n        const attr = child.attributes.getNamedItem('data-slate-zero-width');\n\n        if (attr?.value === 'z') {\n          ref.current.style.padding = '0';\n        }\n      }\n    }\n  }, [leaf]);\n\n  return (\n    <Output\n      ref={ref}\n      type={(runtimeType as TokenType) || (leaf.type as TokenType)}\n      {...attributes}\n    >\n      {children}\n    </Output>\n  );\n};\n\nexport default Highlighted;\n","import React, { useCallback } from 'react';\nimport { RenderLeafProps, RenderElementProps } from 'slate-react';\nimport Highlighted, { CustomLeaf, RuntimeType } from 'components/Highlighted';\nimport { AvailableProperty } from 'types/models';\n\nconst stripFirstAndLast = (text: string) => text.replace(/:/g, '');\n\nconst useSyntaxHighlighting = () => {\n  const getRuntimeType = useCallback(\n    (text: string, availableProperties: AvailableProperty[]) => {\n      return availableProperties.find((x) => x.name === text)\n        ?.type as RuntimeType;\n    },\n    []\n  );\n\n  const getLeafRenderer = useCallback(\n    (availableProperties: AvailableProperty[]) => (props: RenderLeafProps) => (\n      <Highlighted\n        getRuntimeType={(leaf: CustomLeaf) => {\n          if (leaf.type === 'Property') {\n            const runtimeType = getRuntimeType(\n              stripFirstAndLast(leaf.value),\n              availableProperties\n            );\n\n            return runtimeType;\n          }\n          return null;\n        }}\n        {...props}\n      />\n    ),\n    [getRuntimeType]\n  );\n\n  const renderElement = useCallback((props: RenderElementProps) => {\n    const { attributes, children } = props;\n    return (\n      <p contentEditable={false} style={{ lineHeight: '30px' }} {...attributes}>\n        {children}\n      </p>\n    );\n  }, []);\n\n  return { getLeafRenderer, renderElement };\n};\n\nexport default useSyntaxHighlighting;\n","//@ts-nocheck\r\n// Generated from Predicate.g4 by ANTLR 4.7.3-SNAPSHOT\r\n\r\nimport { ATN } from 'antlr4ts/atn/ATN';\r\nimport { ATNDeserializer } from 'antlr4ts/atn/ATNDeserializer';\r\nimport { CharStream } from 'antlr4ts/CharStream';\r\nimport { Lexer } from 'antlr4ts/Lexer';\r\nimport { LexerATNSimulator } from 'antlr4ts/atn/LexerATNSimulator';\r\nimport { NotNull } from 'antlr4ts/Decorators';\r\nimport { Override } from 'antlr4ts/Decorators';\r\nimport { RuleContext } from 'antlr4ts/RuleContext';\r\nimport { Vocabulary } from 'antlr4ts/Vocabulary';\r\nimport { VocabularyImpl } from 'antlr4ts/VocabularyImpl';\r\n\r\nimport * as Utils from 'antlr4ts/misc/Utils';\r\n\r\nexport class PredicateLexer extends Lexer {\r\n  public static readonly Not = 1;\r\n  public static readonly IsMissing = 2;\r\n  public static readonly Exists = 3;\r\n  public static readonly GreaterThan = 4;\r\n  public static readonly GreaterThanEqual = 5;\r\n  public static readonly LessThan = 6;\r\n  public static readonly LessThanEqual = 7;\r\n  public static readonly Equal = 8;\r\n  public static readonly NotEqual = 9;\r\n  public static readonly In = 10;\r\n  public static readonly Or = 11;\r\n  public static readonly And = 12;\r\n  public static readonly True = 13;\r\n  public static readonly False = 14;\r\n  public static readonly Number = 15;\r\n  public static readonly String = 16;\r\n  public static readonly OpenParen = 17;\r\n  public static readonly CloseParen = 18;\r\n  public static readonly OpenBracket = 19;\r\n  public static readonly CloseBracket = 20;\r\n  public static readonly Property = 21;\r\n  public static readonly Metadata = 22;\r\n  public static readonly DefinedList = 23;\r\n  public static readonly Comma = 24;\r\n  public static readonly WHITESPACE = 25;\r\n  public static readonly OTHERS = 26;\r\n\r\n  // tslint:disable:no-trailing-whitespace\r\n  public static readonly channelNames: string[] = [\r\n    'DEFAULT_TOKEN_CHANNEL',\r\n    'HIDDEN',\r\n  ];\r\n\r\n  // tslint:disable:no-trailing-whitespace\r\n  public static readonly modeNames: string[] = ['DEFAULT_MODE'];\r\n\r\n  public static readonly ruleNames: string[] = [\r\n    'Not',\r\n    'IsMissing',\r\n    'Exists',\r\n    'GreaterThan',\r\n    'GreaterThanEqual',\r\n    'LessThan',\r\n    'LessThanEqual',\r\n    'Equal',\r\n    'NotEqual',\r\n    'In',\r\n    'Or',\r\n    'And',\r\n    'True',\r\n    'False',\r\n    'Number',\r\n    'String',\r\n    'OpenParen',\r\n    'CloseParen',\r\n    'OpenBracket',\r\n    'CloseBracket',\r\n    'Property',\r\n    'Metadata',\r\n    'DefinedList',\r\n    'Comma',\r\n    'WHITESPACE',\r\n    'OTHERS',\r\n    'VARIABLE_NAME',\r\n    'COLON',\r\n    'AT',\r\n    'DOLLAR',\r\n  ];\r\n\r\n  private static readonly _LITERAL_NAMES: Array<string | undefined> = [\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    \"'>'\",\r\n    \"'>='\",\r\n    \"'<'\",\r\n    \"'<='\",\r\n    \"'='\",\r\n    \"'!='\",\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    \"'('\",\r\n    \"')'\",\r\n    \"'['\",\r\n    \"']'\",\r\n    undefined,\r\n    undefined,\r\n    undefined,\r\n    \"','\",\r\n  ];\r\n  private static readonly _SYMBOLIC_NAMES: Array<string | undefined> = [\r\n    undefined,\r\n    'Not',\r\n    'IsMissing',\r\n    'Exists',\r\n    'GreaterThan',\r\n    'GreaterThanEqual',\r\n    'LessThan',\r\n    'LessThanEqual',\r\n    'Equal',\r\n    'NotEqual',\r\n    'In',\r\n    'Or',\r\n    'And',\r\n    'True',\r\n    'False',\r\n    'Number',\r\n    'String',\r\n    'OpenParen',\r\n    'CloseParen',\r\n    'OpenBracket',\r\n    'CloseBracket',\r\n    'Property',\r\n    'Metadata',\r\n    'DefinedList',\r\n    'Comma',\r\n    'WHITESPACE',\r\n    'OTHERS',\r\n  ];\r\n  public static readonly VOCABULARY: Vocabulary = new VocabularyImpl(\r\n    PredicateLexer._LITERAL_NAMES,\r\n    PredicateLexer._SYMBOLIC_NAMES,\r\n    []\r\n  );\r\n\r\n  // @Override\r\n  // @NotNull\r\n  public get vocabulary(): Vocabulary {\r\n    return PredicateLexer.VOCABULARY;\r\n  }\r\n  // tslint:enable:no-trailing-whitespace\r\n\r\n  constructor(input: CharStream) {\r\n    super(input);\r\n    this._interp = new LexerATNSimulator(PredicateLexer._ATN, this);\r\n  }\r\n\r\n  // @Override\r\n  public get grammarFileName(): string {\r\n    return 'Predicate.g4';\r\n  }\r\n\r\n  // @Override\r\n  public get ruleNames(): string[] {\r\n    return PredicateLexer.ruleNames;\r\n  }\r\n\r\n  // @Override\r\n  public get serializedATN(): string {\r\n    return PredicateLexer._serializedATN;\r\n  }\r\n\r\n  // @Override\r\n  public get channelNames(): string[] {\r\n    return PredicateLexer.channelNames;\r\n  }\r\n\r\n  // @Override\r\n  public get modeNames(): string[] {\r\n    return PredicateLexer.modeNames;\r\n  }\r\n\r\n  public static readonly _serializedATN: string =\r\n    '\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x02\\x1C\\u010C\\b\\x01' +\r\n    '\\x04\\x02\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06' +\r\n    '\\x04\\x07\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r' +\r\n    '\\t\\r\\x04\\x0E\\t\\x0E\\x04\\x0F\\t\\x0F\\x04\\x10\\t\\x10\\x04\\x11\\t\\x11\\x04\\x12\\t' +\r\n    '\\x12\\x04\\x13\\t\\x13\\x04\\x14\\t\\x14\\x04\\x15\\t\\x15\\x04\\x16\\t\\x16\\x04\\x17\\t' +\r\n    '\\x17\\x04\\x18\\t\\x18\\x04\\x19\\t\\x19\\x04\\x1A\\t\\x1A\\x04\\x1B\\t\\x1B\\x04\\x1C\\t' +\r\n    '\\x1C\\x04\\x1D\\t\\x1D\\x04\\x1E\\t\\x1E\\x04\\x1F\\t\\x1F\\x03\\x02\\x03\\x02\\x03\\x02' +\r\n    '\\x03\\x02\\x03\\x02\\x03\\x02\\x05\\x02F\\n\\x02\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03' +\r\n    '\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03' +\r\n    '\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03' +\r\n    '\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x05\\x03' +\r\n    'f\\n\\x03\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04' +\r\n    '\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04\\x03\\x04' +\r\n    '\\x03\\x04\\x05\\x04z\\n\\x04\\x03\\x05\\x03\\x05\\x03\\x06\\x03\\x06\\x03\\x06\\x03\\x07' +\r\n    '\\x03\\x07\\x03\\b\\x03\\b\\x03\\b\\x03\\t\\x03\\t\\x03\\n\\x03\\n\\x03\\n\\x03\\v\\x03\\v\\x03' +\r\n    '\\v\\x03\\v\\x03\\v\\x03\\v\\x05\\v\\x91\\n\\v\\x03\\f\\x03\\f\\x03\\f\\x03\\f\\x05\\f\\x97\\n' +\r\n    '\\f\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x03\\r\\x05\\r\\x9F\\n\\r\\x03\\x0E\\x03\\x0E\\x03' +\r\n    '\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03\\x0E\\x03' +\r\n    '\\x0E\\x05\\x0E\\xAD\\n\\x0E\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F' +\r\n    '\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F\\x03\\x0F' +\r\n    '\\x05\\x0F\\xBE\\n\\x0F\\x03\\x10\\x06\\x10\\xC1\\n\\x10\\r\\x10\\x0E\\x10\\xC2\\x03\\x10' +\r\n    '\\x03\\x10\\x06\\x10\\xC7\\n\\x10\\r\\x10\\x0E\\x10\\xC8\\x05\\x10\\xCB\\n\\x10\\x03\\x11' +\r\n    '\\x03\\x11\\x03\\x11\\x03\\x11\\x07\\x11\\xD1\\n\\x11\\f\\x11\\x0E\\x11\\xD4\\v\\x11\\x03' +\r\n    '\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x03\\x11\\x07\\x11\\xDB\\n\\x11\\f\\x11\\x0E\\x11\\xDE' +\r\n    '\\v\\x11\\x03\\x11\\x05\\x11\\xE1\\n\\x11\\x03\\x12\\x03\\x12\\x03\\x13\\x03\\x13\\x03\\x14' +\r\n    '\\x03\\x14\\x03\\x15\\x03\\x15\\x03\\x16\\x03\\x16\\x03\\x16\\x03\\x16\\x03\\x17\\x03\\x17' +\r\n    '\\x03\\x17\\x03\\x18\\x03\\x18\\x03\\x18\\x03\\x19\\x03\\x19\\x03\\x1A\\x06\\x1A\\xF8\\n' +\r\n    '\\x1A\\r\\x1A\\x0E\\x1A\\xF9\\x03\\x1A\\x03\\x1A\\x03\\x1B\\x03\\x1B\\x03\\x1B\\x03\\x1B' +\r\n    '\\x03\\x1C\\x06\\x1C\\u0103\\n\\x1C\\r\\x1C\\x0E\\x1C\\u0104\\x03\\x1D\\x03\\x1D\\x03\\x1E' +\r\n    '\\x03\\x1E\\x03\\x1F\\x03\\x1F\\x04\\xD2\\xDC\\x02\\x02 \\x03\\x02\\x03\\x05\\x02\\x04' +\r\n    '\\x07\\x02\\x05\\t\\x02\\x06\\v\\x02\\x07\\r\\x02\\b\\x0F\\x02\\t\\x11\\x02\\n\\x13\\x02\\v' +\r\n    '\\x15\\x02\\f\\x17\\x02\\r\\x19\\x02\\x0E\\x1B\\x02\\x0F\\x1D\\x02\\x10\\x1F\\x02\\x11!' +\r\n    \"\\x02\\x12#\\x02\\x13%\\x02\\x14'\\x02\\x15)\\x02\\x16+\\x02\\x17-\\x02\\x18/\\x02\\x19\" +\r\n    '1\\x02\\x1A3\\x02\\x1B5\\x02\\x1C7\\x02\\x029\\x02\\x02;\\x02\\x02=\\x02\\x02\\x03\\x02' +\r\n    '\\x06\\x03\\x022;\\x05\\x02\\f\\f\\x0F\\x0F$$\\x05\\x02\\v\\f\\x0E\\x0F\"\"\\x06\\x022' +\r\n    ';C\\\\aac|\\x02\\u011E\\x02\\x03\\x03\\x02\\x02\\x02\\x02\\x05\\x03\\x02\\x02\\x02\\x02' +\r\n    '\\x07\\x03\\x02\\x02\\x02\\x02\\t\\x03\\x02\\x02\\x02\\x02\\v\\x03\\x02\\x02\\x02\\x02\\r' +\r\n    '\\x03\\x02\\x02\\x02\\x02\\x0F\\x03\\x02\\x02\\x02\\x02\\x11\\x03\\x02\\x02\\x02\\x02\\x13' +\r\n    '\\x03\\x02\\x02\\x02\\x02\\x15\\x03\\x02\\x02\\x02\\x02\\x17\\x03\\x02\\x02\\x02\\x02\\x19' +\r\n    '\\x03\\x02\\x02\\x02\\x02\\x1B\\x03\\x02\\x02\\x02\\x02\\x1D\\x03\\x02\\x02\\x02\\x02\\x1F' +\r\n    '\\x03\\x02\\x02\\x02\\x02!\\x03\\x02\\x02\\x02\\x02#\\x03\\x02\\x02\\x02\\x02%\\x03\\x02' +\r\n    \"\\x02\\x02\\x02'\\x03\\x02\\x02\\x02\\x02)\\x03\\x02\\x02\\x02\\x02+\\x03\\x02\\x02\\x02\" +\r\n    '\\x02-\\x03\\x02\\x02\\x02\\x02/\\x03\\x02\\x02\\x02\\x021\\x03\\x02\\x02\\x02\\x023\\x03' +\r\n    '\\x02\\x02\\x02\\x025\\x03\\x02\\x02\\x02\\x03E\\x03\\x02\\x02\\x02\\x05e\\x03\\x02\\x02' +\r\n    '\\x02\\x07y\\x03\\x02\\x02\\x02\\t{\\x03\\x02\\x02\\x02\\v}\\x03\\x02\\x02\\x02\\r\\x80' +\r\n    '\\x03\\x02\\x02\\x02\\x0F\\x82\\x03\\x02\\x02\\x02\\x11\\x85\\x03\\x02\\x02\\x02\\x13\\x87' +\r\n    '\\x03\\x02\\x02\\x02\\x15\\x90\\x03\\x02\\x02\\x02\\x17\\x96\\x03\\x02\\x02\\x02\\x19\\x9E' +\r\n    '\\x03\\x02\\x02\\x02\\x1B\\xAC\\x03\\x02\\x02\\x02\\x1D\\xBD\\x03\\x02\\x02\\x02\\x1F\\xC0' +\r\n    '\\x03\\x02\\x02\\x02!\\xE0\\x03\\x02\\x02\\x02#\\xE2\\x03\\x02\\x02\\x02%\\xE4\\x03\\x02' +\r\n    \"\\x02\\x02'\\xE6\\x03\\x02\\x02\\x02)\\xE8\\x03\\x02\\x02\\x02+\\xEA\\x03\\x02\\x02\\x02\" +\r\n    '-\\xEE\\x03\\x02\\x02\\x02/\\xF1\\x03\\x02\\x02\\x021\\xF4\\x03\\x02\\x02\\x023\\xF7\\x03' +\r\n    '\\x02\\x02\\x025\\xFD\\x03\\x02\\x02\\x027\\u0102\\x03\\x02\\x02\\x029\\u0106\\x03\\x02' +\r\n    '\\x02\\x02;\\u0108\\x03\\x02\\x02\\x02=\\u010A\\x03\\x02\\x02\\x02?@\\x07p\\x02\\x02' +\r\n    '@A\\x07q\\x02\\x02AF\\x07v\\x02\\x02BC\\x07P\\x02\\x02CD\\x07Q\\x02\\x02DF\\x07V\\x02' +\r\n    '\\x02E?\\x03\\x02\\x02\\x02EB\\x03\\x02\\x02\\x02F\\x04\\x03\\x02\\x02\\x02GH\\x07k\\x02' +\r\n    '\\x02HI\\x07u\\x02\\x02IJ\\x07a\\x02\\x02JK\\x07o\\x02\\x02KL\\x07k\\x02\\x02LM\\x07' +\r\n    'u\\x02\\x02MN\\x07u\\x02\\x02NO\\x07k\\x02\\x02OP\\x07p\\x02\\x02Pf\\x07i\\x02\\x02' +\r\n    'QR\\x07K\\x02\\x02RS\\x07u\\x02\\x02ST\\x07a\\x02\\x02TU\\x07O\\x02\\x02UV\\x07k\\x02' +\r\n    '\\x02VW\\x07u\\x02\\x02WX\\x07u\\x02\\x02XY\\x07k\\x02\\x02YZ\\x07p\\x02\\x02Zf\\x07' +\r\n    'i\\x02\\x02[\\\\\\x07K\\x02\\x02\\\\]\\x07U\\x02\\x02]^\\x07a\\x02\\x02^_\\x07O\\x02\\x02' +\r\n    '_`\\x07K\\x02\\x02`a\\x07U\\x02\\x02ab\\x07U\\x02\\x02bc\\x07K\\x02\\x02cd\\x07P\\x02' +\r\n    '\\x02df\\x07I\\x02\\x02eG\\x03\\x02\\x02\\x02eQ\\x03\\x02\\x02\\x02e[\\x03\\x02\\x02' +\r\n    '\\x02f\\x06\\x03\\x02\\x02\\x02gh\\x07g\\x02\\x02hi\\x07z\\x02\\x02ij\\x07k\\x02\\x02' +\r\n    'jk\\x07u\\x02\\x02kl\\x07v\\x02\\x02lz\\x07u\\x02\\x02mn\\x07G\\x02\\x02no\\x07z\\x02' +\r\n    '\\x02op\\x07k\\x02\\x02pq\\x07u\\x02\\x02qr\\x07v\\x02\\x02rz\\x07u\\x02\\x02st\\x07' +\r\n    'G\\x02\\x02tu\\x07Z\\x02\\x02uv\\x07K\\x02\\x02vw\\x07U\\x02\\x02wx\\x07V\\x02\\x02' +\r\n    'xz\\x07U\\x02\\x02yg\\x03\\x02\\x02\\x02ym\\x03\\x02\\x02\\x02ys\\x03\\x02\\x02\\x02' +\r\n    'z\\b\\x03\\x02\\x02\\x02{|\\x07@\\x02\\x02|\\n\\x03\\x02\\x02\\x02}~\\x07@\\x02\\x02~' +\r\n    '\\x7F\\x07?\\x02\\x02\\x7F\\f\\x03\\x02\\x02\\x02\\x80\\x81\\x07>\\x02\\x02\\x81\\x0E\\x03' +\r\n    '\\x02\\x02\\x02\\x82\\x83\\x07>\\x02\\x02\\x83\\x84\\x07?\\x02\\x02\\x84\\x10\\x03\\x02' +\r\n    '\\x02\\x02\\x85\\x86\\x07?\\x02\\x02\\x86\\x12\\x03\\x02\\x02\\x02\\x87\\x88\\x07#\\x02' +\r\n    '\\x02\\x88\\x89\\x07?\\x02\\x02\\x89\\x14\\x03\\x02\\x02\\x02\\x8A\\x8B\\x07K\\x02\\x02' +\r\n    '\\x8B\\x91\\x07P\\x02\\x02\\x8C\\x8D\\x07K\\x02\\x02\\x8D\\x91\\x07p\\x02\\x02\\x8E\\x8F' +\r\n    '\\x07k\\x02\\x02\\x8F\\x91\\x07p\\x02\\x02\\x90\\x8A\\x03\\x02\\x02\\x02\\x90\\x8C\\x03' +\r\n    '\\x02\\x02\\x02\\x90\\x8E\\x03\\x02\\x02\\x02\\x91\\x16\\x03\\x02\\x02\\x02\\x92\\x93\\x07' +\r\n    'q\\x02\\x02\\x93\\x97\\x07t\\x02\\x02\\x94\\x95\\x07Q\\x02\\x02\\x95\\x97\\x07T\\x02\\x02' +\r\n    '\\x96\\x92\\x03\\x02\\x02\\x02\\x96\\x94\\x03\\x02\\x02\\x02\\x97\\x18\\x03\\x02\\x02\\x02' +\r\n    '\\x98\\x99\\x07c\\x02\\x02\\x99\\x9A\\x07p\\x02\\x02\\x9A\\x9F\\x07f\\x02\\x02\\x9B\\x9C' +\r\n    '\\x07C\\x02\\x02\\x9C\\x9D\\x07P\\x02\\x02\\x9D\\x9F\\x07F\\x02\\x02\\x9E\\x98\\x03\\x02' +\r\n    '\\x02\\x02\\x9E\\x9B\\x03\\x02\\x02\\x02\\x9F\\x1A\\x03\\x02\\x02\\x02\\xA0\\xA1\\x07v' +\r\n    '\\x02\\x02\\xA1\\xA2\\x07t\\x02\\x02\\xA2\\xA3\\x07w\\x02\\x02\\xA3\\xAD\\x07g\\x02\\x02' +\r\n    '\\xA4\\xA5\\x07V\\x02\\x02\\xA5\\xA6\\x07T\\x02\\x02\\xA6\\xA7\\x07W\\x02\\x02\\xA7\\xAD' +\r\n    '\\x07G\\x02\\x02\\xA8\\xA9\\x07V\\x02\\x02\\xA9\\xAA\\x07t\\x02\\x02\\xAA\\xAB\\x07w\\x02' +\r\n    '\\x02\\xAB\\xAD\\x07g\\x02\\x02\\xAC\\xA0\\x03\\x02\\x02\\x02\\xAC\\xA4\\x03\\x02\\x02' +\r\n    '\\x02\\xAC\\xA8\\x03\\x02\\x02\\x02\\xAD\\x1C\\x03\\x02\\x02\\x02\\xAE\\xAF\\x07h\\x02' +\r\n    '\\x02\\xAF\\xB0\\x07c\\x02\\x02\\xB0\\xB1\\x07n\\x02\\x02\\xB1\\xB2\\x07u\\x02\\x02\\xB2' +\r\n    '\\xBE\\x07g\\x02\\x02\\xB3\\xB4\\x07H\\x02\\x02\\xB4\\xB5\\x07C\\x02\\x02\\xB5\\xB6\\x07' +\r\n    'N\\x02\\x02\\xB6\\xB7\\x07U\\x02\\x02\\xB7\\xBE\\x07G\\x02\\x02\\xB8\\xB9\\x07H\\x02\\x02' +\r\n    '\\xB9\\xBA\\x07c\\x02\\x02\\xBA\\xBB\\x07n\\x02\\x02\\xBB\\xBC\\x07u\\x02\\x02\\xBC\\xBE' +\r\n    '\\x07g\\x02\\x02\\xBD\\xAE\\x03\\x02\\x02\\x02\\xBD\\xB3\\x03\\x02\\x02\\x02\\xBD\\xB8' +\r\n    '\\x03\\x02\\x02\\x02\\xBE\\x1E\\x03\\x02\\x02\\x02\\xBF\\xC1\\t\\x02\\x02\\x02\\xC0\\xBF' +\r\n    '\\x03\\x02\\x02\\x02\\xC1\\xC2\\x03\\x02\\x02\\x02\\xC2\\xC0\\x03\\x02\\x02\\x02\\xC2\\xC3' +\r\n    '\\x03\\x02\\x02\\x02\\xC3\\xCA\\x03\\x02\\x02\\x02\\xC4\\xC6\\x070\\x02\\x02\\xC5\\xC7' +\r\n    '\\t\\x02\\x02\\x02\\xC6\\xC5\\x03\\x02\\x02\\x02\\xC7\\xC8\\x03\\x02\\x02\\x02\\xC8\\xC6' +\r\n    '\\x03\\x02\\x02\\x02\\xC8\\xC9\\x03\\x02\\x02\\x02\\xC9\\xCB\\x03\\x02\\x02\\x02\\xCA\\xC4' +\r\n    '\\x03\\x02\\x02\\x02\\xCA\\xCB\\x03\\x02\\x02\\x02\\xCB \\x03\\x02\\x02\\x02\\xCC\\xD2' +\r\n    '\\x07$\\x02\\x02\\xCD\\xCE\\x07^\\x02\\x02\\xCE\\xD1\\x07$\\x02\\x02\\xCF\\xD1\\n\\x03' +\r\n    '\\x02\\x02\\xD0\\xCD\\x03\\x02\\x02\\x02\\xD0\\xCF\\x03\\x02\\x02\\x02\\xD1\\xD4\\x03\\x02' +\r\n    '\\x02\\x02\\xD2\\xD3\\x03\\x02\\x02\\x02\\xD2\\xD0\\x03\\x02\\x02\\x02\\xD3\\xD5\\x03\\x02' +\r\n    '\\x02\\x02\\xD4\\xD2\\x03\\x02\\x02\\x02\\xD5\\xE1\\x07$\\x02\\x02\\xD6\\xDC\\x07)\\x02' +\r\n    '\\x02\\xD7\\xD8\\x07^\\x02\\x02\\xD8\\xDB\\x07)\\x02\\x02\\xD9\\xDB\\n\\x03\\x02\\x02\\xDA' +\r\n    '\\xD7\\x03\\x02\\x02\\x02\\xDA\\xD9\\x03\\x02\\x02\\x02\\xDB\\xDE\\x03\\x02\\x02\\x02\\xDC' +\r\n    '\\xDD\\x03\\x02\\x02\\x02\\xDC\\xDA\\x03\\x02\\x02\\x02\\xDD\\xDF\\x03\\x02\\x02\\x02\\xDE' +\r\n    '\\xDC\\x03\\x02\\x02\\x02\\xDF\\xE1\\x07)\\x02\\x02\\xE0\\xCC\\x03\\x02\\x02\\x02\\xE0' +\r\n    '\\xD6\\x03\\x02\\x02\\x02\\xE1\"\\x03\\x02\\x02\\x02\\xE2\\xE3\\x07*\\x02\\x02\\xE3$\\x03' +\r\n    '\\x02\\x02\\x02\\xE4\\xE5\\x07+\\x02\\x02\\xE5&\\x03\\x02\\x02\\x02\\xE6\\xE7\\x07]\\x02' +\r\n    '\\x02\\xE7(\\x03\\x02\\x02\\x02\\xE8\\xE9\\x07_\\x02\\x02\\xE9*\\x03\\x02\\x02\\x02\\xEA' +\r\n    '\\xEB\\x059\\x1D\\x02\\xEB\\xEC\\x057\\x1C\\x02\\xEC\\xED\\x059\\x1D\\x02\\xED,\\x03\\x02' +\r\n    '\\x02\\x02\\xEE\\xEF\\x05=\\x1F\\x02\\xEF\\xF0\\x057\\x1C\\x02\\xF0.\\x03\\x02\\x02\\x02' +\r\n    '\\xF1\\xF2\\x05;\\x1E\\x02\\xF2\\xF3\\x057\\x1C\\x02\\xF30\\x03\\x02\\x02\\x02\\xF4\\xF5' +\r\n    '\\x07.\\x02\\x02\\xF52\\x03\\x02\\x02\\x02\\xF6\\xF8\\t\\x04\\x02\\x02\\xF7\\xF6\\x03\\x02' +\r\n    '\\x02\\x02\\xF8\\xF9\\x03\\x02\\x02\\x02\\xF9\\xF7\\x03\\x02\\x02\\x02\\xF9\\xFA\\x03\\x02' +\r\n    '\\x02\\x02\\xFA\\xFB\\x03\\x02\\x02\\x02\\xFB\\xFC\\b\\x1A\\x02\\x02\\xFC4\\x03\\x02\\x02' +\r\n    '\\x02\\xFD\\xFE\\v\\x02\\x02\\x02\\xFE\\xFF\\x03\\x02\\x02\\x02\\xFF\\u0100\\b\\x1B\\x02' +\r\n    '\\x02\\u01006\\x03\\x02\\x02\\x02\\u0101\\u0103\\t\\x05\\x02\\x02\\u0102\\u0101\\x03' +\r\n    '\\x02\\x02\\x02\\u0103\\u0104\\x03\\x02\\x02\\x02\\u0104\\u0102\\x03\\x02\\x02\\x02\\u0104' +\r\n    '\\u0105\\x03\\x02\\x02\\x02\\u01058\\x03\\x02\\x02\\x02\\u0106\\u0107\\x07<\\x02\\x02' +\r\n    '\\u0107:\\x03\\x02\\x02\\x02\\u0108\\u0109\\x07B\\x02\\x02\\u0109<\\x03\\x02\\x02\\x02' +\r\n    '\\u010A\\u010B\\x07&\\x02\\x02\\u010B>\\x03\\x02\\x02\\x02\\x15\\x02Eey\\x90\\x96\\x9E' +\r\n    '\\xAC\\xBD\\xC2\\xC8\\xCA\\xD0\\xD2\\xDA\\xDC\\xE0\\xF9\\u0104\\x03\\x02\\x03\\x02';\r\n  public static __ATN: ATN;\r\n  public static get _ATN(): ATN {\r\n    if (!PredicateLexer.__ATN) {\r\n      PredicateLexer.__ATN = new ATNDeserializer().deserialize(\r\n        Utils.toCharArray(PredicateLexer._serializedATN)\r\n      );\r\n    }\r\n\r\n    return PredicateLexer.__ATN;\r\n  }\r\n}\r\n","import { ANTLRInputStream, CommonTokenStream } from 'antlr4ts';\nimport { PredicateLexer } from 'Prism.PredicateParser/PredicateLexer';\nimport { NormalizedToken } from './SyntaxHighlightEditable';\n\nconst tokenize = (text: string) => {\n  const chars = new ANTLRInputStream(text);\n  const lexer = new PredicateLexer(chars);\n  const tokens = new CommonTokenStream(lexer);\n\n  const normaliseTokens = (tokens: CommonTokenStream): NormalizedToken[] => {\n    if (!tokens) {\n      return [];\n    }\n\n    const t = tokens\n      .getTokens()\n      .map(\n        (t) =>\n          ({\n            id: t.type,\n            type: lexer.vocabulary.getSymbolicName(t.type),\n            content: t.text,\n          } as NormalizedToken)\n      )\n      .filter((t) => t.id !== -1);\n\n    return t;\n  };\n\n  try {\n    tokens.fill();\n  } catch (e) {}\n\n  return normaliseTokens(tokens);\n};\n\nexport { tokenize };\n","import React from 'react';\nimport { IconActionDelete } from '@cko/icons';\nimport styled from 'styled-components';\nimport { variant } from 'styled-system';\n\nimport ClickableElement from 'components/ClickableElement';\n\ninterface Props {\n  onClick: (event: React.MouseEvent<HTMLElement>) => void;\n  dataCy?: string;\n  variant?: 'large' | 'medium';\n}\n\nconst sizing = {\n  large: '32px',\n  medium: '26px',\n};\n\nconst Button = styled(ClickableElement)<Props>`\n  ${variant({\n    variants: {\n      medium: { height: `${sizing.medium}`, width: `${sizing.medium}` },\n      large: { height: `${sizing.large}`, width: `${sizing.large}` },\n    },\n  })}\n  border: 1px solid ${(props) => props.theme.colors.baseLight};\n  border-radius: 3px;\n  background-color: #ffffff;\n  font-size: 16px;\n  line-height: 1em;\n\n  table & {\n    opacity: 0;\n  }\n\n  tr:hover &,\n  &:focus {\n    opacity: 1;\n  }\n\n  &:hover {\n    box-shadow: 0 1px 3px 0 rgba(123, 141, 147, 0.15);\n  }\n`;\n\nconst DeleteButton: React.FunctionComponent<Props> = ({\n  onClick,\n  dataCy = 'delete-button',\n  variant = 'medium',\n}) => (\n  <Button data-cy={dataCy} onClick={onClick} variant={variant}>\n    <IconActionDelete />\n  </Button>\n);\n\nexport default DeleteButton;\n","import React from 'react';\nimport {\n  Modal,\n  Box,\n  Text,\n  TextInline,\n  Flex,\n  DangerButton,\n  OutlineButton,\n} from '@cko/primitives';\nimport InlineAlert from 'components/InlineAlert';\n\ninterface Props {\n  itemName: string;\n  itemType: string;\n  handleClose: () => void;\n  loading: boolean;\n  onDelete: () => void;\n  onCancel: () => void;\n  submissionErrorMessage: string | null;\n}\n\nconst DeleteConfirmationModal: React.FunctionComponent<Props> = ({\n  handleClose,\n  itemType,\n  itemName,\n  onDelete,\n  onCancel,\n  loading,\n  submissionErrorMessage,\n}) => {\n  return (\n    <Modal type=\"alert\" title={`Delete ${itemType}`} closeModal={handleClose}>\n      <Box pb={4}>\n        <Text fontSize={0} pb={3}>\n          Are you sure you want to delete{' '}\n          <TextInline as=\"strong\" fontWeight={500}>\n            {itemName}\n          </TextInline>\n          ?\n        </Text>\n        <Text fontSize={0} fontWeight={400} color=\"#BE4343\">\n          This action is permanent.\n        </Text>\n      </Box>\n      <Flex alignItems=\"center\" p={0}>\n        <Box>\n          <DangerButton onClick={onDelete} data-testid=\"delete-button\">\n            {loading ? 'Deleting' : `Delete`}\n          </DangerButton>\n        </Box>\n        <Box pl={3}>\n          <OutlineButton onClick={onCancel}>Cancel</OutlineButton>\n        </Box>\n      </Flex>\n\n      {submissionErrorMessage && (\n        <InlineAlert>{submissionErrorMessage}</InlineAlert>\n      )}\n    </Modal>\n  );\n};\n\nexport default DeleteConfirmationModal;\n","import React, { Children, cloneElement, isValidElement } from 'react';\n\nconst IndexChildren: React.FunctionComponent = ({ children }) => {\n  const childrenWithIndex = Children.map(children, (child, index) => {\n    if (isValidElement(child)) {\n      return cloneElement(child, { index });\n    }\n\n    return child;\n  });\n\n  return <>{childrenWithIndex}</>;\n};\n\nexport default IndexChildren;\n","import React from 'react';\nimport { TabsProvider } from 'contexts/TabsContext';\n\ninterface Props {\n  defaultIndex?: number;\n}\n\nconst Tabs: React.FunctionComponent<Props> = ({\n  defaultIndex = 0,\n  children,\n}) => {\n  return <TabsProvider defaultIndex={defaultIndex}>{children}</TabsProvider>;\n};\n\nexport default Tabs;\n","import React from 'react';\nimport { UnorderedList } from '@cko/primitives';\nimport styled from 'styled-components';\nimport IndexChildren from 'components/IndexChildren';\n\nconst BaseTabList = styled(UnorderedList)(({ theme }) => {\n  return `\n  display: flex;\n\n  li {\n    margin-right: ${theme.space[2]};\n  }\n\n  li:last-child {\n    margin-right: 0;\n  }`;\n});\n\nconst TabList: React.FunctionComponent = ({ children }) => {\n  return (\n    <BaseTabList role=\"tablist\">\n      <IndexChildren>{children}</IndexChildren>\n    </BaseTabList>\n  );\n};\n\nexport default TabList;\n","import styled from 'styled-components';\nimport { ClickableElement } from '@cko/primitives';\n\nconst BaseTab = styled(ClickableElement)(({ theme }) => {\n  return `\n      height: 36px;\n      font-size: 14px;\n      font-weight: 500;\n      border-top-left-radius: ${theme.radii};\n      border-top-right-radius: ${theme.radii};\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      padding: ${theme.space[0]} ${theme.space[3]};\n      background-color: ${theme.colors.white};\n      border-top: 3px solid transparent;\n      color: ${theme.colors.base};\n\n      &:disabled {\n        background-color: ${theme.colors.baseLight};\n      }\n\n      &:focus {\n        border-top: ${theme.borders.success[2]};\n      }\n\n      &[aria-selected='true'] {\n        border-top: ${theme.borders.success[2]};\n        color: ${theme.colors.success};\n\n        &:hover:enabled {\n          border-top: ${theme.borders.success[2]};\n        }        \n      }\n\n      &:hover:enabled {\n        border-top: ${theme.borders.base[2]};\n      }     \n  `;\n});\n\nexport default BaseTab;\n","import React from 'react';\nimport useTabs from 'hooks/useTabs';\nimport BaseTab from './BaseTab';\n\ninterface Props {\n  index?: number;\n  disabled?: boolean;\n  id: string;\n}\n\nconst Tab: React.FunctionComponent<Props> = ({\n  children,\n  index,\n  disabled,\n  id,\n}) => {\n  const { getTabProps } = useTabs();\n\n  if (index === undefined) {\n    return null;\n  }\n\n  return (\n    <li>\n      <BaseTab {...getTabProps({ id, index, disabled })}>{children}</BaseTab>\n    </li>\n  );\n};\n\nexport default Tab;\n","import React from 'react';\nimport useTabs from 'hooks/useTabs';\n\nconst TabPanels: React.FunctionComponent = ({ children }) => {\n  const { isActiveTab } = useTabs();\n\n  return (\n    <>\n      {React.Children.map(children, (child, i) =>\n        isActiveTab(i) ? child : null\n      )}\n    </>\n  );\n};\n\nexport default TabPanels;\n","import React from 'react';\nimport { Panel } from '@cko/primitives';\nimport useTabs from 'hooks/useTabs';\n\ntype Props = {\n  tabId: string;\n};\n\nconst TabPanel: React.FunctionComponent<Props> = ({ children, tabId }) => {\n  const { getTabPanelProps } = useTabs();\n  return (\n    <Panel p={0} {...getTabPanelProps({ id: tabId })}>\n      {children}\n    </Panel>\n  );\n};\n\nexport default TabPanel;\n","import React from 'react';\nimport { Modals } from 'types/enums/modals';\nimport Section from 'components/Section';\nimport { ParagraphText, Strong } from 'components/Text';\nimport InfoModal from 'components/InfoModal';\nimport UnorderedList from 'styles/UnorderedList';\nimport { ListItem } from '@cko/primitives';\n\nconst RulesInfoModalContainer = () => (\n  <InfoModal modalKey={Modals.RULE_PROFILE_INFO} title={`Rules`}>\n    <article>\n      <Section>\n        <ParagraphText>\n          <Strong>Rules</Strong> are the main building blocks for\n          <Strong> Routing</Strong>\n          and <Strong> Risk profiles</Strong>.\n        </ParagraphText>\n\n        <ParagraphText>\n          They take a form of an expression or a collection of expressions that\n          can be evaluated and found true or false. When adding a rule to the\n          Routing or to a Risk profile you will be able to define a specific\n          consequence of that evaluation.\n        </ParagraphText>\n\n        <ParagraphText>\n          <Strong> Rules can be based on:</Strong>\n          <UnorderedList pl={3}>\n            <ListItem>\n              information within a transaction payload\n              <Strong> E.g. Amount &gt; 100</Strong>\n            </ListItem>\n            <ListItem>\n              information provided within a transaction meta-data section (the\n              section you can populate with any information you deem necessary)\n              <Strong> E.g. Product code equals 14563</Strong>\n            </ListItem>\n            <ListItem>\n              additional contextual information\n              <Strong> E.g. Billing address is a valid</Strong>\n            </ListItem>\n            <ListItem>\n              statistical data derived from you traffic\n              <Strong>\n                E.g. Card used more than 3 times in the last 10 minutes\n              </Strong>\n            </ListItem>\n          </UnorderedList>\n        </ParagraphText>\n      </Section>\n    </article>\n  </InfoModal>\n);\n\nexport default RulesInfoModalContainer;\n","import React from 'react';\nimport {\n  MasterDetailsHeaderLayoutRight,\n  MasterDetailsHeaderLayout,\n  MasterDetailsHeaderLayoutLeft,\n} from 'components/MasterDetailsHeader';\n\nimport { Box } from '@cko/primitives';\n\ninterface Props {\n  title?: string;\n  headerContent?: JSX.Element;\n  closeButton?: JSX.Element;\n}\n\nconst ModalHeader: React.FunctionComponent<Props> = ({\n  title,\n  headerContent,\n  closeButton,\n}) => (\n  <>\n    <Box\n      boxShadow=\"focusLight.1\"\n      p={3}\n      style={{ zIndex: 1, position: 'relative' }}\n    >\n      <MasterDetailsHeaderLayout>\n        <MasterDetailsHeaderLayoutLeft>\n          <h3>{title}</h3>\n          <Box px={3}>{headerContent}</Box>\n        </MasterDetailsHeaderLayoutLeft>\n        <MasterDetailsHeaderLayoutRight>\n          {closeButton}\n        </MasterDetailsHeaderLayoutRight>\n      </MasterDetailsHeaderLayout>\n    </Box>\n  </>\n);\n\nexport default ModalHeader;\n","import React, { ReactNode } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled, { css } from 'styled-components';\n\nimport { IconActionCross } from '@cko/icons';\nimport ModalHeader from './ModalHeader';\n\nimport { ClickableElement, TTheme } from '@cko/primitives';\n\nexport const Overlay = styled.div`\n  height: 100vh;\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: auto;\n  z-index: 9999;\n  background: rgba(30, 36, 46, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n\nconst modalBorderMap: Record<ModalType, 'success' | 'danger'> = {\n  success: 'success',\n  alert: 'danger',\n};\n\nconst modalBorder = (props: ContentProp & { theme: TTheme }) => {\n  const borderColor = (props.type && modalBorderMap[props.type]) || 'success';\n\n  return css`\n    border-top: ${props.theme.borders[borderColor][2]};\n  `;\n};\n\nexport const Content = styled.div<ContentProp>`\n  border-radius: ${(props) => props.theme.radii[1]};\n  background: #fff;\n  max-width: ${(props) => props.maxWidth};\n  min-width: 702px;\n  flex: 1;\n  padding: 0;\n  margin: 24px 0;\n  position: relative;\n  ${modalBorder}\n`;\n\nexport const ModalContent = styled.div<ContentProp>`\n  border-radius: ${(props) => props.theme.radii[1]};\n  max-width: ${(props) => props.maxWidth};\n  min-width: 702px;\n  flex: 1;\n  position: relative;\n  z-index: 0;\n`;\n\nconst CloseButtonHitBox = '4px';\n\nexport const CloseButton = styled(ClickableElement)`\n  float: right;\n  padding: ${CloseButtonHitBox};\n  margin-right: -${CloseButtonHitBox};\n  margin-top: -${CloseButtonHitBox};\n  margin-left: ${CloseButtonHitBox};\n  margin-bottom: ${CloseButtonHitBox};\n  font-size: 16px;\n  line-height: 1;\n  svg {\n    vertical-align: top;\n  }\n`;\n\ntype ModalType = 'success' | 'alert';\n\ninterface ContentProp {\n  type?: ModalType;\n  maxWidth?: string;\n}\n\ninterface ModalProp {\n  title?: string;\n  closeModal: () => void;\n  closeOnClickOutside?: boolean;\n  closeOnEscape?: boolean;\n  headerContent: JSX.Element;\n}\n\nconst Portal = ({ children }: { children: ReactNode }) =>\n  ReactDOM.createPortal(children, document.body);\n\nconst ModalWithHeader: React.FC<ModalProp & ContentProp> = ({\n  title,\n  children,\n  headerContent,\n  closeModal,\n  maxWidth = '400px',\n  type = 'success',\n  closeOnClickOutside = true,\n  closeOnEscape = true,\n}) => (\n  <Portal>\n    <Overlay\n      onClick={(event) => {\n        event.stopPropagation();\n        closeOnClickOutside && closeModal();\n      }}\n      onKeyUp={(event) => {\n        if (event.keyCode === 27) {\n          event.stopPropagation();\n          closeOnEscape && closeModal();\n        }\n      }}\n      tabIndex={-1}\n      role=\"dialog\"\n      aria-labelledby=\"modal-title\"\n      aria-describedby=\"modal-content\"\n      aria-modal=\"true\"\n    >\n      <Content\n        onClick={(event) => event.stopPropagation()}\n        type={type}\n        maxWidth={maxWidth}\n      >\n        <ModalHeader\n          title={title}\n          headerContent={headerContent}\n          closeButton={\n            <CloseButton\n              onClick={(event) => {\n                event.stopPropagation();\n                closeModal();\n              }}\n            >\n              <IconActionCross />\n            </CloseButton>\n          }\n        />\n        <ModalContent id=\"modal-content\">{children}</ModalContent>\n      </Content>\n    </Overlay>\n  </Portal>\n);\n\nexport default ModalWithHeader;\n","export { default } from './RulesBuilderContainer';\n","import React, { useMemo, ReactNode } from 'react';\nimport {\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n} from '@cko/primitives';\nimport styled from 'styled-components';\nimport DeleteButton from 'components/DeleteButton';\n\ninterface Props<T> {\n  items: (T & { id: string })[];\n  itemsToDisplay: Partial<keyof (T & { id: string })>[];\n  cyTag: string;\n  tableHeaders: string[];\n  onDeleteEntry?: (item: T) => void;\n  canDeleteEntry?: boolean;\n  onInteraction?: (item: T) => void;\n}\n\nconst TableWrapper = styled.div`\n  overflow-y: scroll;\n  scrollbar-width: thin;\n\n  ::-webkit-scrollbar {\n    width: 5px;\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #ccc;\n  }\n`;\n\nconst EmptyTableCell = styled(TableCell)`\n  text-align: center;\n  padding: 0 !important;\n`;\n\nconst DataTable = <T extends {}>({\n  items,\n  itemsToDisplay,\n  cyTag,\n  onDeleteEntry,\n  canDeleteEntry = false,\n  tableHeaders,\n  onInteraction,\n}: Props<T> & { children?: ReactNode }) => {\n  const tableContent = useMemo(() => {\n    if (items.length === 0) {\n      return (\n        <TableRow>\n          <EmptyTableCell colSpan={3}>No results</EmptyTableCell>\n        </TableRow>\n      );\n    }\n\n    return items.map((item, i) => {\n      return (\n        <TableRow\n          data-cy={cyTag}\n          key={i}\n          onInteraction={onInteraction ? () => onInteraction(item) : undefined}\n        >\n          {Object.keys(item).map(\n            (k) =>\n              itemsToDisplay.includes(k as keyof typeof item) && (\n                <TableCell\n                  key={`${k}-${i}`}\n                  style={{\n                    cursor: onInteraction ? 'pointer' : 'default',\n                  }}\n                  width={`${100 / itemsToDisplay.length}%`}\n                >\n                  {item[k as keyof typeof item]}\n                </TableCell>\n              )\n          )}\n          {canDeleteEntry && onDeleteEntry && (\n            <TableCell width={1 / 100}>\n              <DeleteButton onClick={() => onDeleteEntry(item)} />\n            </TableCell>\n          )}\n        </TableRow>\n      );\n    });\n  }, [\n    canDeleteEntry,\n    cyTag,\n    items,\n    onDeleteEntry,\n    itemsToDisplay,\n    onInteraction,\n  ]);\n\n  const tableHeaderContent = useMemo(() => {\n    const headers = canDeleteEntry ? [...tableHeaders, ''] : tableHeaders;\n\n    return (\n      <TableRow>\n        {headers.map((header, index) => {\n          return (\n            <TableCell\n              as=\"th\"\n              key={header}\n              width={\n                canDeleteEntry && headers.length - 1 !== index\n                  ? `${100 / itemsToDisplay.length}%`\n                  : undefined\n              }\n            >\n              {header}\n            </TableCell>\n          );\n        })}\n      </TableRow>\n    );\n  }, [canDeleteEntry, itemsToDisplay.length, tableHeaders]);\n\n  return (\n    <TableWrapper>\n      <Table>\n        <TableHead>{tableHeaderContent}</TableHead>\n        <TableBody>{tableContent}</TableBody>\n      </Table>\n    </TableWrapper>\n  );\n};\n\nexport default DataTable;\n"],"sourceRoot":""}