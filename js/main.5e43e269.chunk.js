(this["webpackJsonpcheckout-prism-merchant-ui"]=this["webpackJsonpcheckout-prism-merchant-ui"]||[]).push([[14],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),c=n(12);function i(){const e=Object(r.a)(["\n  display: grid;\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return i=function(){return e},e}var s=n(5).default.div(i(),c.gridColumnGap,c.gridTemplateColumns,c.gridTemplateRows,c.space,c.height)},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),c=n(6),i=n(22),s=n(0),o=n.n(s);var a=e=>{let t=e.children,n=e.on,s=Object(i.a)(e,["children","on"]);return n?Object(r.jsx)(r.Fragment,{children:o.a.cloneElement(t,Object(c.a)({},s))}):null}},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),c=n(5),i=n(12),s=n(2);function o(){const e=Object(r.a)(["\n  display: flex;\n  ",";\n  ","\n  ","\n  ","\n"]);return o=function(){return e},e}var a=Object(c.default)(s.Box)(o(),i.justifyContent,i.alignItems,i.flexBasis,i.flex)},107:function(e,t,n){"use strict";var r=n(1),c=(n(0),n(2));t.a=({onConfirmation:e,onDismiss:t,type:n})=>Object(r.jsxs)(c.Modal,{type:"alert",title:"You have unsaved changes",closeModal:t,children:[Object(r.jsxs)(c.Box,{pb:4,children:[Object(r.jsx)(c.Text,{pb:2,children:"You have unsaved changes."}),Object(r.jsx)(c.Text,{pb:2,children:"If you exit this risk profile your progress will be lost."}),Object(r.jsxs)(c.Text,{children:["Would you like to"," ",Object(r.jsxs)(c.TextInline,{fontWeight:500,color:"baseMedium",children:["return and finish"," "]}),"your risk profile changes"," ",Object(r.jsxs)(c.TextInline,{fontWeight:500,color:"baseMedium",children:["switch"===n?"or switch to another risk profile":" or leave risk profiles"," "]}),"but your unsaved changed will be lost."]})]}),Object(r.jsxs)(c.Flex,{justifyContent:"space-between",p:0,children:[Object(r.jsx)(c.Box,{children:Object(r.jsx)(c.SecondaryButton,{onClick:t,"data-testid":"reset-button",children:"Return and finish"})}),Object(r.jsx)(c.Box,{pl:3,children:Object(r.jsx)(c.AlertButton,{onClick:e,children:"switch"===n?"Switch risk profile":"Leave risk profiles"})})]})]})},138:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return b}));var r=n(17),c=n.n(r),i=n(25),s=n(74),o=n.n(s);const a=e=>new Promise((t=>setTimeout(t,e))),l=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r=!1){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(t,n);case 3:if(i=e.sent,r){e.next=6;break}return e.abrupt("return",i.data);case 6:return e.next=8,a(500);case 8:return e.abrupt("return",i.data);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),u=(e,t,n)=>o.a.post(e,t,n),d=(e,t)=>o.a.delete(e,t),b=(e,t,n)=>o.a.put(e,t,n)},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(17),c=n.n(r),i=n(25),s=n(7),o=n(36),a=n(76),l=n(0);var u=()=>{const e=Object(a.a)(),t=Object(o.a)(),n=Object(s.a)(t,1)[0].selectedMerchant;return Object(l.useCallback)(Object(i.a)(c.a.mark((function t(){var r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},t.next=3,e.getAccessToken();case 3:return(i=t.sent)&&(r.Authorization="Bearer ".concat(i)),n&&null!==n.id&&(r["Cko-Selected-Merchant-Id"]=n.id),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)}))),[e,n])}},140:function(e,t,n){"use strict";var r=n(79);n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return r.c})),n.d(t,"b",(function(){return r.b}))},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),c=(n(0),n(2));const i=({children:e,boxShadow:t})=>Object(r.jsxs)(c.Box,{width:"400px",backgroundColor:"white",p:4,border:"baseLight.1",borderTop:"warning.2",boxShadow:t,children:[Object(r.jsxs)(c.Box,{mb:3,children:[Object(r.jsx)(c.TextHeadingOne,{fontSize:3,mb:1,children:"Prism"}),Object(r.jsx)(c.CheckoutLogo,{})]}),e]});t.b=()=>Object(r.jsx)(c.Flex,{alignItems:"center",justifyContent:"center",height:"100vh",children:Object(r.jsx)(i,{children:Object(r.jsxs)(c.Text,{fontSize:1,lineHeight:1,children:["Something went wrong. You can get in touch with the support team at:",Object(r.jsx)(c.Link,{href:"mailto:prism-support@checkout.com",children:"prism-support@checkout.com"})]})})})},144:function(e,t,n){"use strict";var r=n(1),c=(n(0),n(2));t.a=({onConfirmation:e,onDismiss:t})=>Object(r.jsxs)(c.Modal,{type:"alert",title:"You\u2019re leaving routing",closeModal:t,children:[Object(r.jsxs)(c.Box,{pb:4,children:[Object(r.jsx)(c.Text,{pb:2,children:"However, your routing tree isn\u2019t saved. If you exit now your progress will be lost."}),Object(r.jsxs)(c.Text,{children:["Would you like to"," ",Object(r.jsx)(c.TextInline,{fontWeight:500,color:"baseMedium",children:"return and finish"})," ","your routing, or click"," ",Object(r.jsx)(c.TextInline,{fontWeight:500,color:"baseMedium",children:"exit routing"})," ","to discard your changes?"]})]}),Object(r.jsxs)(c.Flex,{justifyContent:"space-between",p:0,children:[Object(r.jsx)(c.Box,{children:Object(r.jsx)(c.SecondaryButton,{onClick:t,"data-testid":"reset-button",children:"Return and finish"})}),Object(r.jsx)(c.Box,{pl:3,children:Object(r.jsx)(c.AlertButton,{onClick:e,children:"Exit routing"})})]})]})},145:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return w}));var r=n(1),c=n(6),i=n(7),s=n(0),o=n.n(s),a=n(8),l=n(104),u=n(5),d=n(2),b=n(18),j=n(214);function h(){const e=Object(a.a)(["\n  & > g {\n    fill: #fd755f;\n  }\n"]);return h=function(){return e},e}function O(){const e=Object(a.a)(["\n  & > path {\n    fill: #2db388;\n  }\n"]);return O=function(){return e},e}function x(){const e=Object(a.a)(["\n  padding: 10px 20px;\n  background-color: #fff;\n  box-shadow: 0 1px 3px 0 rgba(123, 141, 147, 0.15);\n  border-radius: 3px;\n  border-top: ",";\n  margin-bottom: 8px;\n"]);return x=function(){return e},e}function p(){const e=Object(a.a)(["\n  position: fixed;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  max-width: 300px;\n  width: 100%;\n"]);return p=function(){return e},e}const f=u.default.div(p()),m={alert:"danger",success:"success"},g=Object(u.default)(l.a)(x(),(e=>e.theme.borders[m[e.type]][2])),v={success:Object(u.default)(b.b)(O()),alert:Object(u.default)(b.k)(h())};var I=({children:e,onClose:t,closeable:n,type:c,timer:i,icon:o})=>{const a=o||v[c];return Object(s.useEffect)((()=>{let e=null;return null!==i&&(e=window.setTimeout((()=>t()),i)),()=>{null!==e&&window.clearTimeout(e)}}),[]),Object(r.jsx)(j.a,{children:Object(r.jsx)(f,{children:Object(r.jsxs)(g,{type:c,children:[Object(r.jsx)(d.Box,{children:Object(r.jsx)(a,{})}),Object(r.jsx)(l.a,{flex:"1 2 0",mx:2,children:Object(r.jsx)(d.Text,{fontSize:0,lineHeight:0,children:e})}),n&&Object(r.jsx)(d.Box,{children:Object(r.jsx)(d.ClickableElement,{onClick:t,"data-testid":"alert-close-button",children:Object(r.jsx)(b.e,{})})})]})})})};const w=o.a.createContext({showAlert:()=>{}}),S={closeable:!0,type:"success",timer:3e3,icon:null};var k=({children:e})=>{const t=Object(s.useState)(null),n=Object(i.a)(t,2),o=n[0],a=n[1],l=(e,t)=>{const n=Object(c.a)(Object(c.a)({},S),t);a({message:e,options:n})},u=Object(s.useMemo)((()=>({showAlert:l})),[]);return Object(r.jsxs)(w.Provider,{value:u,children:[null!==o&&Object(r.jsx)(I,Object(c.a)(Object(c.a)({},o.options),{},{onClose:()=>a(null),children:o.message})),e]})}},16:function(e,t,n){"use strict";var r=n(96),c=n(63);window.__prismconfig__=c.a,window.__prism__feature_flags__=r.a,t.a=c.a},195:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{var t;return 404===(null===(t=e.response)||void 0===t?void 0:t.status)}},212:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return x}));var r=n(17),c=n.n(r),i=n(25),s=n(0),o=n(28),a=n(16);class l extends s.Component{constructor(...e){super(...e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidUpdate(){var e=this;return Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.error){t.next=5;break}return t.next=3,e.props.auth.isAuthenticated();case 3:if(t.sent&&"prod"===a.a.ENV){e.props.auth.logout();try{window.localStorage.clear()}catch(n){}}case 5:case"end":return t.stop()}}),t)})))()}render(){return this.state.error?this.props.fallback:this.props.children}}var u=Object(o.withAuth)(l),d=n(1),b=n(6),j=n(22),h=n(37);class O extends s.Component{constructor(...e){super(...e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){throw console.log(this.props.data),e}render(){return this.state.error?null:this.props.children}}var x=Object(o.withAuth)((e=>{let t=e.children,n=Object(j.a)(e,["children"]);return Object(h.b)().featureFlags.LOGGING_ERROR_BOUNDARY?Object(d.jsx)(O,Object(b.a)(Object(b.a)({},n),{},{children:t})):Object(d.jsx)(d.Fragment,{children:t})}))},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(42),c=n.n(r);var i=({children:e})=>c.a.createPortal(e,document.body)},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h}));var r=n(1),c=n(8),i=(n(0),n(5));function s(){const e=Object(c.a)(["\n  animation: "," 30s linear reverse;\n  animation-iteration-count: infinite;\n  stroke-dasharray: 120;\n  ","\n  color: transparent;\n"]);return s=function(){return e},e}function o(){const e=Object(c.a)(["\n    width: ",";\n  "]);return o=function(){return e},e}function a(){const e=Object(c.a)(["\n  to {\n    stroke-dashoffset: 3500;\n  }\n"]);return a=function(){return e},e}const l=Object(i.keyframes)(a()),u={small:"16px",medium:"24px",large:"48px"},d=i.default.svg(s(),l,(({size:e})=>{const t=u[e]||u.medium;return Object(i.css)(o(),t)}));var b=({size:e})=>Object(r.jsx)(d,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",size:e,children:Object(r.jsx)("path",{d:"M8,1.5L8,1.5c3.6,0,6.5,2.9,6.5,6.5v0c0,3.6-2.9,6.5-6.5,6.5h0c-3.6,0-6.5-2.9-6.5-6.5v0C1.5,4.4,4.4,1.5,8,1.5 z",fill:"transparent",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"10",stroke:"#22a77d"})}),j=n(2);var h=()=>Object(r.jsx)(j.Flex,{alignContent:"center",justifyContent:"center",height:"100vh",children:Object(r.jsx)(b,{size:"large"})})},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(7),c=n(50),i=n(0);var s=()=>{const e=Object(c.a)(),t=Object(r.a)(e,2),n=t[0],s=t[1],o=Object(i.useCallback)((e=>{s({type:"SET_USER",payload:e})}),[s]);return[n.user,{setUser:o}]}},35:function(e,t,n){"use strict";let r,c,i,s,o,a,l,u;n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return u})),function(e){e.prism="prism",e.gw3="gw3"}(r||(r={})),function(e){e.free="free",e.basic="basic",e.premium="premium"}(c||(c={})),function(e){e.Internal="internal",e.External="external"}(i||(i={})),function(e){e.Decline="decline",e.Challenge="force_challenge",e.NoPreference="no_preference",e.FrictionlessLiability="try_frictionless",e.TryExemptions="try_exemptions"}(s||(s={})),function(e){e.Capture="capture",e.Void="void",e.Flag="flag"}(o||(o={})),function(e){e.Add="Add",e.Edit="Edit",e.EditDelete="EditDelete"}(a||(a={})),function(e){e.Pre3ds="pre-3ds",e.PostAuth="post-auth"}(l||(l={})),function(e){e.RoutingSavePrompt="RoutingSavePrompt",e.SwitchRiskProfilesSavePrompt="SwitchRiskProfilesSavePrompt",e.LeaveRiskProfilesSavePrompt="LeaveRiskProfilesSavePrompt"}(u||(u={}))},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(7),c=n(50),i=n(0);var s=()=>{const e=Object(c.a)(),t=Object(r.a)(e,2),n=t[0],s=n.merchants,o=n.selectedMerchant,a=t[1];return[{merchants:s,selectedMerchant:o},{setMerchant:Object(i.useCallback)((e=>{a({type:"SET_ACCOUNTS",payload:e})}),[a]),selectMerchant:Object(i.useCallback)((e=>{a({type:"SELECT_ACCOUNT",payload:e})}),[a])}]}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(1),c=n(6),i=n(7),s=n(96),o=n(31),a=n(0);const l=n.n(a).a.createContext(void 0),u=({children:e})=>{const t=Object(a.useState)(s.a),n=Object(i.a)(t,2),u=n[0],d=n[1],b=Object(o.a)(),j=Object(i.a)(b,1)[0];Object(a.useEffect)((()=>{let e=!1;try{const t=localStorage.getItem("prism-debugger");e=t&&JSON.parse(t)&&"internal"===(null===j||void 0===j?void 0:j.type)||!1}catch(t){e=!1}if(e)try{const e=localStorage.getItem("feature-flags");if(e){const t=JSON.parse(e);d((e=>Object(c.a)(Object(c.a)({},e),t)))}}catch(n){}}),[j]);const h=Object(a.useMemo)((()=>({featureFlags:u,setFeatureFlags:d})),[u]);return Object(r.jsx)(l.Provider,{value:h,children:e})},d=()=>{const e=Object(a.useContext)(l);if(void 0===e)throw new Error("useFeatureFlags must be used within a FeatureFlagsProvider");return e}},40:function(e,t,n){"use strict";var r=n(16);const c="".concat(r.a.API_URL,"/risk-profiles"),i={blacklists:"".concat(r.a.API_URL,"/blacklists"),lists:"".concat(r.a.API_URL,"/lists"),merchants:"".concat(r.a.API_URL,"/merchants"),user:"".concat(r.a.API_URL,"/user"),rules:"".concat(r.a.API_URL,"/scoring-rules"),permissions:e=>"".concat(r.a.API_URL,"/merchants/").concat(e,"/permissions"),scoringRules:"".concat(r.a.API_URL,"/scoring-rules"),routing:"".concat(r.a.API_URL,"/routing"),riskProfiles:c,riskProfilesStep:e=>"".concat(c,"/").concat(e),transactionSummaries:"".concat(r.a.API_URL,"/transaction-summaries/funnels"),transactionSummariesCsv:(e,t)=>"".concat(r.a.API_URL,"/assessment-logs/export?from=").concat(e,"&to=").concat(null!==t&&void 0!==t?t:e),assessmentReports:"".concat(r.a.API_URL,"/assessment-reports")};t.a=i},401:function(e,t){},439:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),i=n.n(c),s=n(42),o=n.n(s),a=n(41),l=n(28),u=n(2),d=n(13),b=n(17),j=n.n(b),h=n(25),O=n(7),x=n(218),p=n(30);var f=e=>{const t=Object(c.useState)(!0),n=Object(O.a)(t,2),r=n[0],i=n[1],s=function(){var t=Object(h.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._oktaAuth.token.getWithoutPrompt();case 3:return t.next=5,e.redirect();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((()=>{s()}),[]),[r]};var m=Object(l.withAuth)((({auth:e})=>{const t=f(e),n=Object(O.a)(t,1)[0],i=Object(c.useState)(void 0),s=Object(O.a)(i,2),o=s[0],a=s[1],l=Object(c.useRef)(null);Object(c.useEffect)((()=>()=>{null!==l.current&&window.clearTimeout(l.current)}),[]);const u=function(){var t=Object(h.a)(j.a.mark((function t(n,r){var c,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(void 0),t.prev=1,!n||!r){t.next=12;break}return t.next=5,e._oktaAuth.signIn({username:n,password:r});case 5:if("SUCCESS"===(c=t.sent).status){t.next=11;break}throw"PASSWORD_EXPIRED"===c.status&&window.location.replace("https://checkout.oktapreview.com/signin/password-expired"),new Error("Failed to login");case 11:e.redirect({sessionToken:c.sessionToken});case 12:t.next=19;break;case 14:t.prev=14,t.t0=t.catch(1),i=t.t0.xhr&&401===t.t0.xhr.status?"Incorrect email or password":"Opps something went wrong, please try again",a(i),l.current=setTimeout((()=>{a(void 0)}),3e3);case 19:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,n){return t.apply(this,arguments)}}(),d=function(){var t=Object(h.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n){t.next=8;break}return t.next=4,e._oktaAuth.forgotPassword({username:n,factorType:"EMAIL"});case 4:if("RECOVERY_CHALLENGE"===t.sent.status){t.next=7;break}throw new Error("Failed to reset password");case 7:alert("An email has been set to your email address");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return n?Object(r.jsx)(p.a,{}):Object(r.jsx)(x.a,{title:"Prism",handleLogin:u,handleForgotten:d,error:o})})),g=n(56),v=n(31),I=n(34),w=n(40);var S=()=>{const e=Object(g.a)(),t=Object(v.a)(),n=Object(O.a)(t,2)[1].setUser,r=Object(I.e)(w.a.user,(()=>e(w.a.user)),{onSuccess:e=>{n(e)}});return{loading:"loading"===r.status,error:r.error}},k=n(22),y=n(221),C=n(6);const T="prism:localstorage";var M=()=>{const e=Object(c.useState)((()=>{try{const e=window.localStorage.getItem(T);return e?JSON.parse(e):{}}catch(e){return{}}})),t=Object(O.a)(e,2),n=t[0],r=t[1];return{localState:n,setItem:e=>{const t=Object(C.a)(Object(C.a)({},n),e);try{const e=JSON.stringify(t);window.localStorage.setItem(T,e),r(t)}catch(c){}},clearItem:e=>{n[e];let t=Object(k.a)(n,[e].map(y.a));try{const e=JSON.stringify(t);window.localStorage.setItem(T,e),r(t)}catch(c){}},clear:()=>{window.localStorage.clear()}}},R=n(36),P=n(35);const N={name:"CKO",id:null,ml_score_enabled:!0,risk_engine_type:P.g.prism,tier:P.h.premium};var A=()=>{const e=M().localState,t=Object(g.a)(),n=Object(R.a)(),r=Object(O.a)(n,2),c=r[0].selectedMerchant,i=r[1],s=i.setMerchant,o=i.selectMerchant,a=Object(v.a)(),l=Object(O.a)(a,1)[0],u=Object(I.e)(w.a.merchants,(()=>t(w.a.merchants)),{onSuccess:t=>{var n;const r=l&&l.type===P.a.Internal?[N,...t.accounts]:t.accounts;s(r);const i=null!==(n=r.find((t=>{var n;return t.id===(null===(n=e.selectedMerchant)||void 0===n?void 0:n.id)})))&&void 0!==n?n:r[0];!c&&i&&o(i)}});return{loading:"loading"===u.status,error:u.error}},E=n(45);var _=e=>{const t=Object(g.a)();return Object(I.e)([w.a.permissions(e),{id:e}],((e,{id:n})=>t(w.a.permissions(n))),{enabled:null!==e})};var L=()=>{var e;const t=Object(v.a)(),n=Object(O.a)(t,1)[0],r=Object(R.a)(),i=Object(O.a)(r,1)[0].selectedMerchant,s=Object(E.a)().setPermissions,o=_(null!==(e=null===i||void 0===i?void 0:i.id)&&void 0!==e?e:null),a=o.data,l=o.status,u=o.error,d="loading"===l;return Object(c.useEffect)((()=>{if(n&&i)if(n.type===P.a.Internal&&n.global_permissions&&null===i.id&&!a)s(n.global_permissions);else if(a){if(!a.permissions_response.length)throw Error("User has no permissions");s(a.permissions_response)}}),[a,i,s,n]),{loading:d,error:u}},D=n(50);var U=()=>{var e;const t=Object(D.a)(),n=Object(O.a)(t,1)[0],r=n.merchants,c=n.permissions,i=n.user,s=n.selectedMerchant,o=S().error,a=A().error,l=L().error,u=null!==(e=null!==o&&void 0!==o?o:a)&&void 0!==e?e:l;return{loading:!!!(r.length&&c.length&&i&&s),error:u}};var B=e=>{let t=e.permission,n=e.component,i=Object(k.a)(e,["permission","component"]);const s=Object(E.a)().hasPermission;return Object(c.useMemo)((()=>s(t)),[s,t])?Object(r.jsx)(d.Route,Object(C.a)(Object(C.a)({},i),{},{render:e=>Object(r.jsx)(n,Object(C.a)({},e))})):Object(r.jsx)(d.Redirect,{to:"/"})},G=n(101),z=n(8),H=n(51),W=n(18),F=n(5),Z=n(37);function J(){const e=Object(z.a)(["\n  text-decoration: underline;\n"]);return J=function(){return e},e}function Y(){const e=Object(z.a)(["\n  font-size: 16px;\n  vertical-align: text-bottom;\n  margin-right: 6px;\n"]);return Y=function(){return e},e}const V=Object(F.default)(W.q)(Y()),Q=Object(F.default)(u.Text)(J());var X=()=>{const e=Object(E.a)().hasPermission,t=Object(Z.b)().featureFlags,n=Object(c.useMemo)((()=>({blacklists:e("prism:blacklist:read"),routing:e("prism:routing:read"),rule:e("prism:rule:read"),list:e("prism:list:read"),riskProfiles:e("prism:risk-profile:read")})),[e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(H.a,{to:"/",display:"block","data-cy":"prism",children:[Object(r.jsx)(V,{}),"Prism"]}),Object(r.jsxs)(u.Box,{children:[(n.blacklists||n.routing)&&Object(r.jsxs)(u.Box,{px:3,children:[Object(r.jsx)(Q,{fontSize:0,children:"Main controls"}),Object(r.jsx)(u.Box,{mt:2,children:Object(r.jsxs)("ul",{children:[n.blacklists&&Object(r.jsx)("li",{children:Object(r.jsx)(H.b,{to:"/blacklists","data-cy":"blacklists",display:"block",children:"Blacklists"})}),n.routing&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{children:Object(r.jsx)(H.b,{to:"/routing","data-cy":"routing",display:"block",children:"Routing"})}),t.TEST_ROUTING&&Object(r.jsx)("li",{children:Object(r.jsx)(H.b,{to:"/test-routing","data-cy":"test-routing",display:"block",children:"Test routing"})})]})]})})]}),(n.rule||n.list||n.riskProfiles)&&Object(r.jsxs)(u.Box,{px:3,children:[Object(r.jsx)(Q,{fontSize:0,children:"Components"}),Object(r.jsx)(u.Box,{mt:2,children:Object(r.jsxs)("ul",{children:[n.rule&&Object(r.jsx)("li",{children:Object(r.jsx)(H.b,{to:"/rules","data-cy":"rules",display:"block",children:"Rules"})}),n.list&&Object(r.jsx)("li",{children:Object(r.jsx)(H.b,{to:"/lists","data-cy":"lists",display:"block",children:"Lists"})}),n.riskProfiles&&Object(r.jsx)("li",{children:Object(r.jsx)(H.b,{to:"/risk-profiles","data-cy":"risk-profiles",display:"block",children:"Risk profiles"})})]})})]})]})]})};const q={small:16,large:32};var K=({size:e="small"})=>{const t=q[e]||q.large;return Object(r.jsx)("svg",{width:t,height:t,viewBox:"0 0 34 34",children:Object(r.jsx)("path",{fill:"#354c55",fillRule:"evenodd",d:"M150.933,49l8.923-15.448a1.032,1.032,0,0,0,0-1.036A1.048,1.048,0,0,0,158.948,32H140.507a1.048,1.048,0,0,0-.9.512l-9.463,15.964a1.027,1.027,0,0,0,0,1.052L139.6,65.488a1.047,1.047,0,0,0,.9.512h18.441a1.048,1.048,0,0,0,.905-0.518,1.033,1.033,0,0,0,0-1.037Zm-1.2-2.088-7.415-12.838h14.829ZM140.5,35.1L148.521,49l-8.026,13.9L132.258,49Zm1.818,28.822,7.415-12.838,7.414,12.838H142.313Z",transform:"translate(-128 -32)"})})},$=(n(128),n(80)),ee=n(46);function te(){const e=Object(z.a)(["\n  font-size: 12px;\n"]);return te=function(){return e},e}function ne(){const e=Object(z.a)(["\n  overflow: hidden;\n  width: 200px;\n  line-height: 18px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return ne=function(){return e},e}function re(){const e=Object(z.a)(["\n  font-size: 16px;\n  margin-left: 8px;\n  transition: all 0.3s ease;\n  transform: ",";\n\n  & > path {\n    fill: black;\n  }\n"]);return re=function(){return e},e}function ce(){const e=Object(z.a)(["\n  ","\n  width: 280px;\n  text-align: left;\n  text-overflow: ellipsis;\n  text-align: left;\n  height: 32px;\n  padding: 0 16px 10px 16px;\n  border-bottom: 2px solid black;\n  border-radius: 3px;\n\n  ","\n"]);return ce=function(){return e},e}const ie=Object(F.default)($.a)(ce(),(e=>e.isOpen&&"z-index: 30;"),(e=>!e.disabled&&" &::before {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    right: 18px;\n    ".concat(Object(ee.triangle)({pointingDirection:"top",width:"12px",height:"8px",foregroundColor:"black"}),";\n  }"))),se=Object(F.default)(W.c)(re(),(({isOpen:e})=>"rotate(".concat(e?180:0,"deg)"))),oe=F.default.span(ne()),ae=F.default.label(te()),le=e=>{let t=e.children,n=e.itemToString,i=e.disabled,s=void 0!==i&&i,o=Object(k.a)(e,["children","itemToString","disabled"]);const a=Object(u.useMenuContext)(),l=a.getToggleButtonProps,d=a.selectedItem,b=a.isOpen,j=a.direction,h=a.itemToString,O=a.placeholder,x=Object(c.useContext)(F.ThemeContext),p=t||n&&n(d)||h(d)||d&&d.value||O;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.Box,{pl:3,pb:1,children:Object(r.jsx)(ae,{children:"Account"})}),Object(r.jsx)(ie,Object(C.a)(Object(C.a)(Object(C.a)({},l()),o),{},{isOpen:b,theme:x,direction:j,disabled:s,"data-cy":"account-selector",children:Object(r.jsxs)(u.Flex,{p:0,justifyContent:"space-between",alignItems:"center",children:[Object(r.jsxs)(u.Flex,{p:0,alignItems:"center",children:[d.icon&&Object(r.jsx)(u.Box,{display:"inline-block",mr:1,children:Object(r.jsx)(d.icon,{})}),Object(r.jsx)(oe,{title:d&&d.value||O,children:p})]}),!s&&Object(r.jsx)(se,{isOpen:b})]})}))]})};function ue(){const e=Object(z.a)(["\n  background: white;\n  position: relative;\n  z-index: 20;\n  max-height: 250px;\n  overflow-y: auto;\n  box-shadow: rgba(121, 131, 149, 0.15) 0px 1px 3px 0px;\n  border: 1px solid rgb(223, 231, 235);\n  height: auto;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n"]);return ue=function(){return e},e}function de(){const e=Object(z.a)(["\n  top: 100%;\n  bottom: auto;\n  position: absolute;\n  width: 100%;\n"]);return de=function(){return e},e}function be(){const e=Object(z.a)(["\n  align-self: center;\n  margin: 0 4px;\n"]);return be=function(){return e},e}const je=Object(F.default)(W.o)(be()),he=F.default.div(de()),Oe=Object(F.default)(u.List)(ue());var xe=Object(c.memo)((e=>{let t=Object.assign({},e);const n=Object(u.useMenuContext)(),c=n.isOpen,i=n.ref,s=n.getInputProps;return c?Object(r.jsxs)(he,{ref:i,"data-testid":"menu-list",children:[Object(r.jsx)(u.Box,{py:2,children:Object(r.jsx)(u.TextField,Object(C.a)({type:"text",placeholder:"Search for account",prefix:Object(r.jsx)(je,{})},s()))}),Object(r.jsx)(Oe,Object(C.a)(Object(C.a)({},t),{},{isOpen:c}))]}):null}));function pe(){const e=Object(z.a)(["\n  max-height: 45px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 14px 16px 14px ",";\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 16px;\n  background-color: #fff;\n  cursor: pointer;\n  border-bottom: ",";\n  ","\n"]);return pe=function(){return e},e}function fe(){const e=Object(z.a)(["\n  white-space: nowrap;\n  align-items: center;\n"]);return fe=function(){return e},e}function me(){const e=Object(z.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return me=function(){return e},e}function ge(){const e=Object(z.a)(["\n    border-left: 3px solid transparent;\n  "]);return ge=function(){return e},e}function ve(){const e=Object(z.a)(["\n  border-left: 3px solid ",";\n"]);return ve=function(){return e},e}function Ie(){const e=Object(z.a)(["\n  border-left: 3px solid ",";\n"]);return Ie=function(){return e},e}const we=Object(F.css)(Ie(),(({theme:e})=>e.colors.success)),Se=Object(F.css)(ve(),(({theme:e})=>e.colors.baseLight)),ke=F.default.div(me()),ye=Object(F.default)(u.Flex)(fe()),Ce=Object(F.default)(u.ListItem)(pe(),(({hasIcon:e})=>e?"16px":"36px"),(({theme:e})=>e.borders.baseLight[1]),(e=>e.isActive?we:e.isHighlighted?Se:Object(F.css)(ge())));var Te=({item:e,itemToString:t,index:n,children:c})=>{const i=Object(u.useMenuContext)(),s=i.getItemProps,o=i.selectedItem,a=i.highlightedIndex,l=i.itemToString,d=c||t&&t(e)||l(e)||e&&e.value;return Object(r.jsx)(Ce,Object(C.a)(Object(C.a)({},s({key:e.value,index:n,item:e})),{},{isActive:o&&o.value===e.value||!1,isHighlighted:a===n,title:e.value,hasIcon:null!==e.icon,children:Object(r.jsxs)(ye,{children:[e.icon&&Object(r.jsx)(u.Box,{mr:"6px",display:"inline-block",p:0,children:Object(r.jsx)(e.icon,{})}),Object(r.jsx)(ke,{children:d})]})}))};function Me(){const e=Object(z.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 14px 16px 14px 36px;\n  font-size: 14px;\n  font-weight: 400;\n  background-color: #fff;\n  cursor: pointer;\n  border-bottom: ",";\n"]);return Me=function(){return e},e}var Re=Object(F.default)(u.ListItem)(Me(),(({theme:e})=>e.borders.baseLight[1])),Pe=n(222);const Ne=({accounts:e})=>{const t=Object(c.useState)(null),n=Object(O.a)(t,2),i=n[0],s=n[1],o=Object(c.useCallback)((e=>{const t=e.target.value;s(t)}),[]),a=Object(u.useMenuContext)().inputValue,l=Object(c.useMemo)((()=>null!==a?e.filter((e=>e.label.toLowerCase().includes(a.toLowerCase()))):e),[a,e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(le,{disabled:1===e.length,itemToString:e=>e.label}),Object(r.jsx)(xe,{handleSearch:o,searchTerm:i,children:0===l.length?Object(r.jsx)(Re,{children:"No account found"}):Object(r.jsx)(Pe.a,{height:248,itemCount:l.length,itemSize:45,width:278,children:({index:e,style:t})=>Object(r.jsx)("div",{style:t,children:Object(r.jsx)(Te,{item:l[e],index:e,itemToString:e=>e.label},e)})})})]})};var Ae=({accounts:e,onChange:t,selectedMerchant:n})=>Object(r.jsx)(u.SelectMenu,{initialSelectedItem:n,onChange:t,children:Object(r.jsx)(Ne,{accounts:e})});const Ee=e=>{const t={value:e,label:e.name};return null===e.id?Object(C.a)(Object(C.a)({},t),{},{icon:K}):t};var _e=Object(d.withRouter)((({history:e})=>{const t=Object(R.a)(),n=Object(O.a)(t,2),i=n[0],s=i.merchants,o=i.selectedMerchant,a=n[1].selectMerchant,l=M().setItem,u=Object(c.useMemo)((()=>s.map(Ee)),[s]);if(0===u.length)return null;const d=Object(O.a)(u,1)[0],b=o?Ee(o):d;return Object(r.jsx)(Ae,{selectedMerchant:b,accounts:u,onChange:t=>{I.b.clear(),a(t.value),l({selectedMerchant:t.value}),e.push("/")}})})),Le=n(76);function De(){const e=Object(z.a)(["\n  margin-right: 6px;\n  width: 20px;\n  height: 20px;\n"]);return De=function(){return e},e}function Ue(){const e=Object(z.a)(["\n  border-radius: 3px;\n  width: 100%;\n  text-align: left;\n  display: flex;\n  height: 30px;\n  align-items: center;\n"]);return Ue=function(){return e},e}function Be(){const e=Object(z.a)(["\n  position: relative;\n\n  &::before {\n    content: '';\n    width: 20px;\n    height: 3px;\n    background: ",";\n    position: absolute;\n  }\n"]);return Be=function(){return e},e}const Ge=Object(F.default)(u.Box)(Be(),(({theme:e})=>e.colors.baseLight)),ze=Object(F.default)($.a)(Ue()),He=Object(F.default)(W.m)(De());var We=()=>{const e=Object(v.a)(),t=Object(O.a)(e,1)[0],n=Object(Le.a)().logout,c=M().clear;return Object(r.jsx)(Ge,{p:0,children:Object(r.jsxs)(u.Box,{pt:2,children:[Object(r.jsx)(u.Text,{fontSize:2,lineHeight:0,mb:1,children:t.name}),Object(r.jsxs)(ze,{onClick:()=>{n(),c()},children:[Object(r.jsx)(He,{}),Object(r.jsx)(u.Text,{fontSize:2,lineHeight:0,children:"Logout"})]})]})})};var Fe=({children:e})=>Object(r.jsxs)(G.a,{gridColumnGap:"72px",gridTemplateColumns:"220px auto",pr:4,pl:"48px",pt:3,height:"100vh",children:[Object(r.jsx)(u.Box,{as:"aside",children:Object(r.jsxs)(G.a,{height:"100%",gridTemplateRows:"50px 70px auto 100px",pb:3,children:[Object(r.jsx)(u.Flex,{as:"div",mb:3,justifyContent:"center",children:Object(r.jsx)(K,{size:"large"})}),Object(r.jsx)(u.Box,{mb:3,children:Object(r.jsx)(_e,{})}),Object(r.jsx)(u.Box,{children:Object(r.jsx)(X,{})}),Object(r.jsx)(We,{})]})}),Object(r.jsx)(u.Box,{as:"main",children:e})]}),Ze=n(52),Je=n.n(Ze);const Ye=Je()({loader:()=>n.e(6).then(n.bind(null,1220)),loading:()=>Object(r.jsx)(p.a,{})}),Ve=Je()({loader:()=>Promise.all([n.e(0),n.e(1),n.e(4),n.e(5),n.e(9)]).then(n.bind(null,1228)),loading:()=>Object(r.jsx)(p.a,{})}),Qe=Je()({loader:()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(20),n.e(11)]).then(n.bind(null,1231)),loading:()=>Object(r.jsx)(p.a,{})}),Xe=Je()({loader:()=>Promise.all([n.e(0),n.e(2),n.e(3),n.e(5),n.e(8)]).then(n.bind(null,1227)),loading:()=>Object(r.jsx)(p.a,{})}),qe=Je()({loader:()=>n.e(7).then(n.bind(null,1232)),loading:()=>Object(r.jsx)(p.a,{})}),Ke=Je()({loader:()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(10)]).then(n.bind(null,1221)),loading:()=>Object(r.jsx)(p.a,{})}),$e=Je()({loader:()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(10)]).then(n.bind(null,1222)),loading:()=>Object(r.jsx)(p.a,{})});var et=()=>{const e=U(),t=e.loading,n=e.error,c=Object(Z.b)().featureFlags;if(n)throw n;return t?Object(r.jsx)(p.a,{}):Object(r.jsx)(Fe,{children:Object(r.jsxs)(d.Switch,{children:[Object(r.jsx)(d.Route,{exact:!0,path:"/",component:qe}),Object(r.jsx)(B,{path:"/blacklists",component:Ye,permission:"prism:blacklist:read"}),Object(r.jsx)(B,{path:"/risk-profiles",component:Ve,permission:"prism:risk-profile:read"}),Object(r.jsx)(B,{path:"/rules",component:Qe,permission:"prism:rule:read"}),Object(r.jsx)(B,{path:"/lists",component:Xe,permission:"prism:list:read"}),Object(r.jsx)(B,{path:"/routing",component:Ke,permission:"prism:routing:read"}),c.TEST_ROUTING&&Object(r.jsx)(B,{path:"/test-routing",component:$e,permission:"prism:routing:read"})]})})};var tt=()=>Object(r.jsxs)(d.Switch,{children:[Object(r.jsx)(d.Route,{path:"/login",component:m}),Object(r.jsx)(d.Route,{path:"/implicit/callback",component:l.ImplicitCallback}),Object(r.jsx)(l.SecureRoute,{path:"/",component:et})]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function nt(){const e=Object(z.a)(["\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  ul {\n    list-style: none;\n  }\n"]);return nt=function(){return e},e}var rt=Object(F.css)(nt());function ct(){const e=Object(z.a)(["\n  ","\n\n  body,\n  div,\n  dl,\n  dt,\n  dd,\n  ul,\n  ol,\n  li,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  pre,\n  code,\n  form,\n  fieldset,\n  legend,\n  input,\n  textarea,\n  p,\n  blockquote,\n  th,\n  td,\n  hr,\n  button,\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section,\n  a {\n    font-family: 'Whitney A', 'Whitney B', sans-serif;\n  }\n\n  code {\n    font-family: 'OCR A Extended';\n    color: rgb(123, 141, 147);\n  }\n\n  body {\n    background: #f2f4f5;\n  }\n\n  *:focus:not(input) {\n    outline: none !important    ;\n    box-shadow: 0 0 0 3px rgba(13, 165, 220, 0.5);\n  }\n\n  *:focus:not(.focus-visible) {\n    outline: none;\n    box-shadow: none;\n  }\n"]);return ct=function(){return e},e}var it=Object(F.css)(ct(),rt);function st(){const e=Object(z.a)(["\n  ","\n"]);return st=function(){return e},e}const ot=Object(F.createGlobalStyle)(st(),it);var at=n(16),lt=n(145),ut=n(73),dt=n(212);var bt=n(143),jt=n(97),ht=n(219),Ot=n(195);var xt={queries:{refetchOnWindowFocus:!1,retry:(e,t)=>!Object(Ot.a)(t)&&e>2}},pt=(n(390),n(140)),ft=n(102);const mt=["prism:blacklist:read","prism:blacklist:write","prism:risk-profile:read","prism:risk-profile:write","prism:list:read","prism:list:write","prism:rule:read","prism:rule:write","prism:routing:read","prism:routing:write"];var gt=()=>{const e=Object(E.a)(),t=e.permissions,n=e.setPermissions,i=e.hasPermission,s=Object(c.useState)(t),o=Object(O.a)(s,1)[0],a=Object(c.useCallback)((e=>{const r=t.find((t=>t.permission===e));return n(r?t.filter((t=>t.permission!==e)):[...t,{permission:e,permission_info:{}}])}),[t,n]);return Object(r.jsxs)(u.Panel,{p:0,mb:3,children:[Object(r.jsxs)(u.Flex,{boxShadow:6,p:3,justifyContent:"space-between",alignItems:"center",children:[Object(r.jsx)(u.TextHeadingTwo,{children:"Permissions"}),Object(r.jsx)(u.OutlineButton,{onClick:()=>{n(o)},children:"Reset permissions"})]}),Object(r.jsx)(u.Box,{p:3,children:mt.map((e=>Object(r.jsx)(u.Box,{mb:3,children:Object(r.jsx)(u.Checkbox,{id:e,checked:i(e),onChange:()=>a(e),label:e})},e)))})]})};const vt=({featureFlag:e,handleFeatureFlagChange:t,checked:n})=>Object(r.jsx)(u.Checkbox,{id:e,checked:n,onChange:n=>{n.preventDefault(),t(e)},label:e});var It=()=>{const e=Object(Z.b)(),t=e.featureFlags,n=e.setFeatureFlags,i=Object.keys(t),s=Object(c.useState)(t),o=Object(O.a)(s,1)[0],a=e=>{try{const r=Object(C.a)({},t),c=void 0===r[e]||!r[e];r[e]=c;const i=JSON.stringify(r);window.localStorage.setItem("feature-flags",i),n(r)}catch(r){return{}}};return Object(r.jsxs)(u.Panel,{p:0,mb:3,children:[Object(r.jsxs)(u.Flex,{boxShadow:6,p:3,justifyContent:"space-between",alignItems:"center",children:[Object(r.jsx)(u.TextHeadingTwo,{children:"Feature flags"}),Object(r.jsx)(u.OutlineButton,{onClick:()=>{window.localStorage.setItem("feature-flags",JSON.stringify(o)),n(o)},children:"Reset feature flags"})]}),Object(r.jsx)(u.Box,{p:3,children:i.map((e=>Object(r.jsx)(u.Box,{mb:3,children:Object(r.jsx)(vt,{featureFlag:e,handleFeatureFlagChange:a,checked:!!t[e]})},e)))})]})};function wt(){const e=Object(z.a)(["\n  ",";\n"]);return wt=function(){return e},e}function St(){const e=Object(z.a)(["\n  color: ",";\n  font-weight: 400;\n  padding: 0;\n  font-size: 14px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  max-width: 100%;\n  svg {\n    vertical-align: text-bottom;\n    margin-left: 5px;\n    flex-shrink: 0; // Prevents the element from shrinking\n  }\n  path {\n    fill: ",";\n  }\n"]);return St=function(){return e},e}const kt=Object(F.default)(u.ClickableElement)(St(),(({theme:e})=>e.colors.successDark),(({theme:e})=>e.colors.successDark)),yt=F.default.textarea(wt(),Object(ee.hideVisually)());var Ct=e=>{let t=e.text,n=e.value,i=void 0===n?t:n,s=Object(k.a)(e,["text","value"]);const o=Object(c.useState)(!1),a=Object(O.a)(o,2),l=a[0],u=a[1],d=Object(c.useRef)(null),b=Object(c.useRef)(null);return Object(c.useEffect)((()=>()=>{b.current&&window.clearTimeout(b.current)}),[]),Object(r.jsxs)(kt,Object(C.a)(Object(C.a)({onClick:e=>{e.preventDefault(),d.current&&!l&&(d.current.select(),document.execCommand("copy"),u(!0),b.current=setTimeout((()=>{u(!1)}),2500))}},s),{},{title:"Click to copy",text:t,children:[Object(r.jsx)(yt,{ref:d,value:i,readOnly:!0}),t,l?Object(r.jsx)(W.b,{}):Object(r.jsx)(W.d,{})]}))};var Tt=()=>{var e,t;const n=Object(R.a)(),c=Object(O.a)(n,1)[0].selectedMerchant;return Object(r.jsxs)(u.Panel,{p:0,mb:3,children:[Object(r.jsx)(u.Flex,{boxShadow:6,px:3,py:2,justifyContent:"space-between",alignItems:"center",children:Object(r.jsx)(u.TextHeadingTwo,{children:"Selected merchant"})}),Object(r.jsxs)(u.Box,{p:3,children:[Object(r.jsxs)(u.Box,{mb:2,children:[Object(r.jsx)(u.Text,{children:"Name"}),Object(r.jsx)(u.Text,{color:"focus",fontSize:2,children:null===c||void 0===c?void 0:c.name})]}),(null===c||void 0===c?void 0:c.id)&&Object(r.jsxs)(u.Box,{mb:2,children:[Object(r.jsx)(u.Text,{children:"ID"}),Object(r.jsx)(Ct,{text:null!==(e=null===c||void 0===c?void 0:c.id)&&void 0!==e?e:"",value:null!==(t=null===c||void 0===c?void 0:c.id)&&void 0!==t?t:""})]}),Object(r.jsxs)(u.Box,{mb:2,children:[Object(r.jsx)(u.Text,{children:"Tier"}),Object(r.jsx)(u.Text,{color:"focus",fontSize:2,children:null===c||void 0===c?void 0:c.tier})]}),Object(r.jsxs)(u.Box,{mb:2,children:[Object(r.jsx)(u.Text,{children:"Risk engine"}),Object(r.jsx)(u.Text,{color:"focus",fontSize:2,children:null===c||void 0===c?void 0:c.risk_engine_type})]}),Object(r.jsxs)(u.Box,{mb:2,children:[Object(r.jsx)(u.Text,{children:"ml_score_enabled"}),Object(r.jsx)(u.Text,{color:"focus",fontSize:2,children:null===c||void 0===c?void 0:c.ml_score_enabled.toString()})]})]})]})};var Mt=()=>Object(r.jsxs)(u.Panel,{p:0,mb:3,children:[Object(r.jsx)(u.Flex,{boxShadow:6,px:3,py:2,justifyContent:"space-between",alignItems:"center",children:Object(r.jsx)(u.TextHeadingTwo,{children:"Config"})}),Object(r.jsx)(u.Box,{p:4,children:Object(r.jsx)("pre",{children:Object(r.jsx)("code",{children:JSON.stringify(at.a,null,2)})})})]});function Rt(){const e=Object(z.a)(["\n  position: fixed;\n  bottom: 10px;\n  right: 10px;\n  z-index: 9999;\n"]);return Rt=function(){return e},e}const Pt=F.default.div(Rt());var Nt=()=>{const e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),o=Object(O.a)(s,2),a=o[0],l=o[1],d=Object(v.a)(),b=Object(O.a)(d,1)[0];return Object(c.useEffect)((()=>{let e=!1;try{const t=localStorage.getItem("prism-debugger");e=t&&JSON.parse(t)&&"internal"===(null===b||void 0===b?void 0:b.type)||!1}catch(t){}i(e)}),[b]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ft.a,{on:n&&!a,children:Object(r.jsx)(Pt,{children:Object(r.jsx)(u.ClickableElement,{onClick:()=>l((e=>!e)),children:Object(r.jsx)("img",{alt:"",width:"35",height:"35",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzcwcHgiIGhlaWdodD0iMzcwcHgiIHZpZXdCb3g9IjAgMCAzNzAgMzcwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjRkZGRkZGOyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDY0ICg5MzUzNykgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+cHJpc20tbG9nbzwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxlbGxpcHNlIGlkPSJPdmFsIiBmaWxsPSIjMEUzQTUxIiBjeD0iMTg1IiBjeT0iMTg1LjUiIHJ4PSIxODUiIHJ5PSIxODQuNSI+PC9lbGxpcHNlPgogICAgICAgIDxwb2x5Z29uIGlkPSJQYXRoIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMTAiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHBvaW50cz0iMTgzLjg5MTU5MSA1MS41NjQ0NTMxIDYxLjIwMzEyNSAyNjIuMzE5NzI5IDE4My44OTE1OTEgMzE5LjU2NDQ1MyAzMDkuMjAzMTI1IDI2Mi4zMTk3MjkiPjwvcG9seWdvbj4KICAgICAgICA8cG9seWxpbmUgaWQ9IlBhdGgtMiIgc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2Utd2lkdGg9IjEwIiBwb2ludHM9IjE4NC43MDMxMjUgMzE5LjU2NDQ1MyAxODQuNzAzMTI1IDIyNS43NDczMjYgMTg0LjcwMzEyNSA1MS41NjQ0NTMxIj48L3BvbHlsaW5lPgogICAgICAgIDxwb2x5bGluZSBpZD0iUGF0aC0zIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMTAiIHBvaW50cz0iNjEuMjAzMTI1IDI2Mi41NjQ0NTMgMTg1LjIwMzEyNSAyMjIuNTY0NDUzIDMwOS4yMDMxMjUgMjYyLjU2NDQ1MyI+PC9wb2x5bGluZT4KICAgICAgICA8bGluZSB4MT0iMjczLjIwMzEyNSIgeTE9IjE5NS4wNjQ0NTMiIHgyPSIyOTcuMDM3MjYiIHkyPSIxOTUuMDY0NDUzIiBpZD0iUGF0aC00IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9saW5lPgogICAgICAgIDxsaW5lIHgxPSI1MC4yMDMxMjUiIHkxPSIxNTYuMDY0NDUzIiB4Mj0iMTU0LjY4NzY1OCIgeTI9IjE1Ni4wNjQ0NTMiIGlkPSJQYXRoLTQiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48L2xpbmU+CiAgICAgICAgPGxpbmUgeDE9IjIyMS4yMDMxMjUiIHkxPSIxMTMuMDY0NDUzIiB4Mj0iMjg1LjUxNzc2MiIgeTI9IjExMy4wNjQ0NTMiIGlkPSJQYXRoLTQiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48L2xpbmU+CiAgICA8L2c+Cjwvc3ZnPg=="})})})}),Object(r.jsx)(ft.a,{on:a,children:Object(r.jsxs)(u.Drawer,{handleClose:()=>l(!1),children:[Object(r.jsx)(u.DrawerHeader,{children:Object(r.jsx)(u.TextHeadingOne,{fontSize:4,lineHeight:"40px",color:"focusLight",fontWeight:500,margin:0,textTransform:"uppercase",children:"Prism debugger"})}),Object(r.jsxs)(u.Box,{m:3,children:[Object(r.jsx)(Tt,{}),Object(r.jsx)(Mt,{}),Object(r.jsx)(gt,{}),Object(r.jsx)(It,{})]})]})})]})},At=n(220),Et=n(144),_t=n(107);var Lt={[P.f.RoutingSavePrompt]:Et.a,[P.f.SwitchRiskProfilesSavePrompt]:e=>Object(r.jsx)(_t.a,Object(C.a)({type:"switch"},e)),[P.f.LeaveRiskProfilesSavePrompt]:e=>Object(r.jsx)(_t.a,Object(C.a)({type:"leave"},e))};const Dt=i.a.createContext(void 0);var Ut=({children:e})=>{const t=Object(c.useState)(null),n=Object(O.a)(t,2),i=n[0],s=n[1],o=Object(c.useMemo)((()=>({openSavePrompt:(e,t)=>{s({key:e,onConfirmation:()=>{t(!0)},onDismiss:()=>{t(!1)}})}})),[]),a=i?Lt[i.key]:null;return Object(r.jsxs)(Dt.Provider,{value:o,children:[a&&Object(r.jsx)(a,{onConfirmation:()=>{null===i||void 0===i||i.onConfirmation(),s(null)},onDismiss:()=>{null===i||void 0===i||i.onDismiss(),s(null)}}),e]})};"prod"===at.a.ENV&&((()=>{var e,t,n,r;e=window,t=document,e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:1748882,hjsv:6},n=t.getElementsByTagName("head")[0],(r=t.createElement("script")).async=1,r.src="https://static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,n.appendChild(r)})(),At.a.init({applicationId:"ebc81b29-9998-490a-a5b8-e465904cd1b4",clientToken:"pubf1518f9fba0a576a86da5bf838fe29a1",site:"datadoghq.com",service:"Prism UI",env:"production",version:at.a.VERSION,sampleRate:100,trackInteractions:!0}));const Bt=({children:e})=>{const t=(()=>{const e=Object(c.useContext)(Dt);if(void 0===e)throw new Error("useSavePrompts must be used within a SavePromptsContext");return e})().openSavePrompt;return Object(r.jsx)(I.a,{config:xt,children:Object(r.jsx)(pt.b,{children:Object(r.jsx)(a.BrowserRouter,{getUserConfirmation:t,children:Object(r.jsx)(l.Security,{issuer:at.a.OKTA_ISSUER,client_id:at.a.OKTA_CLIENT_ID,redirect_uri:window.location.origin+"/implicit/callback",onAuthRequired:({history:e})=>{e.push("/login")},children:Object(r.jsx)(dt.b,{fallback:Object(r.jsx)(bt.b,{}),children:Object(r.jsx)(lt.b,{children:Object(r.jsx)(ut.c,{children:Object(r.jsx)(jt.b,{children:Object(r.jsxs)(Z.a,{children:[Object(r.jsx)(Nt,{}),e]})})})})})})})})})};o.a.render(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ot,{}),Object(r.jsx)(u.ThemeDefaultProvider,{children:Object(r.jsx)(Ut,{children:Object(r.jsxs)(Bt,{children:[Object(r.jsx)(ht.ReactQueryDevtools,{initialIsOpen:!1}),Object(r.jsx)(tt,{})]})})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(7),c=n(50),i=n(0);var s=()=>{const e=Object(c.a)(),t=Object(r.a)(e,2),n=t[0].permissions,s=t[1],o=Object(i.useCallback)((e=>{s({type:"SET_PERMISSIONS",payload:e})}),[s]),a=Object(i.useCallback)((e=>void 0!==n.find((t=>t.permission===e))),[n]);return{permissions:n,setPermissions:o,hasPermission:a}}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),c=n(73);var i=()=>[(()=>{const e=Object(r.useContext)(c.b);if(void 0===e)throw new Error("useGlobalState must be used within a GlobalStateContext");return e})(),(()=>{const e=Object(r.useContext)(c.a);if(void 0===e)throw new Error("useGlobalDispatch must be used within a GlobalDispatchContext");return e})()]},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(6),c=n(1),i=n(22),s=n(8),o=(n(0),n(5)),a=n(41),l=n(12);function u(){const e=Object(s.a)(["\n  ","\n\n  ","\n  ","\n\n  ","\n  ","\n\n  &.active {\n    color: #1da177;\n  }\n"]);return u=function(){return e},e}function d(){const e=Object(s.a)(["\n  ","\n\n  ","\n  ","\n\n  ","\n  ","\n\n  &.active {\n    color: #1da177;\n    background-color: rgba(45, 179, 136, 0.13);\n  }\n"]);return d=function(){return e},e}function b(){const e=Object(s.a)(["\n  font-size: 13px;\n  line-height: 16px;\n  font-weight: 400;\n  color: #7b8d93;\n  text-decoration: none;\n  padding: 8px 12px;\n  border-radius: 3px;\n\n  &:hover {\n    color: #2f4048;\n  }\n"]);return b=function(){return e},e}const j=Object(o.css)(b()),h=Object(o.default)(a.NavLink)(d(),j,Object(l.display)("inline-block"),l.display,Object(l.space)({mb:2}),l.space),O=Object(o.default)(a.NavLink)(u(),j,Object(l.display)("inline-block"),l.display,Object(l.space)({mb:2,px:0}),l.space);t.b=e=>{let t=e.children,n=Object(i.a)(e,["children"]);return Object(c.jsx)(h,Object(r.a)(Object(r.a)({activeClassName:"active"},n),{},{children:t}))}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(17),c=n.n(r),i=n(6),s=n(25),o=n(139),a=n(0),l=n(138);var u=(e={})=>{const t=Object(o.a)();return Object(a.useCallback)(function(){var n=Object(s.a)(c.a.mark((function n(r,s=e,o=!1){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return a=e.sent,e.abrupt("return",Object(l.b)(r,Object(i.a)(Object(i.a)({},s),{},{headers:Object(i.a)(Object(i.a)({},a),s&&s.headers)}),o));case 4:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e])}},63:function(e,t,n){"use strict";var r=n(6);let c={ENV:"DOCKER_APP_ENV",API_URL:"DOCKER_APP_API_BASE_URL",OKTA_CLIENT_ID:"DOCKER_APP_OKTA_CLIENT_ID",OKTA_ISSUER:"DOCKER_APP_OKTA_ISSUER",LOGIN_URL:"/login",TEST_ENV:!1,LINKS:{RULES_DOCS:"https://docs.google.com/document/d/e/2PACX-1vSd8w0u_2Z9ya9VY4cahsISPSXrXcOvV6XppfSBJovvqoUBWx1BPtUG0twcrefWtbcga8R1OcO3CmXl/pub"}};c=Object(r.a)(Object(r.a)({},c),{},{VERSION:"DOCKER_APP_VERSION"}),t.a=c},73:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(1),c=n(7),i=n(6),s=n(0),o=n.n(s);const a={merchants:[],selectedMerchant:null,permissions:[],user:null},l=o.a.createContext(void 0),u=(e,t)=>{switch(t.type){case"SET_ACCOUNTS":return Object(i.a)(Object(i.a)({},e),{},{merchants:t.payload});case"SELECT_ACCOUNT":return Object(i.a)(Object(i.a)({},e),{},{selectedMerchant:t.payload});case"SET_PERMISSIONS":return Object(i.a)(Object(i.a)({},e),{},{permissions:t.payload});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.payload});default:return e}},d=o.a.createContext(void 0),b=({children:e})=>{const t=o.a.useReducer(u,a),n=Object(c.a)(t,2),i=n[0],s=n[1];return Object(r.jsx)(l.Provider,{value:i,children:Object(r.jsx)(d.Provider,{value:s,children:e})})}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(97),c=n(0);var i=()=>{const e=Object(c.useContext)(r.a);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));var r=n(1),c=n(7),i=n(0);let s;!function(e){e.One="3DS1",e.Two="3DS2"}(s||(s={}));const o=Object(i.createContext)(void 0),a=()=>{const e=Object(i.useContext)(o);if(void 0===e)throw new Error("useThreeDSVersion must be used within a ThreeDSVersionContextProvider");return{version:e.version,setVersion:e.setVersion}};t.b=({children:e})=>{const t=Object(i.useState)(s.Two),n=Object(c.a)(t,2),a=n[0],l=n[1],u=Object(i.useMemo)((()=>({version:a,setVersion:l})),[a]);return Object(r.jsx)(o.Provider,{value:u,children:e})}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8);function c(){const e=Object(r.a)(["\n  padding: 0;\n  border: none;\n  font: inherit;\n  color: inherit;\n  background-color: transparent;\n  cursor: pointer;\n\n  &:focus {\n    outline: 2px solid rgba(42, 171, 130, 0.5);\n  }\n"]);return c=function(){return e},e}var i=n(5).default.button(c())},96:function(e,t,n){"use strict";var r=n(63);let c;!function(e){e.DOWNLOAD_TRANSACTION_SUMMARIES="DOWNLOAD_TRANSACTION_SUMMARIES",e.LOGGING_ERROR_BOUNDARY="LOGGING_ERROR_BOUNDARY",e.ROUTING_ML_MODULE="ROUTING_ML_MODULE",e.TEST_ROUTING="TEST_ROUTING"}(c||(c={}));const i={DOWNLOAD_TRANSACTION_SUMMARIES:!0,LOGGING_ERROR_BOUNDARY:"prod"!==r.a.ENV,ROUTING_ML_MODULE:!1,TEST_ROUTING:!1},s=r.a.TEST_ENV?{DOWNLOAD_TRANSACTION_SUMMARIES:!0,LOGGING_ERROR_BOUNDARY:!1,ROUTING_ML_MODULE:!1,TEST_ROUTING:!0}:i;t.a=s},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(1),c=n(0),i=n.n(c),s=n(28);const o=i.a.createContext(void 0),a=Object(s.withAuth)((({auth:e,children:t})=>{const n=Object(c.useMemo)((()=>e),[e]);return Object(r.jsx)(o.Provider,{value:n,children:t})}));o.Consumer}},[[439,15,17]]]);
//# sourceMappingURL=main.5e43e269.chunk.js.map